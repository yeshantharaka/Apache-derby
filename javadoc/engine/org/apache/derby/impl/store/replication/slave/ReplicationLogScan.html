<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_66) on Mon Jul 03 23:05:08 IST 2017 -->
<title>ReplicationLogScan (Apache Derby V10.13 Internals)</title>
<meta name="date" content="2017-07-03">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ReplicationLogScan (Apache Derby V10.13 Internals)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../../../org/apache/derby/impl/store/replication/slave/SlaveController.html" title="class in org.apache.derby.impl.store.replication.slave"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/derby/impl/store/replication/slave/ReplicationLogScan.html" target="_top">Frames</a></li>
<li><a href="ReplicationLogScan.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.derby.impl.store.replication.slave</div>
<h2 title="Class ReplicationLogScan" class="title">Class ReplicationLogScan</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.derby.impl.store.replication.slave.ReplicationLogScan</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>class <span class="typeNameLabel">ReplicationLogScan</span>
extends java.lang.Object</pre>
<div class="block"><p>
 Scan a chunk of log received from the master. The log chunk (byte[]
 logToScan) is assumed to always contain (an unknown) number of
 complete log records. If the last log record is incomplete,
 something is wrong. This will raise a StandardException, and will
 probably mean that replication has to be aborted. That decision is
 not made here, though.
 </p>
 <p>
 When a new chunk of log records is to be scanned, ReplicationLogScan
 is initialized by calling init(...). Every time next() is called
 after that, ReplicationLogScan reads a new log record from
 logToScan. If next() returns true, the next log record was
 successfully read. The information in this last read log record
 either indicates that a log file switch has taken place on the
 master (isLogSwitch() = true) or it is a normal log record which
 information can be retrieved by using the get-methods (if
 isLogRecord() = true).
 </p>
 <p>
 Threads: The class does not provide thread synchronization since it
 is assumed that only one thread will be receiving and applying log
 per replicated database when in slave mode. Since a
 ReplicationLogScan object belongs to only one slave database, this
 means that only one thread will access the object.
 </p>
 <p>
 The format of the log chunk byte[] is defined in 
 org.apache.derby.impl.store.raw.log.LogAccessFile
 </p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/impl/store/raw/log/LogAccessFile.html" title="class in org.apache.derby.impl.store.raw.log"><code>LogAccessFile</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/slave/ReplicationLogScan.html#currentData">currentData</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/slave/ReplicationLogScan.html#currentDataOffset">currentDataOffset</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/slave/ReplicationLogScan.html#currentInstant">currentInstant</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/slave/ReplicationLogScan.html#currentPosition">currentPosition</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/slave/ReplicationLogScan.html#hasInfo">hasInfo</a></span></code>
<div class="block">hasInfo = true when the scan will return meaningful
 information, either in the form of a log record (in which case
 the above variables will be set), or when it has found a log
 record indicating that a log file switch has taken place on the
 master (isLogSwitch = true). hasInfo = false before next() is
 called for the first time, after next() has reached the end of
 logToScan and if an error occured when parsing logToScan (i.e.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/slave/ReplicationLogScan.html#isLogSwitch">isLogSwitch</a></span></code>
<div class="block">true if the last read log record indicates a log switch, false
 if it is a normal log record private boolean isLogSwitch;</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/slave/ReplicationLogScan.html#logToScan">logToScan</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/slave/ReplicationLogScan.html#ReplicationLogScan--">ReplicationLogScan</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/slave/ReplicationLogScan.html#getData--">getData</a></span>()</code>
<div class="block">Method to get the data byte[] read by the last call to next().</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/slave/ReplicationLogScan.html#getDataLength--">getDataLength</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/slave/ReplicationLogScan.html#getInstant--">getInstant</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/slave/ReplicationLogScan.html#hasValidInformation--">hasValidInformation</a></span>()</code>
<div class="block">Used to determine whether or not the last call to next() was
 successful.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/slave/ReplicationLogScan.html#init-byte:A-">init</a></span>(byte[]&nbsp;logToScan)</code>
<div class="block">Set all variables to default values, and makes logToScan the
 byte[] that will be scanned for log records.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/slave/ReplicationLogScan.html#isLogFileSwitch--">isLogFileSwitch</a></span>()</code>
<div class="block">Used to determine whether the last call to next() found a log
 file switch</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/slave/ReplicationLogScan.html#isLogRecord--">isLogRecord</a></span>()</code>
<div class="block">Used to determine whether the last call to next() read a log
 record</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/slave/ReplicationLogScan.html#next--">next</a></span>()</code>
<div class="block">
 Read the next log record in logToScan.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/slave/ReplicationLogScan.html#retrieveBytes-byte:A-int-">retrieveBytes</a></span>(byte[]&nbsp;readInto,
             int&nbsp;length)</code>
<div class="block">Copy length number of bytes from logToScan into readInto.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/slave/ReplicationLogScan.html#retrieveInt--">retrieveInt</a></span>()</code>
<div class="block">Read an int from logToScan.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/slave/ReplicationLogScan.html#retrieveLong--">retrieveLong</a></span>()</code>
<div class="block">Read a long from logToScan.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="logToScan">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logToScan</h4>
<pre>private&nbsp;byte[] logToScan</pre>
</li>
</ul>
<a name="currentPosition">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>currentPosition</h4>
<pre>private&nbsp;int currentPosition</pre>
</li>
</ul>
<a name="currentInstant">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>currentInstant</h4>
<pre>private&nbsp;long currentInstant</pre>
</li>
</ul>
<a name="currentDataOffset">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>currentDataOffset</h4>
<pre>private&nbsp;int currentDataOffset</pre>
</li>
</ul>
<a name="currentData">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>currentData</h4>
<pre>private&nbsp;byte[] currentData</pre>
</li>
</ul>
<a name="hasInfo">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasInfo</h4>
<pre>private&nbsp;boolean hasInfo</pre>
<div class="block">hasInfo = true when the scan will return meaningful
 information, either in the form of a log record (in which case
 the above variables will be set), or when it has found a log
 record indicating that a log file switch has taken place on the
 master (isLogSwitch = true). hasInfo = false before next() is
 called for the first time, after next() has reached the end of
 logToScan and if an error occured when parsing logToScan (i.e.
 when next() has thrown a StandardException)</div>
</li>
</ul>
<a name="isLogSwitch">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isLogSwitch</h4>
<pre>private&nbsp;boolean isLogSwitch</pre>
<div class="block">true if the last read log record indicates a log switch, false
 if it is a normal log record private boolean isLogSwitch;</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ReplicationLogScan--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ReplicationLogScan</h4>
<pre>protected&nbsp;ReplicationLogScan()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="init-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>protected&nbsp;void&nbsp;init(byte[]&nbsp;logToScan)</pre>
<div class="block">Set all variables to default values, and makes logToScan the
 byte[] that will be scanned for log records.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>logToScan</code> - A chunk of log records received from the
 master</dd>
</dl>
</li>
</ul>
<a name="next--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>next</h4>
<pre>protected&nbsp;boolean&nbsp;next()
                throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><p>
 Read the next log record in logToScan. The information in this
 log record can be read by using the getXXX methods.
 </p>
 <p>
 Side effects: <br>
 <br>
 On a successful read (return true): either...<br>
<br>
 ... the scan read a log record indicating that a log file
 switch has taken place on the master, in which case
 isLogFileSwitch() returns true. In this case, getXXX will not
 contain valid data. Asserts handle calls to these methods when
 in sane mode. currentPosition is updated to point to the byte
 immediately following this log file switch log record.<br>
<br>
 ... or the scan read a normal log record, in which case
 isLogRecord() returns true. Also sets currentInstant and
 currentData, and updates currentPosition to point to the byte
 immediatly following the log record. In this case, getXXX will
 return meaningful information about the log record.
 </p>
 <p>
 If there are no more log records in logToScan (returns false) or
 a problem occurs (throws StandardException): setting
 hasInfo = false
 </p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if a log record was successfully read, false if end
 of logToScan has been reached.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - if logToScan is found to be corrupted.</dd>
</dl>
</li>
</ul>
<a name="getInstant--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstant</h4>
<pre>protected&nbsp;long&nbsp;getInstant()
                   throws java.util.NoSuchElementException</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The instant of the log record read by the last call to
 next(). Only returns meaningful information if isLogRecord()
 returns true.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.util.NoSuchElementException</code> - if next() has not been called or
 if there are no more log records in this chunk of log. Should
 never be thrown unless ReplicationLogScan is used in a wrong
 way.</dd>
</dl>
</li>
</ul>
<a name="getDataLength--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDataLength</h4>
<pre>protected&nbsp;int&nbsp;getDataLength()
                     throws java.util.NoSuchElementException</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of bytes in the byte[] returned by getData()
 for the log record read by the last call to next(). Only
 returns meaningful information if isLogRecord() returns true.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.util.NoSuchElementException</code> - if next() has not been called or
 if there are no more log records in this chunk of log. Should
 never be thrown unless ReplicationLogScan is used in a wrong
 way.</dd>
</dl>
</li>
</ul>
<a name="getData--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getData</h4>
<pre>protected&nbsp;byte[]&nbsp;getData()
                  throws java.util.NoSuchElementException</pre>
<div class="block">Method to get the data byte[] read by the last call to next().
 Note that this byte[] contains both byte[] data and byte[]
 optional_data from LogAccessFile. To split this byte[] into
 data and optional_data, we would need to create a Loggable
 object from it because the log does not provide information on
 where to split. There is no need to split since this byte[]
 will only be written to the slave log anyway. If it was split,
 LogAccessFile would simply merge them when writing to file.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The byte[] containing data+optional_data of the log
 record read by the last call to next(). Only returns meaningful
 information if isLogRecord() returns true.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.util.NoSuchElementException</code> - if next() has not been called or
 if there are no more log records in this chunk of log. Should
 never be thrown unless ReplicationLogScan is used in a wrong
 way.</dd>
</dl>
</li>
</ul>
<a name="hasValidInformation--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasValidInformation</h4>
<pre>protected&nbsp;boolean&nbsp;hasValidInformation()</pre>
<div class="block">Used to determine whether or not the last call to next() was
 successful.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if next() has been called and the end of the log
 chunk has not yet been reached. Returns the same answer as the
 last call to next() did. Use isLogFileSwitch() and
 isLogRecord() to find out if the current log record indicates a
 log file switch or is a normal log record.</dd>
</dl>
</li>
</ul>
<a name="isLogRecord--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isLogRecord</h4>
<pre>protected&nbsp;boolean&nbsp;isLogRecord()
                       throws java.util.NoSuchElementException</pre>
<div class="block">Used to determine whether the last call to next() read a log
 record</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the last call to next() found a normal log
 record.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.util.NoSuchElementException</code> - if next() has not been called or
 if there are no more log records in this chunk of log. Should
 never be thrown unless ReplicationLogScan is used in a wrong
 way.</dd>
</dl>
</li>
</ul>
<a name="isLogFileSwitch--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isLogFileSwitch</h4>
<pre>protected&nbsp;boolean&nbsp;isLogFileSwitch()
                           throws java.util.NoSuchElementException</pre>
<div class="block">Used to determine whether the last call to next() found a log
 file switch</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the last call to next() found a log record
 indicating a log file switch has taken place on the master.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.util.NoSuchElementException</code> - if next() has not been called or
 if there are no more log records in this chunk of log. Should
 never be thrown unless ReplicationLogScan is used in a wrong
 way.</dd>
</dl>
</li>
</ul>
<a name="retrieveBytes-byte:A-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>retrieveBytes</h4>
<pre>private&nbsp;void&nbsp;retrieveBytes(byte[]&nbsp;readInto,
                           int&nbsp;length)
                    throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Copy length number of bytes from logToScan into readInto.
 Starts to copy from currentPosition. Also increments
 currentPosition by length.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>readInto</code> - The byte[] copied to</dd>
<dd><code>length</code> - The number of bytes copied from logToScan to readInto</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - if there are less then length bytes
 left to read in logToScan, meaning that the chunk of log is
 corrupt.</dd>
</dl>
</li>
</ul>
<a name="retrieveInt--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>retrieveInt</h4>
<pre>private&nbsp;int&nbsp;retrieveInt()
                 throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Read an int from logToScan. Also increments currentPosition by
 4 (the number of bytes in an int).</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an int read from logToScan</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - if there are less then 4 bytes left
 to read in logToScan, meaning that the chunk of log is corrupt.</dd>
</dl>
</li>
</ul>
<a name="retrieveLong--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>retrieveLong</h4>
<pre>private&nbsp;long&nbsp;retrieveLong()
                   throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Read a long from logToScan. Also increments currentPosition by
 8 (the number of bytes in a long).</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a long read from logToScan</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - if there are less then 8 bytes left
 to read in logToScan, meaning that the chunk of log is corrupt.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Built on Mon 2017-07-03 23:03:59+0530, from revision Unversioned directory</div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../../../org/apache/derby/impl/store/replication/slave/SlaveController.html" title="class in org.apache.derby.impl.store.replication.slave"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/derby/impl/store/replication/slave/ReplicationLogScan.html" target="_top">Frames</a></li>
<li><a href="ReplicationLogScan.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Apache Derby V10.13 Internals - <i>Copyright &copy; 2004,2016 The Apache Software Foundation. All Rights Reserved.</i></small></p>
</body>
</html>
