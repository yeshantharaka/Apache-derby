<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_66) on Mon Jul 03 23:05:05 IST 2017 -->
<title>MasterController (Apache Derby V10.13 Internals)</title>
<meta name="date" content="2017-07-03">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="MasterController (Apache Derby V10.13 Internals)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../org/apache/derby/impl/store/replication/master/LogShipper.html" title="interface in org.apache.derby.impl.store.replication.master"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/derby/impl/store/replication/master/MasterController.html" target="_top">Frames</a></li>
<li><a href="MasterController.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.derby.impl.store.replication.master</div>
<h2 title="Class MasterController" class="title">Class MasterController</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.derby.impl.store.replication.master.MasterController</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/services/monitor/ModuleControl.html" title="interface in org.apache.derby.iapi.services.monitor">ModuleControl</a>, <a href="../../../../../../../org/apache/derby/iapi/services/monitor/ModuleSupportable.html" title="interface in org.apache.derby.iapi.services.monitor">ModuleSupportable</a>, <a href="../../../../../../../org/apache/derby/iapi/store/replication/master/MasterFactory.html" title="interface in org.apache.derby.iapi.store.replication.master">MasterFactory</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">MasterController</span>
extends java.lang.Object
implements <a href="../../../../../../../org/apache/derby/iapi/store/replication/master/MasterFactory.html" title="interface in org.apache.derby.iapi.store.replication.master">MasterFactory</a>, <a href="../../../../../../../org/apache/derby/iapi/services/monitor/ModuleControl.html" title="interface in org.apache.derby.iapi.services.monitor">ModuleControl</a>, <a href="../../../../../../../org/apache/derby/iapi/services/monitor/ModuleSupportable.html" title="interface in org.apache.derby.iapi.services.monitor">ModuleSupportable</a></pre>
<div class="block"><p> 
 This is an implementation of the replication master controller
 service. The service is booted when this instance of Derby will
 have the replication master role for this database.
 </p> 
 <p>
 Note: The current version of the class is far from complete. Code
 to control the replication master behavior will be added as more
 parts of the replication functionality is added to Derby. 
 </p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/replication/master/MasterFactory.html" title="interface in org.apache.derby.iapi.store.replication.master"><code>MasterFactory</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/master/MasterController.html#active">active</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/master/MasterController.html#dataFactory">dataFactory</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/master/MasterController.html#dbname">dbname</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/master/MasterController.html#DEFAULT_LOG_BUFFER_SIZE">DEFAULT_LOG_BUFFER_SIZE</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/master/MasterController.html#LOG_BUFFER_SIZE_MAX">LOG_BUFFER_SIZE_MAX</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/master/MasterController.html#LOG_BUFFER_SIZE_MIN">LOG_BUFFER_SIZE_MIN</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/impl/store/replication/buffer/ReplicationLogBuffer.html" title="class in org.apache.derby.impl.store.replication.buffer">ReplicationLogBuffer</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/master/MasterController.html#logBuffer">logBuffer</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/master/MasterController.html#logBufferSize">logBufferSize</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html" title="interface in org.apache.derby.iapi.store.raw.log">LogFactory</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/master/MasterController.html#logFactory">logFactory</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/impl/store/replication/master/AsynchronousLogShipper.html" title="class in org.apache.derby.impl.store.replication.master">AsynchronousLogShipper</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/master/MasterController.html#logShipper">logShipper</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/iapi/store/raw/RawStoreFactory.html" title="interface in org.apache.derby.iapi.store.raw">RawStoreFactory</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/master/MasterController.html#rawStoreFactory">rawStoreFactory</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/master/MasterController.html#replicationMode">replicationMode</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/impl/store/replication/ReplicationLogger.html" title="class in org.apache.derby.impl.store.replication">ReplicationLogger</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/master/MasterController.html#repLogger">repLogger</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/master/MasterController.html#SLAVE_CONNECTION_ATTEMPT_TIMEOUT">SLAVE_CONNECTION_ATTEMPT_TIMEOUT</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/impl/store/replication/net/SlaveAddress.html" title="class in org.apache.derby.impl.store.replication.net">SlaveAddress</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/master/MasterController.html#slaveAddr">slaveAddr</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/impl/store/replication/net/ReplicationMessageTransmit.html" title="class in org.apache.derby.impl.store.replication.net">ReplicationMessageTransmit</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/master/MasterController.html#transmitter">transmitter</a></span></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.apache.derby.iapi.store.replication.master.MasterFactory">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;org.apache.derby.iapi.store.replication.master.<a href="../../../../../../../org/apache/derby/iapi/store/replication/master/MasterFactory.html" title="interface in org.apache.derby.iapi.store.replication.master">MasterFactory</a></h3>
<code><a href="../../../../../../../org/apache/derby/iapi/store/replication/master/MasterFactory.html#ASYNCHRONOUS_MODE">ASYNCHRONOUS_MODE</a>, <a href="../../../../../../../org/apache/derby/iapi/store/replication/master/MasterFactory.html#MODULE">MODULE</a>, <a href="../../../../../../../org/apache/derby/iapi/store/replication/master/MasterFactory.html#REPLICATION_MODE">REPLICATION_MODE</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/master/MasterController.html#MasterController--">MasterController</a></span>()</code>
<div class="block">Empty constructor required by Monitor.bootServiceModule</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/master/MasterController.html#appendLog-long-byte:A-int-int-">appendLog</a></span>(long&nbsp;greatestInstant,
         byte[]&nbsp;log,
         int&nbsp;logOffset,
         int&nbsp;logLength)</code>
<div class="block">Append a chunk of log records to the log buffer.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/master/MasterController.html#boot-boolean-java.util.Properties-">boot</a></span>(boolean&nbsp;create,
    java.util.Properties&nbsp;properties)</code>
<div class="block">Used by Monitor.bootServiceModule to start the service.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/master/MasterController.html#canSupport-java.util.Properties-">canSupport</a></span>(java.util.Properties&nbsp;startParams)</code>
<div class="block">Used by Monitor.bootServiceModule to check if this class is
 usable for replication.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/master/MasterController.html#flushedTo-long-">flushedTo</a></span>(long&nbsp;instant)</code>
<div class="block">Used by the LogFactory to notify the replication master
 controller that the log records up to this instant have been
 flushed to disk.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>(package private) java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/master/MasterController.html#getDbName--">getDbName</a></span>()</code>
<div class="block">
 Returns a name of a database associated with this master
 controller.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/master/MasterController.html#getHostName--">getHostName</a></span>()</code>
<div class="block">Used to return the host name of the slave being connected to.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/master/MasterController.html#getMasterProperties--">getMasterProperties</a></span>()</code>
<div class="block">Load relevant system property: replication log buffer size</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/master/MasterController.html#getPortNumber--">getPortNumber</a></span>()</code>
<div class="block">Used to return the port number of the slave being connected to.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>(package private) <a href="../../../../../../../org/apache/derby/impl/store/replication/net/ReplicationMessageTransmit.html" title="class in org.apache.derby.impl.store.replication.net">ReplicationMessageTransmit</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/master/MasterController.html#handleExceptions-java.lang.Exception-">handleExceptions</a></span>(java.lang.Exception&nbsp;exception)</code>
<div class="block">Used to handle the exceptions (IOException and StandardException) from 
 the log shipper.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/master/MasterController.html#handleFailoverFailure-java.lang.Throwable-">handleFailoverFailure</a></span>(java.lang.Throwable&nbsp;t)</code>
<div class="block">used to handle the case when an attempt to failover the database
 fails.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/master/MasterController.html#printStackAndStopMaster-java.lang.Exception-">printStackAndStopMaster</a></span>(java.lang.Exception&nbsp;e)</code>
<div class="block">used to print the error stack for the given exception and
 stop the master.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/master/MasterController.html#setupConnection--">setupConnection</a></span>()</code>
<div class="block">Connects to the slave being replicated to.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/master/MasterController.html#startFailover--">startFailover</a></span>()</code>
<div class="block">Will perform all work needed to failover</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/master/MasterController.html#startMaster-org.apache.derby.iapi.store.raw.RawStoreFactory-org.apache.derby.iapi.store.raw.data.DataFactory-org.apache.derby.iapi.store.raw.log.LogFactory-java.lang.String-int-java.lang.String-">startMaster</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/RawStoreFactory.html" title="interface in org.apache.derby.iapi.store.raw">RawStoreFactory</a>&nbsp;rawStore,
           <a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a>&nbsp;dataFac,
           <a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html" title="interface in org.apache.derby.iapi.store.raw.log">LogFactory</a>&nbsp;logFac,
           java.lang.String&nbsp;slavehost,
           int&nbsp;slaveport,
           java.lang.String&nbsp;dbname)</code>
<div class="block">Will perform all the work that is needed to set up replication.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/master/MasterController.html#stop--">stop</a></span>()</code>
<div class="block">Will stop the replication master service.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/master/MasterController.html#stopMaster--">stopMaster</a></span>()</code>
<div class="block">Will perform all work that is needed to shut down replication.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/master/MasterController.html#teardownNetwork--">teardownNetwork</a></span>()</code>
<div class="block">Stop log shipping, notify slave that replication is stopped and
 tear down network connection with slave.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/replication/master/MasterController.html#workToDo--">workToDo</a></span>()</code>
<div class="block">Used to notify the log shipper that a log buffer element is full.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="DEFAULT_LOG_BUFFER_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_LOG_BUFFER_SIZE</h4>
<pre>private static final&nbsp;int DEFAULT_LOG_BUFFER_SIZE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.replication.master.MasterController.DEFAULT_LOG_BUFFER_SIZE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="LOG_BUFFER_SIZE_MIN">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOG_BUFFER_SIZE_MIN</h4>
<pre>private static final&nbsp;int LOG_BUFFER_SIZE_MIN</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.replication.master.MasterController.LOG_BUFFER_SIZE_MIN">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="LOG_BUFFER_SIZE_MAX">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOG_BUFFER_SIZE_MAX</h4>
<pre>private static final&nbsp;int LOG_BUFFER_SIZE_MAX</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.replication.master.MasterController.LOG_BUFFER_SIZE_MAX">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="rawStoreFactory">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rawStoreFactory</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/RawStoreFactory.html" title="interface in org.apache.derby.iapi.store.raw">RawStoreFactory</a> rawStoreFactory</pre>
</li>
</ul>
<a name="dataFactory">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dataFactory</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a> dataFactory</pre>
</li>
</ul>
<a name="logFactory">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logFactory</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html" title="interface in org.apache.derby.iapi.store.raw.log">LogFactory</a> logFactory</pre>
</li>
</ul>
<a name="logBuffer">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logBuffer</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/replication/buffer/ReplicationLogBuffer.html" title="class in org.apache.derby.impl.store.replication.buffer">ReplicationLogBuffer</a> logBuffer</pre>
</li>
</ul>
<a name="logShipper">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logShipper</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/replication/master/AsynchronousLogShipper.html" title="class in org.apache.derby.impl.store.replication.master">AsynchronousLogShipper</a> logShipper</pre>
</li>
</ul>
<a name="transmitter">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>transmitter</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/replication/net/ReplicationMessageTransmit.html" title="class in org.apache.derby.impl.store.replication.net">ReplicationMessageTransmit</a> transmitter</pre>
</li>
</ul>
<a name="repLogger">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>repLogger</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/replication/ReplicationLogger.html" title="class in org.apache.derby.impl.store.replication">ReplicationLogger</a> repLogger</pre>
</li>
</ul>
<a name="replicationMode">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>replicationMode</h4>
<pre>private&nbsp;java.lang.String replicationMode</pre>
</li>
</ul>
<a name="slaveAddr">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>slaveAddr</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/replication/net/SlaveAddress.html" title="class in org.apache.derby.impl.store.replication.net">SlaveAddress</a> slaveAddr</pre>
</li>
</ul>
<a name="dbname">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dbname</h4>
<pre>private&nbsp;java.lang.String dbname</pre>
</li>
</ul>
<a name="logBufferSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logBufferSize</h4>
<pre>private&nbsp;int logBufferSize</pre>
</li>
</ul>
<a name="active">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>active</h4>
<pre>private&nbsp;boolean active</pre>
</li>
</ul>
<a name="SLAVE_CONNECTION_ATTEMPT_TIMEOUT">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SLAVE_CONNECTION_ATTEMPT_TIMEOUT</h4>
<pre>private static final&nbsp;int SLAVE_CONNECTION_ATTEMPT_TIMEOUT</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.replication.master.MasterController.SLAVE_CONNECTION_ATTEMPT_TIMEOUT">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MasterController--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MasterController</h4>
<pre>public&nbsp;MasterController()</pre>
<div class="block">Empty constructor required by Monitor.bootServiceModule</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="boot-boolean-java.util.Properties-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>boot</h4>
<pre>public&nbsp;void&nbsp;boot(boolean&nbsp;create,
                 java.util.Properties&nbsp;properties)
          throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Used by Monitor.bootServiceModule to start the service. Currently
 only used to set up the replication mode.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/services/monitor/ModuleControl.html#boot-boolean-java.util.Properties-">boot</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/services/monitor/ModuleControl.html" title="interface in org.apache.derby.iapi.services.monitor">ModuleControl</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>create</code> - Currently ignored</dd>
<dd><code>properties</code> - Properties used to start the service in the
                   correct mode. Currently initializes only the
                   replicationMode property.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby exception policy,
 thrown on error.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/services/monitor/Monitor.html" title="class in org.apache.derby.iapi.services.monitor"><code>Monitor</code></a>, 
<a href="../../../../../../../org/apache/derby/iapi/services/monitor/ModuleFactory.html" title="interface in org.apache.derby.iapi.services.monitor"><code>ModuleFactory</code></a></dd>
</dl>
</li>
</ul>
<a name="canSupport-java.util.Properties-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>canSupport</h4>
<pre>public&nbsp;boolean&nbsp;canSupport(java.util.Properties&nbsp;startParams)</pre>
<div class="block">Used by Monitor.bootServiceModule to check if this class is
 usable for replication. To be usable, we require that
 asynchronous replication is specified in startParams by
 checking that a property with key
 MasterFactory.REPLICATION_MODE has the value
 MasterFactory.ASYNCHRONOUS_MODE.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/services/monitor/ModuleSupportable.html#canSupport-java.util.Properties-">canSupport</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/services/monitor/ModuleSupportable.html" title="interface in org.apache.derby.iapi.services.monitor">ModuleSupportable</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>startParams</code> - The properties used to boot replication</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if asynchronous replication is requested, meaning
 that this MasterController is a suitable implementation for the
 MasterFactory service. False otherwise</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/services/monitor/ModuleSupportable.html#canSupport-java.util.Properties-"><code>ModuleSupportable.canSupport(java.util.Properties)</code></a></dd>
</dl>
</li>
</ul>
<a name="stop--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stop</h4>
<pre>public&nbsp;void&nbsp;stop()</pre>
<div class="block">Will stop the replication master service.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/services/monitor/ModuleControl.html#stop--">stop</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/services/monitor/ModuleControl.html" title="interface in org.apache.derby.iapi.services.monitor">ModuleControl</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/services/monitor/Monitor.html" title="class in org.apache.derby.iapi.services.monitor"><code>Monitor</code></a>, 
<a href="../../../../../../../org/apache/derby/iapi/services/monitor/ModuleFactory.html" title="interface in org.apache.derby.iapi.services.monitor"><code>ModuleFactory</code></a></dd>
</dl>
</li>
</ul>
<a name="startMaster-org.apache.derby.iapi.store.raw.RawStoreFactory-org.apache.derby.iapi.store.raw.data.DataFactory-org.apache.derby.iapi.store.raw.log.LogFactory-java.lang.String-int-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startMaster</h4>
<pre>public&nbsp;void&nbsp;startMaster(<a href="../../../../../../../org/apache/derby/iapi/store/raw/RawStoreFactory.html" title="interface in org.apache.derby.iapi.store.raw">RawStoreFactory</a>&nbsp;rawStore,
                        <a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a>&nbsp;dataFac,
                        <a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html" title="interface in org.apache.derby.iapi.store.raw.log">LogFactory</a>&nbsp;logFac,
                        java.lang.String&nbsp;slavehost,
                        int&nbsp;slaveport,
                        java.lang.String&nbsp;dbname)
                 throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Will perform all the work that is needed to set up replication.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/replication/master/MasterFactory.html#startMaster-org.apache.derby.iapi.store.raw.RawStoreFactory-org.apache.derby.iapi.store.raw.data.DataFactory-org.apache.derby.iapi.store.raw.log.LogFactory-java.lang.String-int-java.lang.String-">startMaster</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/replication/master/MasterFactory.html" title="interface in org.apache.derby.iapi.store.replication.master">MasterFactory</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rawStore</code> - The RawStoreFactory for the database</dd>
<dd><code>dataFac</code> - The DataFactory for this database</dd>
<dd><code>logFac</code> - The LogFactory ensuring recoverability for this database</dd>
<dd><code>slavehost</code> - The hostname of the slave</dd>
<dd><code>slaveport</code> - The port the slave is listening on</dd>
<dd><code>dbname</code> - The master database that is being replicated.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby exception policy,
                              1) thrown on replication startup error
                              2) thrown if the master has already been
                                 booted.
                              3) thrown if the specified replication mode
                                 is not supported.</dd>
</dl>
</li>
</ul>
<a name="stopMaster--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stopMaster</h4>
<pre>public&nbsp;void&nbsp;stopMaster()
                throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Will perform all work that is needed to shut down replication.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/replication/master/MasterFactory.html#stopMaster--">stopMaster</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/replication/master/MasterFactory.html" title="interface in org.apache.derby.iapi.store.replication.master">MasterFactory</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - If the replication master has been stopped
                           already.</dd>
</dl>
</li>
</ul>
<a name="startFailover--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startFailover</h4>
<pre>public&nbsp;void&nbsp;startFailover()
                   throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/replication/master/MasterFactory.html#startFailover--">MasterFactory</a></code></span></div>
<div class="block">Will perform all work needed to failover</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/replication/master/MasterFactory.html#startFailover--">startFailover</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/replication/master/MasterFactory.html" title="interface in org.apache.derby.iapi.store.replication.master">MasterFactory</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - 1) If the failover succeeds, an exception is
                              thrown to indicate that the master database
                              was shutdown after a successful failover
                           2) If a failure occurs during network 
                              communication with slave.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/replication/master/MasterFactory.html#startFailover--"><code>MasterFactory.startFailover()</code></a></dd>
</dl>
</li>
</ul>
<a name="getMasterProperties--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMasterProperties</h4>
<pre>private&nbsp;void&nbsp;getMasterProperties()</pre>
<div class="block">Load relevant system property: replication log buffer size</div>
</li>
</ul>
<a name="handleFailoverFailure-java.lang.Throwable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleFailoverFailure</h4>
<pre>private&nbsp;void&nbsp;handleFailoverFailure(java.lang.Throwable&nbsp;t)
                            throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">used to handle the case when an attempt to failover the database
 fails.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>t</code> - The throwable which resulted in the aborted failover
                 attempt.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Indicating the reason for the aborted
                          failover attempt.</dd>
</dl>
</li>
</ul>
<a name="appendLog-long-byte:A-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>appendLog</h4>
<pre>public&nbsp;void&nbsp;appendLog(long&nbsp;greatestInstant,
                      byte[]&nbsp;log,
                      int&nbsp;logOffset,
                      int&nbsp;logLength)</pre>
<div class="block">Append a chunk of log records to the log buffer. The method is not 
 threadsafe; only one thread should access this method at a time.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/replication/master/MasterFactory.html#appendLog-long-byte:A-int-int-">appendLog</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/replication/master/MasterFactory.html" title="interface in org.apache.derby.iapi.store.replication.master">MasterFactory</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>greatestInstant</code> - the instant of the log record that was
                          added last to this chunk of log</dd>
<dd><code>log</code> - the chunk of log records</dd>
<dd><code>logOffset</code> - offset in log to start copy from</dd>
<dd><code>logLength</code> - number of bytes to copy, starting
                          from logOffset</dd>
</dl>
</li>
</ul>
<a name="flushedTo-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flushedTo</h4>
<pre>public&nbsp;void&nbsp;flushedTo(long&nbsp;instant)</pre>
<div class="block">Used by the LogFactory to notify the replication master
 controller that the log records up to this instant have been
 flushed to disk. The master controller takes action according
 to the current replication strategy when this method is called.

 When the asynchronous replication strategy is used, the method
 does not force log shipping to the slave; the log records may
 be shipped now or later at the MasterController's discretion.

 However, if another strategy like 2-safe replication is
 implemented in the future, a call to this method may force log
 shipment before returning control to the caller.

 Currently, only asynchronous replication is supported.

 Not implemented yet</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/replication/master/MasterFactory.html#flushedTo-long-">flushedTo</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/replication/master/MasterFactory.html" title="interface in org.apache.derby.iapi.store.replication.master">MasterFactory</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>instant</code> - The highest log instant that has been flushed to
 disk</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/replication/master/MasterFactory.html#flushedTo-long-"><code>MasterFactory.flushedTo(long)</code></a>, 
<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html#flush-org.apache.derby.iapi.store.raw.log.LogInstant-"><code>LogFactory.flush(org.apache.derby.iapi.store.raw.log.LogInstant)</code></a></dd>
</dl>
</li>
</ul>
<a name="setupConnection--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setupConnection</h4>
<pre>private&nbsp;void&nbsp;setupConnection()
                      throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Connects to the slave being replicated to.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - If a failure occurs while trying to open
                           the connection to the slave.</dd>
</dl>
</li>
</ul>
<a name="handleExceptions-java.lang.Exception-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleExceptions</h4>
<pre><a href="../../../../../../../org/apache/derby/impl/store/replication/net/ReplicationMessageTransmit.html" title="class in org.apache.derby.impl.store.replication.net">ReplicationMessageTransmit</a>&nbsp;handleExceptions(java.lang.Exception&nbsp;exception)</pre>
<div class="block">Used to handle the exceptions (IOException and StandardException) from 
 the log shipper.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exception</code> - the exception which caused the log shipper to terminate
                  in an unexcepted manner.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an instance of the transmitter used to transmit messages to the
         slave.</dd>
</dl>
</li>
</ul>
<a name="printStackAndStopMaster-java.lang.Exception-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>printStackAndStopMaster</h4>
<pre>private&nbsp;void&nbsp;printStackAndStopMaster(java.lang.Exception&nbsp;e)</pre>
<div class="block">used to print the error stack for the given exception and
 stop the master.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>e</code> - the exception that needs to be handled.</dd>
</dl>
</li>
</ul>
<a name="workToDo--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>workToDo</h4>
<pre>public&nbsp;void&nbsp;workToDo()</pre>
<div class="block">Used to notify the log shipper that a log buffer element is full.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/replication/master/MasterFactory.html#workToDo--">workToDo</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/replication/master/MasterFactory.html" title="interface in org.apache.derby.iapi.store.replication.master">MasterFactory</a></code></dd>
</dl>
</li>
</ul>
<a name="teardownNetwork--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>teardownNetwork</h4>
<pre>private&nbsp;void&nbsp;teardownNetwork()</pre>
<div class="block">Stop log shipping, notify slave that replication is stopped and
 tear down network connection with slave.</div>
</li>
</ul>
<a name="getDbName--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDbName</h4>
<pre>java.lang.String&nbsp;getDbName()</pre>
<div class="block"><p>
 Returns a name of a database associated with this master
 controller.
 </p>
 
 <p>
 Note: The only purpose of the method as of now is to give a 
 meaningful name to a log shipper thread. The log shipper thread 
 name should contain a name of a corresponding master database,
 and this method is used to access it.
 </p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a master database name</dd>
</dl>
</li>
</ul>
<a name="getHostName--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHostName</h4>
<pre>private&nbsp;java.lang.String&nbsp;getHostName()</pre>
<div class="block">Used to return the host name of the slave being connected to.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a String containing the host name of the slave being
         connected to.</dd>
</dl>
</li>
</ul>
<a name="getPortNumber--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getPortNumber</h4>
<pre>private&nbsp;int&nbsp;getPortNumber()</pre>
<div class="block">Used to return the port number of the slave being connected to.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an Integer that represents the port number of the slave
         being connected to.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Built on Mon 2017-07-03 23:03:59+0530, from revision Unversioned directory</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../org/apache/derby/impl/store/replication/master/LogShipper.html" title="interface in org.apache.derby.impl.store.replication.master"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/derby/impl/store/replication/master/MasterController.html" target="_top">Frames</a></li>
<li><a href="MasterController.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Apache Derby V10.13 Internals - <i>Copyright &copy; 2004,2016 The Apache Software Foundation. All Rights Reserved.</i></small></p>
</body>
</html>
