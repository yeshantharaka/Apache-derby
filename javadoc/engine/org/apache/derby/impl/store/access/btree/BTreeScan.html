<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_66) on Mon Jul 03 23:05:23 IST 2017 -->
<title>BTreeScan (Apache Derby V10.13 Internals)</title>
<meta name="date" content="2017-07-03">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="BTreeScan (Apache Derby V10.13 Internals)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":6,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":9,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":6,"i31":10,"i32":10,"i33":10,"i34":10,"i35":10,"i36":10,"i37":10,"i38":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeRowPosition.html" title="class in org.apache.derby.impl.store.access.btree"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScanInfo.html" title="class in org.apache.derby.impl.store.access.btree"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/derby/impl/store/access/btree/BTreeScan.html" target="_top">Frames</a></li>
<li><a href="BTreeScan.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.derby.impl.store.access.btree</div>
<h2 title="Class BTreeScan" class="title">Class BTreeScan</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html" title="class in org.apache.derby.impl.store.access.btree">org.apache.derby.impl.store.access.btree.OpenBTree</a></li>
<li>
<ul class="inheritance">
<li>org.apache.derby.impl.store.access.btree.BTreeScan</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/access/conglomerate/ScanManager.html" title="interface in org.apache.derby.iapi.store.access.conglomerate">ScanManager</a>, <a href="../../../../../../../org/apache/derby/iapi/store/access/GenericScanController.html" title="interface in org.apache.derby.iapi.store.access">GenericScanController</a>, <a href="../../../../../../../org/apache/derby/iapi/store/access/GroupFetchScanController.html" title="interface in org.apache.derby.iapi.store.access">GroupFetchScanController</a>, <a href="../../../../../../../org/apache/derby/iapi/store/access/RowCountable.html" title="interface in org.apache.derby.iapi.store.access">RowCountable</a>, <a href="../../../../../../../org/apache/derby/iapi/store/access/ScanController.html" title="interface in org.apache.derby.iapi.store.access">ScanController</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeForwardScan.html" title="class in org.apache.derby.impl.store.access.btree">BTreeForwardScan</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeMaxScan.html" title="class in org.apache.derby.impl.store.access.btree">BTreeMaxScan</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="typeNameLabel">BTreeScan</span>
extends <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html" title="class in org.apache.derby.impl.store.access.btree">OpenBTree</a>
implements <a href="../../../../../../../org/apache/derby/iapi/store/access/conglomerate/ScanManager.html" title="interface in org.apache.derby.iapi.store.access.conglomerate">ScanManager</a></pre>
<div class="block">A b-tree scan controller corresponds to an instance of an open b-tree scan.
  <P>
  <B>Concurrency Notes</B>
  <P>
  The concurrency rules are derived from OpenBTree.
  <P></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html" title="class in org.apache.derby.impl.store.access.btree"><code>OpenBTree</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[][]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#fetchNext_one_slot_array">fetchNext_one_slot_array</a></span></code>
<div class="block">A 1 element array to turn fetchNext and fetch calls into 
 fetchNextGroup calls.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/iapi/store/raw/FetchDescriptor.html" title="class in org.apache.derby.iapi.store.raw">FetchDescriptor</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#init_fetchDesc">init_fetchDesc</a></span></code>
<div class="block">The fetch descriptor which describes the row to be returned by the scan.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#init_forUpdate">init_forUpdate</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#init_hold">init_hold</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/iapi/store/raw/FetchDescriptor.html" title="class in org.apache.derby.iapi.store.raw">FetchDescriptor</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#init_lock_fetch_desc">init_lock_fetch_desc</a></span></code>
<div class="block">A constant FetchDescriptor which describes the position of the 
 RowLocation field within the btree, currently always the last column).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/iapi/store/access/Qualifier.html" title="interface in org.apache.derby.iapi.store.access">Qualifier</a>[][]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#init_qualifier">init_qualifier</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#init_rawtran">init_rawtran</a></span></code>
<div class="block">init_startKeyValue, init_qualifier, and init_stopKeyValue all are used 
 to store * references to the values passed in when ScanController.init()
 is called.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#init_scanColumnList">init_scanColumnList</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#init_startKeyValue">init_startKeyValue</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#init_startSearchOperator">init_startSearchOperator</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#init_stopKeyValue">init_stopKeyValue</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#init_stopSearchOperator">init_stopSearchOperator</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#init_template">init_template</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#init_useUpdateLocks">init_useUpdateLocks</a></span></code>
<div class="block">Whether the scan should requests UPDATE locks which then will be 
 converted to X locks when the actual operation is performed.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#lock_operation">lock_operation</a></span></code>
<div class="block">What kind of row locks to get during the scan.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#SCAN_DONE">SCAN_DONE</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#SCAN_HOLD_INIT">SCAN_HOLD_INIT</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#SCAN_HOLD_INPROGRESS">SCAN_HOLD_INPROGRESS</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#SCAN_INIT">SCAN_INIT</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#SCAN_INPROGRESS">SCAN_INPROGRESS</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeRowPosition.html" title="class in org.apache.derby.impl.store.access.btree">BTreeRowPosition</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#scan_position">scan_position</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#scan_state">scan_state</a></span></code>
<div class="block">Delay positioning the  table at the start position until the first
 next() call.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#stat_numdeleted_rows_visited">stat_numdeleted_rows_visited</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#stat_numpages_visited">stat_numpages_visited</a></span></code>
<div class="block">Performance counters ...</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#stat_numrows_qualified">stat_numrows_qualified</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#stat_numrows_visited">stat_numrows_visited</a></span></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.apache.derby.impl.store.access.btree.OpenBTree">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.apache.derby.impl.store.access.btree.<a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html" title="class in org.apache.derby.impl.store.access.btree">OpenBTree</a></h3>
<code><a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#btree_undo">btree_undo</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#container">container</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#err_containerid">err_containerid</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#init_lock_level">init_lock_level</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#init_open_user_scans">init_open_user_scans</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#runtime_mem">runtime_mem</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.apache.derby.iapi.store.access.ScanController">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;org.apache.derby.iapi.store.access.<a href="../../../../../../../org/apache/derby/iapi/store/access/ScanController.html" title="interface in org.apache.derby.iapi.store.access">ScanController</a></h3>
<code><a href="../../../../../../../org/apache/derby/iapi/store/access/ScanController.html#GE">GE</a>, <a href="../../../../../../../org/apache/derby/iapi/store/access/ScanController.html#GT">GT</a>, <a href="../../../../../../../org/apache/derby/iapi/store/access/ScanController.html#NA">NA</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#BTreeScan--">BTreeScan</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#close--">close</a></span>()</code>
<div class="block">Close the scan.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#closeForEndTransaction-boolean-">closeForEndTransaction</a></span>(boolean&nbsp;closeHeldScan)</code>
<div class="block">Close the scan, a commit or abort is about to happen.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#delete--">delete</a></span>()</code>
<div class="block">Delete the row at the current position of the scan.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#didNotQualify--">didNotQualify</a></span>()</code>
<div class="block">A call to allow client to indicate that current row does not qualify.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#doesCurrentPositionQualify--">doesCurrentPositionQualify</a></span>()</code>
<div class="block">Returns true if the current position of the scan still qualifies
 under the set of qualifiers passed to the openScan().</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#fetch-org.apache.derby.iapi.types.DataValueDescriptor:A-">fetch</a></span>(<a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;row)</code>
<div class="block">Fetch the row at the current position of the Scan.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#fetch-org.apache.derby.iapi.types.DataValueDescriptor:A-boolean-">fetch</a></span>(<a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;row,
     boolean&nbsp;qualify)</code>
<div class="block">Fetch the row at the current position of the Scan.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#fetchLocation-org.apache.derby.iapi.types.RowLocation-">fetchLocation</a></span>(<a href="../../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>&nbsp;templateLocation)</code>
<div class="block">Fetch the location of the current position in the scan.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#fetchNext-org.apache.derby.iapi.types.DataValueDescriptor:A-">fetchNext</a></span>(<a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;row)</code>
<div class="block">Fetch the row at the next position of the Scan.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#fetchNextGroup-org.apache.derby.iapi.types.DataValueDescriptor:A:A-org.apache.derby.iapi.types.RowLocation:A-">fetchNextGroup</a></span>(<a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[][]&nbsp;row_array,
              <a href="../../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>[]&nbsp;rowloc_array)</code>
<div class="block">Fetch the next N rows from the table.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#fetchNextGroup-org.apache.derby.iapi.types.DataValueDescriptor:A:A-org.apache.derby.iapi.types.RowLocation:A-org.apache.derby.iapi.types.RowLocation:A-">fetchNextGroup</a></span>(<a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[][]&nbsp;row_array,
              <a href="../../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>[]&nbsp;old_rowloc_array,
              <a href="../../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>[]&nbsp;new_rowloc_array)</code>&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>protected abstract int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#fetchRows-org.apache.derby.impl.store.access.btree.BTreeRowPosition-org.apache.derby.iapi.types.DataValueDescriptor:A:A-org.apache.derby.iapi.types.RowLocation:A-org.apache.derby.iapi.store.access.BackingStoreHashtable-long-int:A-">fetchRows</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeRowPosition.html" title="class in org.apache.derby.impl.store.access.btree">BTreeRowPosition</a>&nbsp;pos,
         <a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[][]&nbsp;row_array,
         <a href="../../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>[]&nbsp;rowloc_array,
         <a href="../../../../../../../org/apache/derby/iapi/store/access/BackingStoreHashtable.html" title="class in org.apache.derby.iapi.store.access">BackingStoreHashtable</a>&nbsp;hash_table,
         long&nbsp;max_rowcnt,
         int[]&nbsp;key_column_numbers)</code>
<div class="block">Fetch the next N rows from the table.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#fetchSet-long-int:A-org.apache.derby.iapi.store.access.BackingStoreHashtable-">fetchSet</a></span>(long&nbsp;max_rowcnt,
        int[]&nbsp;key_column_numbers,
        <a href="../../../../../../../org/apache/derby/iapi/store/access/BackingStoreHashtable.html" title="class in org.apache.derby.iapi.store.access">BackingStoreHashtable</a>&nbsp;hash_table)</code>
<div class="block">Insert all rows that qualify for the current scan into the input
 Hash table.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#fetchWithoutQualify-org.apache.derby.iapi.types.DataValueDescriptor:A-">fetchWithoutQualify</a></span>(<a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;row)</code>
<div class="block">Fetch the row at the current position of the Scan without applying the 
 qualifiers.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#getCurrentRecordHandleForDebugging--">getCurrentRecordHandleForDebugging</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/access/ScanInfo.html" title="interface in org.apache.derby.iapi.store.access">ScanInfo</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#getScanInfo--">getScanInfo</a></span>()</code>
<div class="block">Return ScanInfo object which describes performance of scan.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#init-org.apache.derby.iapi.store.access.conglomerate.TransactionManager-org.apache.derby.iapi.store.raw.Transaction-boolean-int-int-org.apache.derby.impl.store.access.btree.BTreeLockingPolicy-org.apache.derby.iapi.services.io.FormatableBitSet-org.apache.derby.iapi.types.DataValueDescriptor:A-int-org.apache.derby.iapi.store.access.Qualifier:A:A-org.apache.derby.iapi.types.DataValueDescriptor:A-int-org.apache.derby.impl.store.access.btree.BTree-org.apache.derby.iapi.store.access.conglomerate.LogicalUndo-org.apache.derby.iapi.store.access.StaticCompiledOpenConglomInfo-org.apache.derby.iapi.store.access.DynamicCompiledOpenConglomInfo-">init</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/access/conglomerate/TransactionManager.html" title="interface in org.apache.derby.iapi.store.access.conglomerate">TransactionManager</a>&nbsp;xact_manager,
    <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a>&nbsp;rawtran,
    boolean&nbsp;hold,
    int&nbsp;open_mode,
    int&nbsp;lock_level,
    <a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeLockingPolicy.html" title="interface in org.apache.derby.impl.store.access.btree">BTreeLockingPolicy</a>&nbsp;btree_locking_policy,
    <a href="../../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a>&nbsp;scanColumnList,
    <a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;startKeyValue,
    int&nbsp;startSearchOperator,
    <a href="../../../../../../../org/apache/derby/iapi/store/access/Qualifier.html" title="interface in org.apache.derby.iapi.store.access">Qualifier</a>[][]&nbsp;qualifier,
    <a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;stopKeyValue,
    int&nbsp;stopSearchOperator,
    <a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTree.html" title="class in org.apache.derby.impl.store.access.btree">BTree</a>&nbsp;conglomerate,
    <a href="../../../../../../../org/apache/derby/iapi/store/access/conglomerate/LogicalUndo.html" title="interface in org.apache.derby.iapi.store.access.conglomerate">LogicalUndo</a>&nbsp;undo,
    <a href="../../../../../../../org/apache/derby/iapi/store/access/StaticCompiledOpenConglomInfo.html" title="interface in org.apache.derby.iapi.store.access">StaticCompiledOpenConglomInfo</a>&nbsp;static_info,
    <a href="../../../../../../../org/apache/derby/iapi/store/access/DynamicCompiledOpenConglomInfo.html" title="interface in org.apache.derby.iapi.store.access">DynamicCompiledOpenConglomInfo</a>&nbsp;dynamic_info)</code>
<div class="block">Initialize the scan for use.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#initScanParams-org.apache.derby.iapi.types.DataValueDescriptor:A-int-org.apache.derby.iapi.store.access.Qualifier:A:A-org.apache.derby.iapi.types.DataValueDescriptor:A-int-">initScanParams</a></span>(<a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;startKeyValue,
              int&nbsp;startSearchOperator,
              <a href="../../../../../../../org/apache/derby/iapi/store/access/Qualifier.html" title="interface in org.apache.derby.iapi.store.access">Qualifier</a>[][]&nbsp;qualifier,
              <a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;stopKeyValue,
              int&nbsp;stopSearchOperator)</code>
<div class="block">Shared initialization code between init() and reopenScan().</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#isCurrentPositionDeleted--">isCurrentPositionDeleted</a></span>()</code>
<div class="block">Returns true if the current position of the scan is at a
    deleted row.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>(package private) static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#isEmpty-org.apache.derby.iapi.store.raw.Page-">isEmpty</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a>&nbsp;page)</code>
<div class="block">Check if a B-tree page is empty.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#isHeldAfterCommit--">isHeldAfterCommit</a></span>()</code>
<div class="block">Return true is the scan has been closed after a commit, but was
 opened with holdability and can be reopened using
 positionAtRowLocation.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#isKeyed--">isKeyed</a></span>()</code>
<div class="block">Return whether this is a keyed conglomerate.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#newRowLocationTemplate--">newRowLocationTemplate</a></span>()</code>
<div class="block">Return a row location object of the correct type to be
    used in calls to fetchLocation.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#next--">next</a></span>()</code>
<div class="block">Move to the next position in the scan.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#positionAtDoneScan-org.apache.derby.impl.store.access.btree.BTreeRowPosition-">positionAtDoneScan</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeRowPosition.html" title="class in org.apache.derby.impl.store.access.btree">BTreeRowPosition</a>&nbsp;pos)</code>
<div class="block">Do work necessary to close a scan.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#positionAtDoneScanFromClose-org.apache.derby.impl.store.access.btree.BTreeRowPosition-">positionAtDoneScanFromClose</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeRowPosition.html" title="class in org.apache.derby.impl.store.access.btree">BTreeRowPosition</a>&nbsp;pos)</code>
<div class="block">Do any necessary work to complete the scan.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#positionAtNextPage-org.apache.derby.impl.store.access.btree.BTreeRowPosition-">positionAtNextPage</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeRowPosition.html" title="class in org.apache.derby.impl.store.access.btree">BTreeRowPosition</a>&nbsp;pos)</code>
<div class="block">Position scan to 0 slot on next page.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#positionAtPreviousPage--">positionAtPreviousPage</a></span>()</code>
<div class="block">
 Position the scan after the last row on the previous page.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#positionAtRowLocation-org.apache.derby.iapi.types.RowLocation-">positionAtRowLocation</a></span>(<a href="../../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>&nbsp;rLoc)</code>
<div class="block">Positions the scan at row location and locks the row.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#positionAtStartForForwardScan-org.apache.derby.impl.store.access.btree.BTreeRowPosition-">positionAtStartForForwardScan</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeRowPosition.html" title="class in org.apache.derby.impl.store.access.btree">BTreeRowPosition</a>&nbsp;pos)</code>
<div class="block">Position scan at "start" position for a forward scan.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>(package private) abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#positionAtStartPosition-org.apache.derby.impl.store.access.btree.BTreeRowPosition-">positionAtStartPosition</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeRowPosition.html" title="class in org.apache.derby.impl.store.access.btree">BTreeRowPosition</a>&nbsp;pos)</code>
<div class="block">Position scan at "start" position.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#process_qualifier-org.apache.derby.iapi.types.DataValueDescriptor:A-">process_qualifier</a></span>(<a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;row)</code>
<div class="block">process_qualifier - Determine if a row meets all qualifier conditions.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#reopenScan-org.apache.derby.iapi.types.DataValueDescriptor:A-int-org.apache.derby.iapi.store.access.Qualifier:A:A-org.apache.derby.iapi.types.DataValueDescriptor:A-int-">reopenScan</a></span>(<a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;startKeyValue,
          int&nbsp;startSearchOperator,
          <a href="../../../../../../../org/apache/derby/iapi/store/access/Qualifier.html" title="interface in org.apache.derby.iapi.store.access">Qualifier</a>[][]&nbsp;qualifier,
          <a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;stopKeyValue,
          int&nbsp;stopSearchOperator)</code>
<div class="block">Reposition the current scan.</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#reopenScanByRowLocation-org.apache.derby.iapi.types.RowLocation-org.apache.derby.iapi.store.access.Qualifier:A:A-">reopenScanByRowLocation</a></span>(<a href="../../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>&nbsp;startRowLocation,
                       <a href="../../../../../../../org/apache/derby/iapi/store/access/Qualifier.html" title="interface in org.apache.derby.iapi.store.access">Qualifier</a>[][]&nbsp;qualifier)</code>
<div class="block">Reposition the current scan.</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#replace-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.iapi.services.io.FormatableBitSet-">replace</a></span>(<a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;row,
       <a href="../../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a>&nbsp;validColumns)</code>
<div class="block">Replace the entire row at the current position of the scan.</div>
</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#reposition-org.apache.derby.impl.store.access.btree.BTreeRowPosition-boolean-">reposition</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeRowPosition.html" title="class in org.apache.derby.impl.store.access.btree">BTreeRowPosition</a>&nbsp;pos,
          boolean&nbsp;missing_row_for_key_ok)</code>
<div class="block">Reposition the scan leaving and reentering the access layer.</div>
</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#savePositionAndReleasePage--">savePositionAndReleasePage</a></span>()</code>
<div class="block">Shortcut for for savePositionAndReleasePage(null,null).</div>
</td>
</tr>
<tr id="i37" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#savePositionAndReleasePage-org.apache.derby.iapi.types.DataValueDescriptor:A-int:A-">savePositionAndReleasePage</a></span>(<a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;partialKey,
                          int[]&nbsp;vcols)</code>
<div class="block">Save the current scan position by key and release the latch on the leaf
 that's being scanned.</div>
</td>
</tr>
<tr id="i38" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#toString--">toString</a></span>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.derby.impl.store.access.btree.OpenBTree">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.derby.impl.store.access.btree.<a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html" title="class in org.apache.derby.impl.store.access.btree">OpenBTree</a></h3>
<code><a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#checkConsistency--">checkConsistency</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#debugConglomerate--">debugConglomerate</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#getColumnSortOrderInfo--">getColumnSortOrderInfo</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#getConglomerate--">getConglomerate</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#getContainer--">getContainer</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#getContainerHandle--">getContainerHandle</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#getEstimatedRowCount--">getEstimatedRowCount</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#getHeight--">getHeight</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#getHold--">getHold</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#getLockingPolicy--">getLockingPolicy</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#getLockLevel--">getLockLevel</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#getOpenMode--">getOpenMode</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#getRawTran--">getRawTran</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#getRuntimeMem--">getRuntimeMem</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#getSpaceInfo--">getSpaceInfo</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#getXactMgr--">getXactMgr</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#init-org.apache.derby.iapi.store.access.conglomerate.TransactionManager-org.apache.derby.iapi.store.access.conglomerate.TransactionManager-org.apache.derby.iapi.store.raw.ContainerHandle-org.apache.derby.iapi.store.raw.Transaction-boolean-int-int-org.apache.derby.impl.store.access.btree.BTreeLockingPolicy-org.apache.derby.impl.store.access.btree.BTree-org.apache.derby.iapi.store.access.conglomerate.LogicalUndo-org.apache.derby.iapi.store.access.DynamicCompiledOpenConglomInfo-">init</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#isClosed--">isClosed</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#isIndexableRowConsistent-org.apache.derby.iapi.types.DataValueDescriptor:A-">isIndexableRowConsistent</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#isTableLocked--">isTableLocked</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#reopen--">reopen</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#setEstimatedRowCount-long-">setEstimatedRowCount</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#setLockingPolicy-org.apache.derby.impl.store.access.btree.BTreeLockingPolicy-">setLockingPolicy</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#test_errors-org.apache.derby.impl.store.access.btree.OpenBTree-java.lang.String-org.apache.derby.impl.store.access.btree.BTreeRowPosition-org.apache.derby.impl.store.access.btree.BTreeLockingPolicy-org.apache.derby.impl.store.access.btree.LeafControlRow-boolean-">test_errors</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.derby.iapi.store.access.GenericScanController">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.apache.derby.iapi.store.access.<a href="../../../../../../../org/apache/derby/iapi/store/access/GenericScanController.html" title="interface in org.apache.derby.iapi.store.access">GenericScanController</a></h3>
<code><a href="../../../../../../../org/apache/derby/iapi/store/access/GenericScanController.html#isTableLocked--">isTableLocked</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.derby.iapi.store.access.RowCountable">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.apache.derby.iapi.store.access.<a href="../../../../../../../org/apache/derby/iapi/store/access/RowCountable.html" title="interface in org.apache.derby.iapi.store.access">RowCountable</a></h3>
<code><a href="../../../../../../../org/apache/derby/iapi/store/access/RowCountable.html#getEstimatedRowCount--">getEstimatedRowCount</a>, <a href="../../../../../../../org/apache/derby/iapi/store/access/RowCountable.html#setEstimatedRowCount-long-">setEstimatedRowCount</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="init_rawtran">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init_rawtran</h4>
<pre>protected&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a> init_rawtran</pre>
<div class="block">init_startKeyValue, init_qualifier, and init_stopKeyValue all are used 
 to store * references to the values passed in when ScanController.init()
 is called.  It is assumed that these are not altered by the client
 while the scan is active.</div>
</li>
</ul>
<a name="init_forUpdate">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init_forUpdate</h4>
<pre>protected&nbsp;boolean init_forUpdate</pre>
</li>
</ul>
<a name="init_scanColumnList">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init_scanColumnList</h4>
<pre>protected&nbsp;<a href="../../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a> init_scanColumnList</pre>
</li>
</ul>
<a name="init_template">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init_template</h4>
<pre>protected&nbsp;<a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[] init_template</pre>
</li>
</ul>
<a name="init_startKeyValue">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init_startKeyValue</h4>
<pre>protected&nbsp;<a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[] init_startKeyValue</pre>
</li>
</ul>
<a name="init_startSearchOperator">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init_startSearchOperator</h4>
<pre>protected&nbsp;int init_startSearchOperator</pre>
</li>
</ul>
<a name="init_qualifier">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init_qualifier</h4>
<pre>protected&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/access/Qualifier.html" title="interface in org.apache.derby.iapi.store.access">Qualifier</a>[][] init_qualifier</pre>
</li>
</ul>
<a name="init_stopKeyValue">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init_stopKeyValue</h4>
<pre>protected&nbsp;<a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[] init_stopKeyValue</pre>
</li>
</ul>
<a name="init_stopSearchOperator">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init_stopSearchOperator</h4>
<pre>protected&nbsp;int init_stopSearchOperator</pre>
</li>
</ul>
<a name="init_hold">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init_hold</h4>
<pre>protected&nbsp;boolean init_hold</pre>
</li>
</ul>
<a name="init_fetchDesc">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init_fetchDesc</h4>
<pre>protected&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/FetchDescriptor.html" title="class in org.apache.derby.iapi.store.raw">FetchDescriptor</a> init_fetchDesc</pre>
<div class="block">The fetch descriptor which describes the row to be returned by the scan.</div>
</li>
</ul>
<a name="init_lock_fetch_desc">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init_lock_fetch_desc</h4>
<pre>protected&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/FetchDescriptor.html" title="class in org.apache.derby.iapi.store.raw">FetchDescriptor</a> init_lock_fetch_desc</pre>
<div class="block">A constant FetchDescriptor which describes the position of the 
 RowLocation field within the btree, currently always the last column).  
 Used by lock/unlock to fetch the RowLocation.  
 Only needs to be allocated once per scan.</div>
</li>
</ul>
<a name="scan_position">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>scan_position</h4>
<pre><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeRowPosition.html" title="class in org.apache.derby.impl.store.access.btree">BTreeRowPosition</a> scan_position</pre>
</li>
</ul>
<a name="init_useUpdateLocks">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init_useUpdateLocks</h4>
<pre>protected&nbsp;boolean init_useUpdateLocks</pre>
<div class="block">Whether the scan should requests UPDATE locks which then will be 
 converted to X locks when the actual operation is performed.</div>
</li>
</ul>
<a name="SCAN_INIT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SCAN_INIT</h4>
<pre>protected static final&nbsp;int SCAN_INIT</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.access.btree.BTreeScan.SCAN_INIT">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="SCAN_INPROGRESS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SCAN_INPROGRESS</h4>
<pre>protected static final&nbsp;int SCAN_INPROGRESS</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.access.btree.BTreeScan.SCAN_INPROGRESS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="SCAN_DONE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SCAN_DONE</h4>
<pre>protected static final&nbsp;int SCAN_DONE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.access.btree.BTreeScan.SCAN_DONE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="SCAN_HOLD_INIT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SCAN_HOLD_INIT</h4>
<pre>protected static final&nbsp;int SCAN_HOLD_INIT</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.access.btree.BTreeScan.SCAN_HOLD_INIT">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="SCAN_HOLD_INPROGRESS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SCAN_HOLD_INPROGRESS</h4>
<pre>protected static final&nbsp;int SCAN_HOLD_INPROGRESS</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.access.btree.BTreeScan.SCAN_HOLD_INPROGRESS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="scan_state">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>scan_state</h4>
<pre>protected&nbsp;int scan_state</pre>
<div class="block">Delay positioning the  table at the start position until the first
 next() call.  The initial position is done in positionAtStartPosition().</div>
</li>
</ul>
<a name="stat_numpages_visited">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stat_numpages_visited</h4>
<pre>protected&nbsp;int stat_numpages_visited</pre>
<div class="block">Performance counters ...</div>
</li>
</ul>
<a name="stat_numrows_visited">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stat_numrows_visited</h4>
<pre>protected&nbsp;int stat_numrows_visited</pre>
</li>
</ul>
<a name="stat_numrows_qualified">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stat_numrows_qualified</h4>
<pre>protected&nbsp;int stat_numrows_qualified</pre>
</li>
</ul>
<a name="stat_numdeleted_rows_visited">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stat_numdeleted_rows_visited</h4>
<pre>protected&nbsp;int stat_numdeleted_rows_visited</pre>
</li>
</ul>
<a name="lock_operation">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lock_operation</h4>
<pre>protected&nbsp;int lock_operation</pre>
<div class="block">What kind of row locks to get during the scan.</div>
</li>
</ul>
<a name="fetchNext_one_slot_array">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>fetchNext_one_slot_array</h4>
<pre>protected&nbsp;<a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[][] fetchNext_one_slot_array</pre>
<div class="block">A 1 element array to turn fetchNext and fetch calls into 
 fetchNextGroup calls.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="BTreeScan--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>BTreeScan</h4>
<pre>public&nbsp;BTreeScan()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="fetchRows-org.apache.derby.impl.store.access.btree.BTreeRowPosition-org.apache.derby.iapi.types.DataValueDescriptor:A:A-org.apache.derby.iapi.types.RowLocation:A-org.apache.derby.iapi.store.access.BackingStoreHashtable-long-int:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchRows</h4>
<pre>protected abstract&nbsp;int&nbsp;fetchRows(<a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeRowPosition.html" title="class in org.apache.derby.impl.store.access.btree">BTreeRowPosition</a>&nbsp;pos,
                                 <a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[][]&nbsp;row_array,
                                 <a href="../../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>[]&nbsp;rowloc_array,
                                 <a href="../../../../../../../org/apache/derby/iapi/store/access/BackingStoreHashtable.html" title="class in org.apache.derby.iapi.store.access">BackingStoreHashtable</a>&nbsp;hash_table,
                                 long&nbsp;max_rowcnt,
                                 int[]&nbsp;key_column_numbers)
                          throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Fetch the next N rows from the table.
 <p>
 Utility routine used by both fetchSet() and fetchNextGroup().</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="initScanParams-org.apache.derby.iapi.types.DataValueDescriptor:A-int-org.apache.derby.iapi.store.access.Qualifier:A:A-org.apache.derby.iapi.types.DataValueDescriptor:A-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initScanParams</h4>
<pre>private&nbsp;void&nbsp;initScanParams(<a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;startKeyValue,
                            int&nbsp;startSearchOperator,
                            <a href="../../../../../../../org/apache/derby/iapi/store/access/Qualifier.html" title="interface in org.apache.derby.iapi.store.access">Qualifier</a>[][]&nbsp;qualifier,
                            <a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;stopKeyValue,
                            int&nbsp;stopSearchOperator)
                     throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Shared initialization code between init() and reopenScan().
 <p>
 Basically save away input parameters describing qualifications for
 the scan, and do some error checking.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="positionAtStartForForwardScan-org.apache.derby.impl.store.access.btree.BTreeRowPosition-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>positionAtStartForForwardScan</h4>
<pre>protected&nbsp;void&nbsp;positionAtStartForForwardScan(<a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeRowPosition.html" title="class in org.apache.derby.impl.store.access.btree">BTreeRowPosition</a>&nbsp;pos)
                                      throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Position scan at "start" position for a forward scan.
 <p> 
 Positions the scan to the slot just before the first record to be 
 returned from the scan.  Returns the start page latched, and 
 sets "current_slot" to the slot number.
 <p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="positionAtNextPage-org.apache.derby.impl.store.access.btree.BTreeRowPosition-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>positionAtNextPage</h4>
<pre>protected&nbsp;void&nbsp;positionAtNextPage(<a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeRowPosition.html" title="class in org.apache.derby.impl.store.access.btree">BTreeRowPosition</a>&nbsp;pos)
                           throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Position scan to 0 slot on next page.
 <p>
 Position to next page, keeping latch on previous page until we have 
 latch on next page.  This routine releases the latch on current_page
 once it has successfully gotten the latch on the next page.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pos</code> - current row position of the scan.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="positionAtPreviousPage--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>positionAtPreviousPage</h4>
<pre>protected&nbsp;void&nbsp;positionAtPreviousPage()
                               throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a>,
                                      <a href="../../../../../../../org/apache/derby/impl/store/access/btree/WaitError.html" title="class in org.apache.derby.impl.store.access.btree">WaitError</a></pre>
<div class="block"><p>
 Position the scan after the last row on the previous page. Hold the
 latch on the current page until the previous page has been latched. If
 the immediate left sibling is empty, move further until a non-empty page
 is found or there are no more leaves to be found. The latch on the
 current page will be held until a non-empty left sibling page is found.
 </p>

 <p>
 This method never waits for a latch, as waiting for latches while
 holding another latch is only allowed when moving forward in the B-tree.
 Waiting while moving backward may result in deadlocks with scanners
 going forward. A <code>WaitError</code> is thrown if the previous page cannot
 be latched without waiting. <code>scan_position.current_leaf</code> will
 point to the same page as before the method was called in the case where
 a <code>WaitError</code> is thrown, and the page will still be latched.
 </p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - standard exception policy</dd>
<dd><code><a href="../../../../../../../org/apache/derby/impl/store/access/btree/WaitError.html" title="class in org.apache.derby.impl.store.access.btree">WaitError</a></code> - if the previous page cannot be latched immediately</dd>
</dl>
</li>
</ul>
<a name="isEmpty-org.apache.derby.iapi.store.raw.Page-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isEmpty</h4>
<pre>static&nbsp;boolean&nbsp;isEmpty(<a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a>&nbsp;page)
                throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Check if a B-tree page is empty. The control row, which is always
 present, is not counted.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>page</code> - the B-tree page to check</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the page is empty, false otherwise</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - standard exception policy</dd>
</dl>
</li>
</ul>
<a name="positionAtStartPosition-org.apache.derby.impl.store.access.btree.BTreeRowPosition-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>positionAtStartPosition</h4>
<pre>abstract&nbsp;void&nbsp;positionAtStartPosition(<a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeRowPosition.html" title="class in org.apache.derby.impl.store.access.btree">BTreeRowPosition</a>&nbsp;pos)
                               throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Position scan at "start" position.
    <p>
    Positions the scan to the slot just before the first record to be returned
    from the scan.  Returns the start page latched, and sets "current_slot" to
    the slot number.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="positionAtDoneScanFromClose-org.apache.derby.impl.store.access.btree.BTreeRowPosition-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>positionAtDoneScanFromClose</h4>
<pre>protected&nbsp;void&nbsp;positionAtDoneScanFromClose(<a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeRowPosition.html" title="class in org.apache.derby.impl.store.access.btree">BTreeRowPosition</a>&nbsp;pos)
                                    throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Do any necessary work to complete the scan.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pos</code> - current row position of the scan.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="positionAtDoneScan-org.apache.derby.impl.store.access.btree.BTreeRowPosition-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>positionAtDoneScan</h4>
<pre>protected&nbsp;void&nbsp;positionAtDoneScan(<a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeRowPosition.html" title="class in org.apache.derby.impl.store.access.btree">BTreeRowPosition</a>&nbsp;pos)
                           throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Do work necessary to close a scan.
 <p>
 This routine can only be called "inline" from other btree routines,
 as it counts on the state of the pos to be correct.
 <p>
 Closing a scan from close() must handle long jumps from exceptions
 where the state of pos may not be correct.  The easiest case is
 a lock timeout which has caused us not to have a latch on a page,
 but pos still thinks there is a latch.  This is the easiest but
 other exceptions can also caused the same state at close() time.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="process_qualifier-org.apache.derby.iapi.types.DataValueDescriptor:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>process_qualifier</h4>
<pre>protected&nbsp;boolean&nbsp;process_qualifier(<a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;row)
                             throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">process_qualifier - Determine if a row meets all qualifier conditions.
 <p>
 Check all qualifiers in the qualifier array against row.  Return true
 if all compares specified by the qualifier array return true, else
 return false.
 <p>
 It is up to caller to make sure qualifier list is non-null.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>row</code> - The row with the same partial column list as the
                 row returned by the current scan.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="reposition-org.apache.derby.impl.store.access.btree.BTreeRowPosition-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reposition</h4>
<pre>protected&nbsp;boolean&nbsp;reposition(<a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeRowPosition.html" title="class in org.apache.derby.impl.store.access.btree">BTreeRowPosition</a>&nbsp;pos,
                             boolean&nbsp;missing_row_for_key_ok)
                      throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Reposition the scan leaving and reentering the access layer.
 <p>
 When a scan leaves access it saves the RecordHandle of the record
 on the page.  There are 2 cases to consider when trying to reposition
 the scan when re-entering access:
     o ROW has not moved off the page.
       If the row has not moved then the RecordHandle we have saved
       away is valid, and we just call RawStore to reposition on that
       RecordHandle (RawStore takes care of the row moving within
       the page).
     o ROW has moved off the page.
       This can only happen in the case of a btree split.  In that
       case the splitter will have caused all scans positioned on 
       this page within the same transaction to save a copy of the
       row that the scan was positioned on.  Then to reposition the
       scan it is necessary to research the tree from the top using
       the copy of the row.

 There are a few cases where it is possible that
 the key no longer exists in the table.  In the case of a scan held 
 open across commit it is easy to imagine that the row the scan was 
 positioned on could be deleted and subsequently purged from the table 
 all before the scan resumes.  Also in the case of read uncommitted 
 the scan holds no lock on the current row, so it could be purged -
 in the following scenario for instance:  read uncommitted transaction 1
 opens scan and positions on row (1,2), transaction 2 deletes (1,2) and
 commits, transaction 1 inserts (1,3) which goes to same page as (1,2)
 and is going to cause a split, transaction 1 saves scan position as
 key, and then purges row (1, 2), when transaction
 1 resumes scan (1, 2) no longer exists.  missing_row_for_key_ok 
 parameter is added as a sanity check to make sure it ok that 
 repositioning does not go to same row that we were repositioned on.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pos</code> - position to set the scan to.</dd>
<dd><code>missing_row_for_key_ok</code> - if true and exact key is not found then
                                  scan is just set to key just left of
                                  the key (thus a next will move to the
                                  key just after "pos")</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>returns true if scan has been repositioned successfully, else
          returns false if the position key could not be found and
          missing_row_for_key_ok was false indicating that scan could
          only be positioned on the exact key match.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="init-org.apache.derby.iapi.store.access.conglomerate.TransactionManager-org.apache.derby.iapi.store.raw.Transaction-boolean-int-int-org.apache.derby.impl.store.access.btree.BTreeLockingPolicy-org.apache.derby.iapi.services.io.FormatableBitSet-org.apache.derby.iapi.types.DataValueDescriptor:A-int-org.apache.derby.iapi.store.access.Qualifier:A:A-org.apache.derby.iapi.types.DataValueDescriptor:A-int-org.apache.derby.impl.store.access.btree.BTree-org.apache.derby.iapi.store.access.conglomerate.LogicalUndo-org.apache.derby.iapi.store.access.StaticCompiledOpenConglomInfo-org.apache.derby.iapi.store.access.DynamicCompiledOpenConglomInfo-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>public&nbsp;void&nbsp;init(<a href="../../../../../../../org/apache/derby/iapi/store/access/conglomerate/TransactionManager.html" title="interface in org.apache.derby.iapi.store.access.conglomerate">TransactionManager</a>&nbsp;xact_manager,
                 <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a>&nbsp;rawtran,
                 boolean&nbsp;hold,
                 int&nbsp;open_mode,
                 int&nbsp;lock_level,
                 <a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeLockingPolicy.html" title="interface in org.apache.derby.impl.store.access.btree">BTreeLockingPolicy</a>&nbsp;btree_locking_policy,
                 <a href="../../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a>&nbsp;scanColumnList,
                 <a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;startKeyValue,
                 int&nbsp;startSearchOperator,
                 <a href="../../../../../../../org/apache/derby/iapi/store/access/Qualifier.html" title="interface in org.apache.derby.iapi.store.access">Qualifier</a>[][]&nbsp;qualifier,
                 <a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;stopKeyValue,
                 int&nbsp;stopSearchOperator,
                 <a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTree.html" title="class in org.apache.derby.impl.store.access.btree">BTree</a>&nbsp;conglomerate,
                 <a href="../../../../../../../org/apache/derby/iapi/store/access/conglomerate/LogicalUndo.html" title="interface in org.apache.derby.iapi.store.access.conglomerate">LogicalUndo</a>&nbsp;undo,
                 <a href="../../../../../../../org/apache/derby/iapi/store/access/StaticCompiledOpenConglomInfo.html" title="interface in org.apache.derby.iapi.store.access">StaticCompiledOpenConglomInfo</a>&nbsp;static_info,
                 <a href="../../../../../../../org/apache/derby/iapi/store/access/DynamicCompiledOpenConglomInfo.html" title="interface in org.apache.derby.iapi.store.access">DynamicCompiledOpenConglomInfo</a>&nbsp;dynamic_info)
          throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Initialize the scan for use.
    <p>
    Any changes to this method may have to be reflected in close as well.
    <p>
    The btree init opens the container (super.init), and stores away the
    state of the qualifiers.  The actual searching for the first position
    is delayed until the first next() call.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()
           throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Close the scan.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/access/GenericScanController.html#close--">close</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/GenericScanController.html" title="interface in org.apache.derby.iapi.store.access">GenericScanController</a></code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#close--">close</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html" title="class in org.apache.derby.impl.store.access.btree">OpenBTree</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="delete--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delete</h4>
<pre>public&nbsp;boolean&nbsp;delete()
               throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Delete the row at the current position of the scan.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/access/ScanController.html#delete--">delete</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/ScanController.html" title="interface in org.apache.derby.iapi.store.access">ScanController</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the delete was successful,
        false if the current position is no longer valid (ie. if it was already
        deleted).</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/access/ScanController.html#delete--"><code>ScanController.delete()</code></a></dd>
</dl>
</li>
</ul>
<a name="didNotQualify--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>didNotQualify</h4>
<pre>public&nbsp;void&nbsp;didNotQualify()
                   throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">A call to allow client to indicate that current row does not qualify.
 <p>
 Indicates to the ScanController that the current row does not
 qualify for the scan.  If the isolation level of the scan allows, 
 this may result in the scan releasing the lock on this row.
 <p>
 Note that some scan implimentations may not support releasing locks on 
 non-qualifying rows, or may delay releasing the lock until sometime
 later in the scan (ie. it may be necessary to keep the lock until 
 either the scan is repositioned on the next row or page).
 <p>
 This call should only be made while the scan is positioned on a current
 valid row.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/access/ScanController.html#didNotQualify--">didNotQualify</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/ScanController.html" title="interface in org.apache.derby.iapi.store.access">ScanController</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="doesCurrentPositionQualify--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doesCurrentPositionQualify</h4>
<pre>public&nbsp;boolean&nbsp;doesCurrentPositionQualify()
                                   throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Returns true if the current position of the scan still qualifies
 under the set of qualifiers passed to the openScan().  When called
 this routine will reapply all qualifiers against the row currently
 positioned and return true if the row still qualifies.  If the row
 has been deleted or no longer passes the qualifiers then this routine
 will return false.
 <p>
 This case can come about if the current scan
 or another scan on the same table in the same transaction
 deleted the row or changed columns referenced by the qualifier after
 the next() call which positioned the scan at this row.
 <p>
 Note that for comglomerates which don't support update, like btree's,
 there is no need to recheck the qualifiers.
 <p>
 The results of a fetch() performed on a scan positioned on
 a deleted row are undefined.
 <p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/access/ScanController.html#doesCurrentPositionQualify--">doesCurrentPositionQualify</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/ScanController.html" title="interface in org.apache.derby.iapi.store.access">ScanController</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="fetch-org.apache.derby.iapi.types.DataValueDescriptor:A-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetch</h4>
<pre>private&nbsp;void&nbsp;fetch(<a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;row,
                   boolean&nbsp;qualify)
            throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Fetch the row at the current position of the Scan.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>row</code> - The row into which the value of the current 
 position in the scan is to be stored.</dd>
<dd><code>qualify</code> - indicates whether the qualifiers should be applied.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="isHeldAfterCommit--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isHeldAfterCommit</h4>
<pre>public&nbsp;boolean&nbsp;isHeldAfterCommit()
                          throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/ScanController.html#isHeldAfterCommit--">ScanController</a></code></span></div>
<div class="block">Return true is the scan has been closed after a commit, but was
 opened with holdability and can be reopened using
 positionAtRowLocation.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/access/ScanController.html#isHeldAfterCommit--">isHeldAfterCommit</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/ScanController.html" title="interface in org.apache.derby.iapi.store.access">ScanController</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/access/ScanController.html#isHeldAfterCommit--"><code>ScanController.isHeldAfterCommit()</code></a></dd>
</dl>
</li>
</ul>
<a name="fetch-org.apache.derby.iapi.types.DataValueDescriptor:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetch</h4>
<pre>public&nbsp;void&nbsp;fetch(<a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;row)
           throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Fetch the row at the current position of the Scan.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/access/ScanController.html#fetch-org.apache.derby.iapi.types.DataValueDescriptor:A-">fetch</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/ScanController.html" title="interface in org.apache.derby.iapi.store.access">ScanController</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>row</code> - The row into which the value of the current 
    position in the scan is to be stored.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/access/ScanController.html#fetch-org.apache.derby.iapi.types.DataValueDescriptor:A-"><code>ScanController.fetch(org.apache.derby.iapi.types.DataValueDescriptor[])</code></a></dd>
</dl>
</li>
</ul>
<a name="fetchWithoutQualify-org.apache.derby.iapi.types.DataValueDescriptor:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchWithoutQualify</h4>
<pre>public&nbsp;void&nbsp;fetchWithoutQualify(<a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;row)
                         throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Fetch the row at the current position of the Scan without applying the 
 qualifiers.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/access/ScanController.html#fetchWithoutQualify-org.apache.derby.iapi.types.DataValueDescriptor:A-">fetchWithoutQualify</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/ScanController.html" title="interface in org.apache.derby.iapi.store.access">ScanController</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>row</code> - The row into which the value of the current 
     position in the scan is to be stored.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/access/ScanController.html#fetchWithoutQualify-org.apache.derby.iapi.types.DataValueDescriptor:A-"><code>ScanController.fetchWithoutQualify(org.apache.derby.iapi.types.DataValueDescriptor[])</code></a></dd>
</dl>
</li>
</ul>
<a name="getScanInfo--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getScanInfo</h4>
<pre>public&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/access/ScanInfo.html" title="interface in org.apache.derby.iapi.store.access">ScanInfo</a>&nbsp;getScanInfo()
                     throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Return ScanInfo object which describes performance of scan.
 <p>
 Return ScanInfo object which contains information about the current
 scan.
 <p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/access/GenericScanController.html#getScanInfo--">getScanInfo</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/GenericScanController.html" title="interface in org.apache.derby.iapi.store.access">GenericScanController</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The ScanInfo object which contains info about current scan.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/access/ScanInfo.html" title="interface in org.apache.derby.iapi.store.access"><code>ScanInfo</code></a></dd>
</dl>
</li>
</ul>
<a name="isCurrentPositionDeleted--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isCurrentPositionDeleted</h4>
<pre>public&nbsp;boolean&nbsp;isCurrentPositionDeleted()
                                 throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Returns true if the current position of the scan is at a
    deleted row.  This case can come about if the current scan
    or another scan on the same table in the same transaction
    deleted the row after the next() call which positioned the
    scan at this row.

    The results of a fetch() performed on a scan positioned on
    a deleted row are undefined.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/access/ScanController.html#isCurrentPositionDeleted--">isCurrentPositionDeleted</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/ScanController.html" title="interface in org.apache.derby.iapi.store.access">ScanController</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="isKeyed--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isKeyed</h4>
<pre>public&nbsp;boolean&nbsp;isKeyed()</pre>
<div class="block">Return whether this is a keyed conglomerate.
 <p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/access/GenericScanController.html#isKeyed--">isKeyed</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/GenericScanController.html" title="interface in org.apache.derby.iapi.store.access">GenericScanController</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>whether this is a keyed conglomerate.</dd>
</dl>
</li>
</ul>
<a name="positionAtRowLocation-org.apache.derby.iapi.types.RowLocation-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>positionAtRowLocation</h4>
<pre>public&nbsp;boolean&nbsp;positionAtRowLocation(<a href="../../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>&nbsp;rLoc)
                              throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/ScanController.html#positionAtRowLocation-org.apache.derby.iapi.types.RowLocation-">ScanController</a></code></span></div>
<div class="block">Positions the scan at row location and locks the row. 
 If the scan is not opened, it will be reopened if this is a holdable 
 scan and there has not been any operations which causes RowLocations 
 to be invalidated.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/access/ScanController.html#positionAtRowLocation-org.apache.derby.iapi.types.RowLocation-">positionAtRowLocation</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/ScanController.html" title="interface in org.apache.derby.iapi.store.access">ScanController</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rLoc</code> - RowLocation for the new position for the scan. The 
           RowLocation submitted should be a RowLocation which has 
           previously been returned by this ScanController.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the scan has been positioned at the RowLocation.
         false if the scan could not be positioned.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/access/ScanController.html#positionAtRowLocation-org.apache.derby.iapi.types.RowLocation-"><code>Not implemented for this class</code></a></dd>
</dl>
</li>
</ul>
<a name="next--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>next</h4>
<pre>public&nbsp;boolean&nbsp;next()
             throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Move to the next position in the scan.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/access/GroupFetchScanController.html#next--">next</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/GroupFetchScanController.html" title="interface in org.apache.derby.iapi.store.access">GroupFetchScanController</a></code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/access/ScanController.html#next--">next</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/ScanController.html" title="interface in org.apache.derby.iapi.store.access">ScanController</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True if there is a next position in the scan,
        false if there isn't.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/access/ScanController.html#next--"><code>ScanController.next()</code></a></dd>
</dl>
</li>
</ul>
<a name="fetchNext-org.apache.derby.iapi.types.DataValueDescriptor:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchNext</h4>
<pre>public&nbsp;boolean&nbsp;fetchNext(<a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;row)
                  throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Fetch the row at the next position of the Scan.

    If there is a valid next position in the scan then
    the value in the template storable row is replaced
    with the value of the row at the current scan
    position.  The columns of the template row must
    be of the same type as the actual columns in the
    underlying conglomerate.

    The resulting contents of templateRow after a fetchNext() 
    which returns false is undefined.

    The result of calling fetchNext(row) is exactly logically
    equivalent to making a next() call followed by a fetch(row)
    call.  This interface allows implementations to optimize 
    the 2 calls if possible.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/access/ScanController.html#fetchNext-org.apache.derby.iapi.types.DataValueDescriptor:A-">fetchNext</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/ScanController.html" title="interface in org.apache.derby.iapi.store.access">ScanController</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>row</code> - The template row into which the value
    of the next position in the scan is to be stored.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True if there is a next position in the scan,
    false if there isn't.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/access/ScanController.html#fetch-org.apache.derby.iapi.types.DataValueDescriptor:A-"><code>ScanController.fetch(org.apache.derby.iapi.types.DataValueDescriptor[])</code></a>, 
<a href="../../../../../../../org/apache/derby/iapi/store/access/RowUtil.html" title="class in org.apache.derby.iapi.store.access"><code>RowUtil</code></a></dd>
</dl>
</li>
</ul>
<a name="fetchNextGroup-org.apache.derby.iapi.types.DataValueDescriptor:A:A-org.apache.derby.iapi.types.RowLocation:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchNextGroup</h4>
<pre>public&nbsp;int&nbsp;fetchNextGroup(<a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[][]&nbsp;row_array,
                          <a href="../../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>[]&nbsp;rowloc_array)
                   throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Fetch the next N rows from the table.
 <p>
 The client allocates an array of N rows and passes it into the
 fetchNextSet() call.  This routine does the equivalent of N 
 fetchNext() calls, filling in each of the rows in the array.
 Locking is performed exactly as if the N fetchNext() calls had
 been made.
 <p>
 It is up to Access how many rows to return.  fetchNextSet() will
 return how many rows were filled in.  If fetchNextSet() returns 0
 then the scan is complete, (ie. the scan is in the same state as if
 fetchNext() had returned false).  If the scan is not complete then
 fetchNext() will return (1 &lt;= row_count &lt;= N).
 <p>
 The current position of the scan is undefined if fetchNextSet()
 is used (ie. mixing fetch()/fetchNext() and fetchNextSet() calls
 in a single scan does not work).  This is because a fetchNextSet()
 request for 5 rows from a heap where the first 2 rows qualify, but
 no other rows qualify will result in the scan being positioned at
 the end of the table, while if 5 rows did qualify the scan will be
 positioned on the 5th row.
 <p>
 Qualifiers, start and stop positioning of the openscan are applied
 just as in a normal scan. 
 <p>
 The columns of the row will be the standard columns returned as
 part of a scan, as described by the validColumns - see openScan for
 description.
 <p>
 Expected usage:

 // allocate an array of 5 empty row templates
 DataValueDescriptor[][] row_array = allocate_row_array(5);
 int row_cnt = 0;

 scan = openScan();

 while ((row_cnt = scan.fetchNextSet(row_array) != 0)
 {
     // I got "row_cnt" rows from the scan.  These rows will be
     // found in row_array[0] through row_array[row_cnt - 1]
 }

 <p>

 RESOLVE - This interface is being provided so that we can prototype
           the performance results it can achieve.  If it looks like
           this interface is useful, it is very likely we will look
           into a better way to tie together the now 4 different
           fetch interfaces: fetch, fetchNext(), fetchNextGroup(),
           and fetchSet().</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/access/GroupFetchScanController.html#fetchNextGroup-org.apache.derby.iapi.types.DataValueDescriptor:A:A-org.apache.derby.iapi.types.RowLocation:A-">fetchNextGroup</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/GroupFetchScanController.html" title="interface in org.apache.derby.iapi.store.access">GroupFetchScanController</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>row_array</code> - The array of rows to copy rows into.  
                          row_array[].length must &gt;= 1.  This routine
                          assumes that all entries in the array 
                          contain complete template rows.</dd>
<dd><code>rowloc_array</code> - If non-null, the array of row locations to 
                          copy into.  If null, no row locations are
                          retrieved.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of qualifying rows found and copied into the 
         provided array of rows.  If 0 then the scan is complete, 
         otherwise the return value will be: 
         1 &lt;= row_count &lt;= row_array.length</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="fetchNextGroup-org.apache.derby.iapi.types.DataValueDescriptor:A:A-org.apache.derby.iapi.types.RowLocation:A-org.apache.derby.iapi.types.RowLocation:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchNextGroup</h4>
<pre>public&nbsp;int&nbsp;fetchNextGroup(<a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[][]&nbsp;row_array,
                          <a href="../../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>[]&nbsp;old_rowloc_array,
                          <a href="../../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>[]&nbsp;new_rowloc_array)
                   throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/access/GroupFetchScanController.html#fetchNextGroup-org.apache.derby.iapi.types.DataValueDescriptor:A:A-org.apache.derby.iapi.types.RowLocation:A-org.apache.derby.iapi.types.RowLocation:A-">fetchNextGroup</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/GroupFetchScanController.html" title="interface in org.apache.derby.iapi.store.access">GroupFetchScanController</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="fetchSet-long-int:A-org.apache.derby.iapi.store.access.BackingStoreHashtable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchSet</h4>
<pre>public&nbsp;void&nbsp;fetchSet(long&nbsp;max_rowcnt,
                     int[]&nbsp;key_column_numbers,
                     <a href="../../../../../../../org/apache/derby/iapi/store/access/BackingStoreHashtable.html" title="class in org.apache.derby.iapi.store.access">BackingStoreHashtable</a>&nbsp;hash_table)
              throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Insert all rows that qualify for the current scan into the input
 Hash table.  
 <p>
 This routine scans executes the entire scan as described in the 
 openScan call.  For every qualifying unique row value an entry is
 placed into the HashTable. For unique row values the entry in the
 BackingStoreHashtable has a key value of the object stored in 
 row[key_column_number], and the value of the data is row.  For row 
 values with duplicates, the key value is also row[key_column_number], 
 but the value of the data is a Vector of
 rows.  The caller will have to call "instanceof" on the data value
 object if duplicates are expected, to determine if the data value
 of the Hashtable entry is a row or is a Vector of rows.
 <p>
 Note, that for this routine to work efficiently the caller must 
 ensure that the object in row[key_column_number] implements 
 the hashCode and equals method as appropriate for it's datatype.
 <p>
 It is expected that this call will be the first and only call made in
 an openscan.  Qualifiers and stop position of the openscan are applied
 just as in a normal scan.  This call is logically equivalent to the 
 caller performing the following:

 import java.util.Hashtable;

 hash_table = new Hashtable();

 while (next())
 {
     row = create_new_row();
     fetch(row);
     if ((duplicate_value = 
         hash_table.put(row[key_column_number], row)) != null)
     {
         Vector row_vec;

         // inserted a duplicate
         if ((duplicate_value instanceof vector))
         {
             row_vec = (Vector) duplicate_value;
         }
         else
         {
             // allocate vector to hold duplicates
             row_vec = new Vector(2);

             // insert original row into vector
             row_vec.addElement(duplicate_value);

             // put the vector as the data rather than the row
             hash_table.put(row[key_column_number], row_vec);
         }
         
         // insert new row into vector
         row_vec.addElement(row);
     }
 }
 <p>
 The columns of the row will be the standard columns returned as
 part of a scan, as described by the validColumns - see openScan for
 description.
 RESOLVE - is this ok?  or should I hard code somehow the row to
           be the first column and the row location?
 <p>
 Currently it is only possible to hash on the first column in the
 conglomerate, in the future we may change the interface to allow
 hashing either on a different column or maybe on a combination of
 columns.
 <p>
 No overflow to external storage is provided, so calling this routine
 on a 1 gigabyte conglomerate will incur at least 1 gigabyte of memory
 (probably failing with a java out of memory condition).  If this
 routine gets an out of memory condition, or if "max_rowcnt" is 
 exceeded then then the routine will give up, empty the Hashtable, 
 and return "false."
 <p>
 On exit from this routine, whether the fetchSet() succeeded or not
 the scan is complete, it is positioned just the same as if the scan
 had been drained by calling "next()" until it returns false (ie. 
 fetchNext() and next() calls will return false).  
 reopenScan() can be called to restart the scan.
 <p>

 RESOLVE - until we get row counts what should we do for sizing the
           the size, capasity, and load factor of the hash table.
           For now it is up to the caller to create the Hashtable,
           Access does not reset any parameters.
 <p>
 RESOLVE - I am not sure if access should be in charge of allocating
           the new row objects.  I know that I can do this in the
           case of btree's, but I don't think I can do this in heaps.
           Maybe this is solved by work to be done on the sort 
           interface.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/access/conglomerate/ScanManager.html#fetchSet-long-int:A-org.apache.derby.iapi.store.access.BackingStoreHashtable-">fetchSet</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/conglomerate/ScanManager.html" title="interface in org.apache.derby.iapi.store.access.conglomerate">ScanManager</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>max_rowcnt</code> - The maximum number of rows to insert into the 
                          Hash table.  Pass in -1 if there is no maximum.</dd>
<dd><code>key_column_numbers</code> - The column numbers of the columns in the
                          scan result row to be the key to the Hashtable.
                          "0" is the first column in the scan result
                          row (which may be different than the first
                          column in the row in the table of the scan).</dd>
<dd><code>hash_table</code> - The java HashTable to load into.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="reopenScan-org.apache.derby.iapi.types.DataValueDescriptor:A-int-org.apache.derby.iapi.store.access.Qualifier:A:A-org.apache.derby.iapi.types.DataValueDescriptor:A-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reopenScan</h4>
<pre>public final&nbsp;void&nbsp;reopenScan(<a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;startKeyValue,
                             int&nbsp;startSearchOperator,
                             <a href="../../../../../../../org/apache/derby/iapi/store/access/Qualifier.html" title="interface in org.apache.derby.iapi.store.access">Qualifier</a>[][]&nbsp;qualifier,
                             <a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;stopKeyValue,
                             int&nbsp;stopSearchOperator)
                      throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Reposition the current scan.  This call is semantically the same as if
    the current scan had been closed and a openScan() had been called instead.
    The scan is reopened with against the same conglomerate, and the scan
    is reopened with the same "hold" and "forUpdate" parameters passed in
    the original openScan.  The previous template row continues to be used.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/access/GenericScanController.html#reopenScan-org.apache.derby.iapi.types.DataValueDescriptor:A-int-org.apache.derby.iapi.store.access.Qualifier:A:A-org.apache.derby.iapi.types.DataValueDescriptor:A-int-">reopenScan</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/GenericScanController.html" title="interface in org.apache.derby.iapi.store.access">GenericScanController</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>startKeyValue</code> - An indexable row which holds a
    (partial) key value which, in combination with the
    startSearchOperator, defines the starting position of
    the scan.  If null, the starting position of the scan
    is the first row of the conglomerate.</dd>
<dd><code>startSearchOperator</code> - an operator which defines
    how the startKeyValue is to be searched for.  If
    startSearchOperation is ScanController.GE, the scan starts on
    the first row which is greater than or equal to the
    startKeyValue.  If startSearchOperation is ScanController.GT,
    the scan starts on the first row whose key is greater than
    startKeyValue.  The startSearchOperation parameter is
    ignored if the startKeyValue parameter is null.</dd>
<dd><code>qualifier</code> - An array of qualifiers which, applied
    to each key, restrict the rows returned by the scan.  Rows
    for which any one of the qualifiers returns false are not
    returned by the scan. If null, all rows are returned.</dd>
<dd><code>stopKeyValue</code> - An indexable row which holds a
    (partial) key value which, in combination with the
    stopSearchOperator, defines the ending position of
    the scan.  If null, the ending position of the scan
    is the last row of the conglomerate.</dd>
<dd><code>stopSearchOperator</code> - an operator which defines
    how the stopKeyValue is used to determine the scan stopping
    position. If stopSearchOperation is ScanController.GE, the scan
    stops just before the first row which is greater than or
    equal to the stopKeyValue.  If stopSearchOperation is
    ScanController.GT, the scan stops just before the first row whose
    key is greater than startKeyValue.  The stopSearchOperation
    parameter is ignored if the stopKeyValue parameter is null.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="reopenScanByRowLocation-org.apache.derby.iapi.types.RowLocation-org.apache.derby.iapi.store.access.Qualifier:A:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reopenScanByRowLocation</h4>
<pre>public&nbsp;void&nbsp;reopenScanByRowLocation(<a href="../../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>&nbsp;startRowLocation,
                                    <a href="../../../../../../../org/apache/derby/iapi/store/access/Qualifier.html" title="interface in org.apache.derby.iapi.store.access">Qualifier</a>[][]&nbsp;qualifier)
                             throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Reposition the current scan.  This call is semantically the same as if
    the current scan had been closed and a openScan() had been called instead.
    The scan is reopened against the same conglomerate, and the scan
    is reopened with the same "scan column list", "hold" and "forUpdate"
    parameters passed in the original openScan.  
    <p>
    The statistics gathered by the scan are not reset to 0 by a reopenScan(),
    rather they continue to accumulate.
    <p>
    Note that this operation is currently only supported on Heap conglomerates.
    Also note that order of rows within are heap are not guaranteed, so for
    instance positioning at a RowLocation in the "middle" of a heap, then
    inserting more data, then continuing the scan is not guaranteed to see
    the new rows - they may be put in the "beginning" of the heap.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/access/GenericScanController.html#reopenScanByRowLocation-org.apache.derby.iapi.types.RowLocation-org.apache.derby.iapi.store.access.Qualifier:A:A-">reopenScanByRowLocation</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/GenericScanController.html" title="interface in org.apache.derby.iapi.store.access">GenericScanController</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>startRowLocation</code> - An existing RowLocation within the conglomerate,
    at which to position the start of the scan.  The scan will begin at this
    location and continue forward until the end of the conglomerate.  
    Positioning at a non-existent RowLocation (ie. an invalid one or one that
    had been deleted), will result in an exception being thrown when the 
    first next operation is attempted.</dd>
<dd><code>qualifier</code> - An array of qualifiers which, applied
    to each key, restrict the rows returned by the scan.  Rows
    for which any one of the qualifiers returns false are not
    returned by the scan. If null, all rows are returned.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="fetchLocation-org.apache.derby.iapi.types.RowLocation-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchLocation</h4>
<pre>public&nbsp;void&nbsp;fetchLocation(<a href="../../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>&nbsp;templateLocation)
                   throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Fetch the location of the current position in the scan.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/access/ScanController.html#fetchLocation-org.apache.derby.iapi.types.RowLocation-">fetchLocation</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/ScanController.html" title="interface in org.apache.derby.iapi.store.access">ScanController</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/access/ScanController.html#fetchLocation-org.apache.derby.iapi.types.RowLocation-"><code>ScanController.fetchLocation(org.apache.derby.iapi.types.RowLocation)</code></a></dd>
</dl>
</li>
</ul>
<a name="newRowLocationTemplate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newRowLocationTemplate</h4>
<pre>public&nbsp;<a href="../../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>&nbsp;newRowLocationTemplate()
                                   throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Return a row location object of the correct type to be
    used in calls to fetchLocation.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/access/GenericScanController.html#newRowLocationTemplate--">newRowLocationTemplate</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/GenericScanController.html" title="interface in org.apache.derby.iapi.store.access">GenericScanController</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a row location object to be used in calls to fetchLocation.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/access/GenericScanController.html#newRowLocationTemplate--"><code>GenericScanController.newRowLocationTemplate()</code></a></dd>
</dl>
</li>
</ul>
<a name="replace-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.iapi.services.io.FormatableBitSet-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>replace</h4>
<pre>public&nbsp;boolean&nbsp;replace(<a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;row,
                       <a href="../../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a>&nbsp;validColumns)
                throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Replace the entire row at the current position of the scan.

    Unimplemented interface by btree, will throw an exception.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/access/ScanController.html#replace-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.iapi.services.io.FormatableBitSet-">replace</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/ScanController.html" title="interface in org.apache.derby.iapi.store.access">ScanController</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the replace was successful,
        false if the current position is no longer valid (ie. if it was deleted).</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/access/ScanController.html#replace-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.iapi.services.io.FormatableBitSet-"><code>ScanController.replace(org.apache.derby.iapi.types.DataValueDescriptor[], org.apache.derby.iapi.services.io.FormatableBitSet)</code></a></dd>
</dl>
</li>
</ul>
<a name="closeForEndTransaction-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeForEndTransaction</h4>
<pre>public&nbsp;boolean&nbsp;closeForEndTransaction(boolean&nbsp;closeHeldScan)
                               throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Close the scan, a commit or abort is about to happen.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/access/conglomerate/ScanManager.html#closeForEndTransaction-boolean-">closeForEndTransaction</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/conglomerate/ScanManager.html" title="interface in org.apache.derby.iapi.store.access.conglomerate">ScanManager</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>closeHeldScan</code> - If true, means to close scan even if it has been
                          opened to be kept opened across commit.  This is
                          used to close these scans on abort.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>boolean indicating that the close has resulted in a real close
                 of the scan.  A held scan will return false if called 
                 by closeForEndTransaction(false), otherwise it will 
                 return true.  A non-held scan will always return true.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="savePositionAndReleasePage-org.apache.derby.iapi.types.DataValueDescriptor:A-int:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>savePositionAndReleasePage</h4>
<pre>void&nbsp;savePositionAndReleasePage(<a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;partialKey,
                                int[]&nbsp;vcols)
                         throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Save the current scan position by key and release the latch on the leaf
 that's being scanned. This method should be called if the latch on a
 leaf needs to be released in the middle of the scan. The scan can
 later reposition to the saved position by calling <code>reposition()</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>partialKey</code> - known parts of the key that should be saved, or
 <code>null</code> if the entire key is unknown and will have to be fetched
 from the page</dd>
<dd><code>vcols</code> - an array which tells which columns of the partial key are
 valid (key columns that have 0 in this array are not valid, and their
 values must be fetched from the page), or <code>null</code> if all the
 columns are valid</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - if an error occurs while saving the position</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScan.html#reposition-org.apache.derby.impl.store.access.btree.BTreeRowPosition-boolean-"><code>reposition(BTreeRowPosition, boolean)</code></a></dd>
</dl>
</li>
</ul>
<a name="savePositionAndReleasePage--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>savePositionAndReleasePage</h4>
<pre>void&nbsp;savePositionAndReleasePage()
                         throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Shortcut for for savePositionAndReleasePage(null,null).</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="getCurrentRecordHandleForDebugging--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentRecordHandleForDebugging</h4>
<pre>public&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;getCurrentRecordHandleForDebugging()</pre>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Built on Mon 2017-07-03 23:03:59+0530, from revision Unversioned directory</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeRowPosition.html" title="class in org.apache.derby.impl.store.access.btree"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeScanInfo.html" title="class in org.apache.derby.impl.store.access.btree"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/derby/impl/store/access/btree/BTreeScan.html" target="_top">Frames</a></li>
<li><a href="BTreeScan.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Apache Derby V10.13 Internals - <i>Copyright &copy; 2004,2016 The Apache Software Foundation. All Rights Reserved.</i></small></p>
</body>
</html>
