<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_66) on Mon Jul 03 23:05:30 IST 2017 -->
<title>B2INoLocking (Apache Derby V10.13 Internals)</title>
<meta name="date" content="2017-07-03">
<link rel="stylesheet" type="text/css" href="../../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="B2INoLocking (Apache Derby V10.13 Internals)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../../org/apache/derby/impl/store/access/btree/index/B2IMaxScan.html" title="class in org.apache.derby.impl.store.access.btree.index"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../../org/apache/derby/impl/store/access/btree/index/B2IRowLocking1.html" title="class in org.apache.derby.impl.store.access.btree.index"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../../index.html?org/apache/derby/impl/store/access/btree/index/B2INoLocking.html" target="_top">Frames</a></li>
<li><a href="B2INoLocking.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.derby.impl.store.access.btree.index</div>
<h2 title="Class B2INoLocking" class="title">Class B2INoLocking</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.derby.impl.store.access.btree.index.B2INoLocking</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../../../../org/apache/derby/impl/store/access/btree/BTreeLockingPolicy.html" title="interface in org.apache.derby.impl.store.access.btree">BTreeLockingPolicy</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../../../../org/apache/derby/impl/store/access/btree/index/B2ITableLocking3.html" title="class in org.apache.derby.impl.store.access.btree.index">B2ITableLocking3</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">B2INoLocking</span>
extends java.lang.Object
implements <a href="../../../../../../../../org/apache/derby/impl/store/access/btree/BTreeLockingPolicy.html" title="interface in org.apache.derby.impl.store.access.btree">BTreeLockingPolicy</a></pre>
<div class="block">Secondary index locking policy that does no locking.
<p>
This is used when the caller knows that logical locks are already obtained 
so need not be requested again.  For instance when inserting a row into
an index, a X row lock has already been obtained when the row was inserted
into the base table, so there is no need to get another lock in the 
secondary index.
<p>
This class overrides all interfaces of BTreeLockingPolicy making them
no-ops.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../org/apache/derby/impl/store/access/btree/index/B2INoLocking.html#B2INoLocking--">B2INoLocking</a></span>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../org/apache/derby/impl/store/access/btree/index/B2INoLocking.html#B2INoLocking-org.apache.derby.iapi.store.raw.Transaction-int-org.apache.derby.iapi.store.raw.LockingPolicy-org.apache.derby.iapi.store.access.ConglomerateController-org.apache.derby.impl.store.access.btree.OpenBTree-">B2INoLocking</a></span>(<a href="../../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a>&nbsp;rawtran,
            int&nbsp;lock_level,
            <a href="../../../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw">LockingPolicy</a>&nbsp;locking_policy,
            <a href="../../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html" title="interface in org.apache.derby.iapi.store.access">ConglomerateController</a>&nbsp;base_cc,
            <a href="../../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html" title="class in org.apache.derby.impl.store.access.btree">OpenBTree</a>&nbsp;open_btree)</code>
<div class="block">Constructors for This class:</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../org/apache/derby/impl/store/access/btree/index/B2INoLocking.html#lockNonScanPreviousRow-org.apache.derby.impl.store.access.btree.LeafControlRow-int-org.apache.derby.iapi.store.raw.FetchDescriptor-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.iapi.types.RowLocation-org.apache.derby.impl.store.access.btree.OpenBTree-int-int-">lockNonScanPreviousRow</a></span>(<a href="../../../../../../../../org/apache/derby/impl/store/access/btree/LeafControlRow.html" title="class in org.apache.derby.impl.store.access.btree">LeafControlRow</a>&nbsp;current_leaf,
                      int&nbsp;current_slot,
                      <a href="../../../../../../../../org/apache/derby/iapi/store/raw/FetchDescriptor.html" title="class in org.apache.derby.iapi.store.raw">FetchDescriptor</a>&nbsp;lock_fetch_desc,
                      <a href="../../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;lock_template,
                      <a href="../../../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>&nbsp;lock_row_loc,
                      <a href="../../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html" title="class in org.apache.derby.impl.store.access.btree">OpenBTree</a>&nbsp;open_btree,
                      int&nbsp;lock_operation,
                      int&nbsp;lock_duration)</code>
<div class="block">Lock the row previous to the input row.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../org/apache/derby/impl/store/access/btree/index/B2INoLocking.html#lockNonScanRow-org.apache.derby.impl.store.access.btree.BTree-org.apache.derby.impl.store.access.btree.LeafControlRow-org.apache.derby.impl.store.access.btree.LeafControlRow-org.apache.derby.iapi.types.DataValueDescriptor:A-int-">lockNonScanRow</a></span>(<a href="../../../../../../../../org/apache/derby/impl/store/access/btree/BTree.html" title="class in org.apache.derby.impl.store.access.btree">BTree</a>&nbsp;btree,
              <a href="../../../../../../../../org/apache/derby/impl/store/access/btree/LeafControlRow.html" title="class in org.apache.derby.impl.store.access.btree">LeafControlRow</a>&nbsp;current_leaf,
              <a href="../../../../../../../../org/apache/derby/impl/store/access/btree/LeafControlRow.html" title="class in org.apache.derby.impl.store.access.btree">LeafControlRow</a>&nbsp;aux_leaf,
              <a href="../../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;current_row,
              int&nbsp;lock_operation)</code>
<div class="block">Lock the in memory row.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../org/apache/derby/impl/store/access/btree/index/B2INoLocking.html#lockNonScanRowOnPage-org.apache.derby.impl.store.access.btree.LeafControlRow-int-org.apache.derby.iapi.store.raw.FetchDescriptor-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.iapi.types.RowLocation-int-">lockNonScanRowOnPage</a></span>(<a href="../../../../../../../../org/apache/derby/impl/store/access/btree/LeafControlRow.html" title="class in org.apache.derby.impl.store.access.btree">LeafControlRow</a>&nbsp;current_leaf,
                    int&nbsp;current_slot,
                    <a href="../../../../../../../../org/apache/derby/iapi/store/raw/FetchDescriptor.html" title="class in org.apache.derby.iapi.store.raw">FetchDescriptor</a>&nbsp;lock_fetch_desc,
                    <a href="../../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;lock_template,
                    <a href="../../../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>&nbsp;lock_row_loc,
                    int&nbsp;lock_operation)</code>
<div class="block">Lock the row at the given slot.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../org/apache/derby/impl/store/access/btree/index/B2INoLocking.html#lockScanCommittedDeletedRow-org.apache.derby.impl.store.access.btree.OpenBTree-org.apache.derby.impl.store.access.btree.LeafControlRow-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.iapi.store.raw.FetchDescriptor-int-">lockScanCommittedDeletedRow</a></span>(<a href="../../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html" title="class in org.apache.derby.impl.store.access.btree">OpenBTree</a>&nbsp;open_btree,
                           <a href="../../../../../../../../org/apache/derby/impl/store/access/btree/LeafControlRow.html" title="class in org.apache.derby.impl.store.access.btree">LeafControlRow</a>&nbsp;leaf,
                           <a href="../../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;template,
                           <a href="../../../../../../../../org/apache/derby/iapi/store/raw/FetchDescriptor.html" title="class in org.apache.derby.iapi.store.raw">FetchDescriptor</a>&nbsp;lock_fetch_desc,
                           int&nbsp;slot_no)</code>
<div class="block">Lock a btree row to determine if it is a committed deleted row.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../org/apache/derby/impl/store/access/btree/index/B2INoLocking.html#lockScanRow-org.apache.derby.impl.store.access.btree.OpenBTree-org.apache.derby.impl.store.access.btree.BTreeRowPosition-org.apache.derby.iapi.store.raw.FetchDescriptor-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.iapi.types.RowLocation-boolean-boolean-int-">lockScanRow</a></span>(<a href="../../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html" title="class in org.apache.derby.impl.store.access.btree">OpenBTree</a>&nbsp;open_btree,
           <a href="../../../../../../../../org/apache/derby/impl/store/access/btree/BTreeRowPosition.html" title="class in org.apache.derby.impl.store.access.btree">BTreeRowPosition</a>&nbsp;pos,
           <a href="../../../../../../../../org/apache/derby/iapi/store/raw/FetchDescriptor.html" title="class in org.apache.derby.iapi.store.raw">FetchDescriptor</a>&nbsp;lock_fetch_desc,
           <a href="../../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;lock_template,
           <a href="../../../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>&nbsp;lock_row_loc,
           boolean&nbsp;previous_key_lock,
           boolean&nbsp;forUpdate,
           int&nbsp;lock_operation)</code>
<div class="block">Lock a row as part of doing the scan.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../org/apache/derby/impl/store/access/btree/index/B2INoLocking.html#unlockScanRecordAfterRead-org.apache.derby.impl.store.access.btree.BTreeRowPosition-boolean-">unlockScanRecordAfterRead</a></span>(<a href="../../../../../../../../org/apache/derby/impl/store/access/btree/BTreeRowPosition.html" title="class in org.apache.derby.impl.store.access.btree">BTreeRowPosition</a>&nbsp;pos,
                         boolean&nbsp;forUpdate)</code>
<div class="block">Release read lock on a row.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="B2INoLocking-org.apache.derby.iapi.store.raw.Transaction-int-org.apache.derby.iapi.store.raw.LockingPolicy-org.apache.derby.iapi.store.access.ConglomerateController-org.apache.derby.impl.store.access.btree.OpenBTree-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>B2INoLocking</h4>
<pre>public&nbsp;B2INoLocking(<a href="../../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a>&nbsp;rawtran,
                    int&nbsp;lock_level,
                    <a href="../../../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw">LockingPolicy</a>&nbsp;locking_policy,
                    <a href="../../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html" title="interface in org.apache.derby.iapi.store.access">ConglomerateController</a>&nbsp;base_cc,
                    <a href="../../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html" title="class in org.apache.derby.impl.store.access.btree">OpenBTree</a>&nbsp;open_btree)</pre>
<div class="block">Constructors for This class:</div>
</li>
</ul>
<a name="B2INoLocking--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>B2INoLocking</h4>
<pre>protected&nbsp;B2INoLocking()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="lockScanCommittedDeletedRow-org.apache.derby.impl.store.access.btree.OpenBTree-org.apache.derby.impl.store.access.btree.LeafControlRow-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.iapi.store.raw.FetchDescriptor-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lockScanCommittedDeletedRow</h4>
<pre>public&nbsp;boolean&nbsp;lockScanCommittedDeletedRow(<a href="../../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html" title="class in org.apache.derby.impl.store.access.btree">OpenBTree</a>&nbsp;open_btree,
                                           <a href="../../../../../../../../org/apache/derby/impl/store/access/btree/LeafControlRow.html" title="class in org.apache.derby.impl.store.access.btree">LeafControlRow</a>&nbsp;leaf,
                                           <a href="../../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;template,
                                           <a href="../../../../../../../../org/apache/derby/iapi/store/raw/FetchDescriptor.html" title="class in org.apache.derby.iapi.store.raw">FetchDescriptor</a>&nbsp;lock_fetch_desc,
                                           int&nbsp;slot_no)
                                    throws <a href="../../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Lock a btree row to determine if it is a committed deleted row.
 <p>
 Request an exclusive lock on the row located at the given slot, NOWAIT.
 Return true if the lock is granted, otherwise false.
 <p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../../org/apache/derby/impl/store/access/btree/BTreeLockingPolicy.html#lockScanCommittedDeletedRow-org.apache.derby.impl.store.access.btree.OpenBTree-org.apache.derby.impl.store.access.btree.LeafControlRow-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.iapi.store.raw.FetchDescriptor-int-">lockScanCommittedDeletedRow</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../../org/apache/derby/impl/store/access/btree/BTreeLockingPolicy.html" title="interface in org.apache.derby.impl.store.access.btree">BTreeLockingPolicy</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>open_btree</code> - The conglomerate we are locking.</dd>
<dd><code>leaf</code> - The leaf page with the row to lock.</dd>
<dd><code>template</code> - A scratch area to use to read in RowLocation.</dd>
<dd><code>slot_no</code> - The slot of row on "current_leaf"</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="lockScanRow-org.apache.derby.impl.store.access.btree.OpenBTree-org.apache.derby.impl.store.access.btree.BTreeRowPosition-org.apache.derby.iapi.store.raw.FetchDescriptor-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.iapi.types.RowLocation-boolean-boolean-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lockScanRow</h4>
<pre>public&nbsp;boolean&nbsp;lockScanRow(<a href="../../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html" title="class in org.apache.derby.impl.store.access.btree">OpenBTree</a>&nbsp;open_btree,
                           <a href="../../../../../../../../org/apache/derby/impl/store/access/btree/BTreeRowPosition.html" title="class in org.apache.derby.impl.store.access.btree">BTreeRowPosition</a>&nbsp;pos,
                           <a href="../../../../../../../../org/apache/derby/iapi/store/raw/FetchDescriptor.html" title="class in org.apache.derby.iapi.store.raw">FetchDescriptor</a>&nbsp;lock_fetch_desc,
                           <a href="../../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;lock_template,
                           <a href="../../../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>&nbsp;lock_row_loc,
                           boolean&nbsp;previous_key_lock,
                           boolean&nbsp;forUpdate,
                           int&nbsp;lock_operation)
                    throws <a href="../../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Lock a row as part of doing the scan.
 <p>
 Lock the row at the given slot (or the previous row if slot is 0).
 <p>
 If this routine returns true all locks were acquired while maintaining
 the latch on leaf.  If this routine returns false, locks may or may
 not have been acquired, and the routine should be called again after
 the client has researched the tree to reget the latch on the 
 appropriate page.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../../org/apache/derby/impl/store/access/btree/BTreeLockingPolicy.html#lockScanRow-org.apache.derby.impl.store.access.btree.OpenBTree-org.apache.derby.impl.store.access.btree.BTreeRowPosition-org.apache.derby.iapi.store.raw.FetchDescriptor-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.iapi.types.RowLocation-boolean-boolean-int-">lockScanRow</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../../org/apache/derby/impl/store/access/btree/BTreeLockingPolicy.html" title="interface in org.apache.derby.impl.store.access.btree">BTreeLockingPolicy</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pos</code> - The position of the row to lock.</dd>
<dd><code>open_btree</code> - The open_btree to associate latches with - 
                          used if routine has to scan backward.</dd>
<dd><code>lock_template</code> - A scratch area to use to read in rows.</dd>
<dd><code>previous_key_lock</code> - Is this a previous key lock call?</dd>
<dd><code>forUpdate</code> - Is the scan for update or for read only.</dd>
<dd><code>lock_operation</code> - For what operation are we requesting the lock, 
                          this should be one of the following 4 options:
                          LOCK_READ [read lock], 
                          (LOCK_INS | LOCK_UPD) [ lock for insert], 
                          (LOCK_INSERT_PREVKEY | LOCK_UPD) [lock for 
                          previous key to insert],
                          (LOCK_UPD) [lock for delete or replace]</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Whether locks were acquired without releasing latch on leaf.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="unlockScanRecordAfterRead-org.apache.derby.impl.store.access.btree.BTreeRowPosition-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlockScanRecordAfterRead</h4>
<pre>public&nbsp;void&nbsp;unlockScanRecordAfterRead(<a href="../../../../../../../../org/apache/derby/impl/store/access/btree/BTreeRowPosition.html" title="class in org.apache.derby.impl.store.access.btree">BTreeRowPosition</a>&nbsp;pos,
                                      boolean&nbsp;forUpdate)
                               throws <a href="../../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Release read lock on a row.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../../org/apache/derby/impl/store/access/btree/BTreeLockingPolicy.html#unlockScanRecordAfterRead-org.apache.derby.impl.store.access.btree.BTreeRowPosition-boolean-">unlockScanRecordAfterRead</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../../org/apache/derby/impl/store/access/btree/BTreeLockingPolicy.html" title="interface in org.apache.derby.impl.store.access.btree">BTreeLockingPolicy</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>forUpdate</code> - Is the scan for update or for read only.</dd>
<dd><code>pos</code> - Data structure that defines the current position
                          in the scan to be unlocked.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="lockNonScanPreviousRow-org.apache.derby.impl.store.access.btree.LeafControlRow-int-org.apache.derby.iapi.store.raw.FetchDescriptor-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.iapi.types.RowLocation-org.apache.derby.impl.store.access.btree.OpenBTree-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lockNonScanPreviousRow</h4>
<pre>public&nbsp;boolean&nbsp;lockNonScanPreviousRow(<a href="../../../../../../../../org/apache/derby/impl/store/access/btree/LeafControlRow.html" title="class in org.apache.derby.impl.store.access.btree">LeafControlRow</a>&nbsp;current_leaf,
                                      int&nbsp;current_slot,
                                      <a href="../../../../../../../../org/apache/derby/iapi/store/raw/FetchDescriptor.html" title="class in org.apache.derby.iapi.store.raw">FetchDescriptor</a>&nbsp;lock_fetch_desc,
                                      <a href="../../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;lock_template,
                                      <a href="../../../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>&nbsp;lock_row_loc,
                                      <a href="../../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html" title="class in org.apache.derby.impl.store.access.btree">OpenBTree</a>&nbsp;open_btree,
                                      int&nbsp;lock_operation,
                                      int&nbsp;lock_duration)
                               throws <a href="../../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Lock the row previous to the input row.
 <p>
 See BTree.lockPreviousRow() for more info.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../../org/apache/derby/impl/store/access/btree/BTreeLockingPolicy.html#lockNonScanPreviousRow-org.apache.derby.impl.store.access.btree.LeafControlRow-int-org.apache.derby.iapi.store.raw.FetchDescriptor-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.iapi.types.RowLocation-org.apache.derby.impl.store.access.btree.OpenBTree-int-int-">lockNonScanPreviousRow</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../../org/apache/derby/impl/store/access/btree/BTreeLockingPolicy.html" title="interface in org.apache.derby.impl.store.access.btree">BTreeLockingPolicy</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>current_leaf</code> - Latched current leaf where "current" key is.</dd>
<dd><code>current_slot</code> - The slot of row on "current_leaf"</dd>
<dd><code>lock_template</code> - Empty full template row, to read row into.</dd>
<dd><code>open_btree</code> - The open_btree to associate latches with - 
                          used if routine has to scan backward.</dd>
<dd><code>lock_operation</code> - For what operation are we requesting the lock, 
                          this should be one of the following 4 options:
                          LOCK_READ [read lock], 
                          (LOCK_INS | LOCK_UPD) [ lock for insert], 
                          (LOCK_INSERT_PREVKEY | LOCK_UPD) [lock for 
                          previous key to insert],
                          (LOCK_UPD) [lock for delete or replace]</dd>
<dd><code>lock_duration</code> - For what duration should the lock be held,
                          if INSTANT_DURATION, then the routine will
                          guarantee that lock was acquired while holding
                          the latch, but then immediately release the
                          lock.  If COMMIT_DURATION or MANUAL_DURATION
                          then the lock be held when routine returns
                          successfully.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="lockNonScanRow-org.apache.derby.impl.store.access.btree.BTree-org.apache.derby.impl.store.access.btree.LeafControlRow-org.apache.derby.impl.store.access.btree.LeafControlRow-org.apache.derby.iapi.types.DataValueDescriptor:A-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lockNonScanRow</h4>
<pre>public&nbsp;boolean&nbsp;lockNonScanRow(<a href="../../../../../../../../org/apache/derby/impl/store/access/btree/BTree.html" title="class in org.apache.derby.impl.store.access.btree">BTree</a>&nbsp;btree,
                              <a href="../../../../../../../../org/apache/derby/impl/store/access/btree/LeafControlRow.html" title="class in org.apache.derby.impl.store.access.btree">LeafControlRow</a>&nbsp;current_leaf,
                              <a href="../../../../../../../../org/apache/derby/impl/store/access/btree/LeafControlRow.html" title="class in org.apache.derby.impl.store.access.btree">LeafControlRow</a>&nbsp;aux_leaf,
                              <a href="../../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;current_row,
                              int&nbsp;lock_operation)
                       throws <a href="../../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Lock the in memory row.
 <p>
 See BTree.lockRow() for more info.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../../org/apache/derby/impl/store/access/btree/BTreeLockingPolicy.html#lockNonScanRow-org.apache.derby.impl.store.access.btree.BTree-org.apache.derby.impl.store.access.btree.LeafControlRow-org.apache.derby.impl.store.access.btree.LeafControlRow-org.apache.derby.iapi.types.DataValueDescriptor:A-int-">lockNonScanRow</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../../org/apache/derby/impl/store/access/btree/BTreeLockingPolicy.html" title="interface in org.apache.derby.impl.store.access.btree">BTreeLockingPolicy</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>btree</code> - The conglomerate we are locking.</dd>
<dd><code>current_leaf</code> - If non-null, this leaf is unlatched if the 
                          routine has to wait on the lock.</dd>
<dd><code>aux_leaf</code> - If non-null, this leaf is unlatched if the 
                          routine has to wait on the lock.</dd>
<dd><code>current_row</code> - In memory, objectified "current" row.</dd>
<dd><code>lock_operation</code> - For what operation are we requesting the lock, 
                          this should be one of the following 4 options:
                          LOCK_READ [read lock], 
                          (LOCK_INS | LOCK_UPD) [ lock for insert], 
                          (LOCK_INSERT_PREVKEY | LOCK_UPD) [lock for 
                          previous key to insert],
                          (LOCK_UPD) [lock for delete or replace]</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="lockNonScanRowOnPage-org.apache.derby.impl.store.access.btree.LeafControlRow-int-org.apache.derby.iapi.store.raw.FetchDescriptor-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.iapi.types.RowLocation-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>lockNonScanRowOnPage</h4>
<pre>public&nbsp;boolean&nbsp;lockNonScanRowOnPage(<a href="../../../../../../../../org/apache/derby/impl/store/access/btree/LeafControlRow.html" title="class in org.apache.derby.impl.store.access.btree">LeafControlRow</a>&nbsp;current_leaf,
                                    int&nbsp;current_slot,
                                    <a href="../../../../../../../../org/apache/derby/iapi/store/raw/FetchDescriptor.html" title="class in org.apache.derby.iapi.store.raw">FetchDescriptor</a>&nbsp;lock_fetch_desc,
                                    <a href="../../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;lock_template,
                                    <a href="../../../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>&nbsp;lock_row_loc,
                                    int&nbsp;lock_operation)
                             throws <a href="../../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../../org/apache/derby/impl/store/access/btree/BTreeLockingPolicy.html#lockNonScanRowOnPage-org.apache.derby.impl.store.access.btree.LeafControlRow-int-org.apache.derby.iapi.store.raw.FetchDescriptor-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.iapi.types.RowLocation-int-">BTreeLockingPolicy</a></code></span></div>
<div class="block">Lock the row at the given slot.
 <p>
 If this routine returns true all locks were acquired while maintaining
 the latch on leaf.  If this routine returns false, locks may or may
 not have been acquired, and the routine should be called again after
 the client has researched the tree to reget the latch on the 
 appropriate page.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../../org/apache/derby/impl/store/access/btree/BTreeLockingPolicy.html#lockNonScanRowOnPage-org.apache.derby.impl.store.access.btree.LeafControlRow-int-org.apache.derby.iapi.store.raw.FetchDescriptor-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.iapi.types.RowLocation-int-">lockNonScanRowOnPage</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../../org/apache/derby/impl/store/access/btree/BTreeLockingPolicy.html" title="interface in org.apache.derby.impl.store.access.btree">BTreeLockingPolicy</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>current_leaf</code> - The control row of the current leaf to lock.</dd>
<dd><code>current_slot</code> - The slot position of the row to lock.</dd>
<dd><code>lock_template</code> - A scratch area to use to read in rows.</dd>
<dd><code>lock_operation</code> - For what operation are we requesting the lock, 
                          this should be one of the following 4 options:
                          LOCK_READ [read lock], 
                          (LOCK_INS | LOCK_UPD) [ lock for insert], 
                          (LOCK_INSERT_PREVKEY | LOCK_UPD) [lock for 
                          previous key to insert],
                          (LOCK_UPD) [lock for delete or replace]</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Whether locks were acquired without releasing latch on leaf.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Built on Mon 2017-07-03 23:03:59+0530, from revision Unversioned directory</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../../org/apache/derby/impl/store/access/btree/index/B2IMaxScan.html" title="class in org.apache.derby.impl.store.access.btree.index"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../../org/apache/derby/impl/store/access/btree/index/B2IRowLocking1.html" title="class in org.apache.derby.impl.store.access.btree.index"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../../index.html?org/apache/derby/impl/store/access/btree/index/B2INoLocking.html" target="_top">Frames</a></li>
<li><a href="B2INoLocking.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Apache Derby V10.13 Internals - <i>Copyright &copy; 2004,2016 The Apache Software Foundation. All Rights Reserved.</i></small></p>
</body>
</html>
