<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_66) on Mon Jul 03 23:05:22 IST 2017 -->
<title>BTreeController (Apache Derby V10.13 Internals)</title>
<meta name="date" content="2017-07-03">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="BTreeController (Apache Derby V10.13 Internals)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTree.html" title="class in org.apache.derby.impl.store.access.btree"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeCostController.html" title="class in org.apache.derby.impl.store.access.btree"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/derby/impl/store/access/btree/BTreeController.html" target="_top">Frames</a></li>
<li><a href="BTreeController.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.derby.impl.store.access.btree</div>
<h2 title="Class BTreeController" class="title">Class BTreeController</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html" title="class in org.apache.derby.impl.store.access.btree">org.apache.derby.impl.store.access.btree.OpenBTree</a></li>
<li>
<ul class="inheritance">
<li>org.apache.derby.impl.store.access.btree.BTreeController</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html" title="interface in org.apache.derby.iapi.store.access">ConglomerateController</a>, <a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomPropertyQueryable.html" title="interface in org.apache.derby.iapi.store.access">ConglomPropertyQueryable</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../../../org/apache/derby/impl/store/access/btree/index/B2IController.html" title="class in org.apache.derby.impl.store.access.btree.index">B2IController</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">BTreeController</span>
extends <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html" title="class in org.apache.derby.impl.store.access.btree">OpenBTree</a>
implements <a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html" title="interface in org.apache.derby.iapi.store.access">ConglomerateController</a></pre>
<div class="block">A b-tree controller corresponds to an instance of an open b-tree conglomerate.
  <P>
  <B>Concurrency Notes</B>
  <P>
  The concurrency rules are derived from OpenBTree.
  <P></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html" title="class in org.apache.derby.impl.store.access.btree"><code>OpenBTree</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeController.html#get_insert_row_lock">get_insert_row_lock</a></span></code>
<div class="block">Whether to get lock on the row being inserted, usually this lock
 has already been gotten when the row was inserted into the base table.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeController.html#MATCH_FOUND">MATCH_FOUND</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeController.html#NO_MATCH">NO_MATCH</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeController.html#RESCAN_REQUIRED">RESCAN_REQUIRED</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeController.html#scratch_template">scratch_template</a></span></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.apache.derby.impl.store.access.btree.OpenBTree">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.apache.derby.impl.store.access.btree.<a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html" title="class in org.apache.derby.impl.store.access.btree">OpenBTree</a></h3>
<code><a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#btree_undo">btree_undo</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#container">container</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#err_containerid">err_containerid</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#init_lock_level">init_lock_level</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#init_open_user_scans">init_open_user_scans</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#runtime_mem">runtime_mem</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.apache.derby.iapi.store.access.ConglomerateController">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;org.apache.derby.iapi.store.access.<a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html" title="interface in org.apache.derby.iapi.store.access">ConglomerateController</a></h3>
<code><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html#LOCK_INS">LOCK_INS</a>, <a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html#LOCK_INS_PREVKEY">LOCK_INS_PREVKEY</a>, <a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html#LOCK_READ">LOCK_READ</a>, <a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html#LOCK_UPD">LOCK_UPD</a>, <a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html#LOCK_UPDATE_LOCKS">LOCK_UPDATE_LOCKS</a>, <a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html#ROWISDUPLICATE">ROWISDUPLICATE</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeController.html#BTreeController--">BTreeController</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeController.html#close--">close</a></span>()</code>
<div class="block">Close the conglomerate controller.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeController.html#closeForEndTransaction-boolean-">closeForEndTransaction</a></span>(boolean&nbsp;closeHeldScan)</code>
<div class="block">Close conglomerate controller as part of terminating a transaction.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeController.html#compareLeftAndRightSiblings-org.apache.derby.iapi.types.DataValueDescriptor:A-int-org.apache.derby.impl.store.access.btree.LeafControlRow-">compareLeftAndRightSiblings</a></span>(<a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;rowToInsert,
                           int&nbsp;insert_slot,
                           <a href="../../../../../../../org/apache/derby/impl/store/access/btree/LeafControlRow.html" title="class in org.apache.derby.impl.store.access.btree">LeafControlRow</a>&nbsp;targetleaf)</code>
<div class="block">Compares immidiate left and right records to check for duplicates.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeController.html#compareNextRecord-int-org.apache.derby.impl.store.access.btree.LeafControlRow-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.iapi.types.DataValueDescriptor:A-">compareNextRecord</a></span>(int&nbsp;slot,
                 <a href="../../../../../../../org/apache/derby/impl/store/access/btree/LeafControlRow.html" title="class in org.apache.derby.impl.store.access.btree">LeafControlRow</a>&nbsp;leaf,
                 <a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;rows,
                 <a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;oldRows)</code>
<div class="block">Compares the new record with the one at slot or the one 
 right to it.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeController.html#comparePreviousRecord-int-org.apache.derby.impl.store.access.btree.LeafControlRow-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.iapi.types.DataValueDescriptor:A-">comparePreviousRecord</a></span>(int&nbsp;slot,
                     <a href="../../../../../../../org/apache/derby/impl/store/access/btree/LeafControlRow.html" title="class in org.apache.derby.impl.store.access.btree">LeafControlRow</a>&nbsp;leaf,
                     <a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;rows,
                     <a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;oldRows)</code>
<div class="block">Compares the oldrow with the one at 'slot' or the one left to it.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeController.html#compareRowsForInsert-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.impl.store.access.btree.LeafControlRow-int-">compareRowsForInsert</a></span>(<a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;originalRow,
                    <a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;newRow,
                    <a href="../../../../../../../org/apache/derby/impl/store/access/btree/LeafControlRow.html" title="class in org.apache.derby.impl.store.access.btree">LeafControlRow</a>&nbsp;leaf,
                    int&nbsp;slot)</code>
<div class="block">Compares two rows for insert.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeController.html#delete-org.apache.derby.iapi.types.RowLocation-">delete</a></span>(<a href="../../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>&nbsp;loc)</code>
<div class="block">Delete a row from the conglomerate.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeController.html#do_load_insert-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.impl.store.access.btree.LeafControlRow-int-">do_load_insert</a></span>(<a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;rowToInsert,
              <a href="../../../../../../../org/apache/derby/impl/store/access/btree/LeafControlRow.html" title="class in org.apache.derby.impl.store.access.btree">LeafControlRow</a>&nbsp;leaf,
              int&nbsp;insert_slot)</code>
<div class="block">Just insert the row on the current page/slot if it fits.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/impl/store/access/btree/LeafControlRow.html" title="class in org.apache.derby.impl.store.access.btree">LeafControlRow</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeController.html#do_load_split-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.impl.store.access.btree.LeafControlRow-">do_load_split</a></span>(<a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;rowToInsert,
             <a href="../../../../../../../org/apache/derby/impl/store/access/btree/LeafControlRow.html" title="class in org.apache.derby.impl.store.access.btree">LeafControlRow</a>&nbsp;leaf)</code>
<div class="block">Create room to insert a row to the right of the largest key in table.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeController.html#doIns-org.apache.derby.iapi.types.DataValueDescriptor:A-">doIns</a></span>(<a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;rowToInsert)</code>
<div class="block">Insert a row into the conglomerate.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeController.html#fetch-org.apache.derby.iapi.types.RowLocation-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.iapi.services.io.FormatableBitSet-">fetch</a></span>(<a href="../../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>&nbsp;loc,
     <a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;row,
     <a href="../../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a>&nbsp;validColumns)</code>
<div class="block">Fetch the row at the given location.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeController.html#fetch-org.apache.derby.iapi.types.RowLocation-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.iapi.services.io.FormatableBitSet-boolean-">fetch</a></span>(<a href="../../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>&nbsp;loc,
     <a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;row,
     <a href="../../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a>&nbsp;validColumns,
     boolean&nbsp;waitForLock)</code>
<div class="block">Fetch the row at the given location.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>java.util.Properties</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeController.html#getInternalTablePropertySet-java.util.Properties-">getInternalTablePropertySet</a></span>(java.util.Properties&nbsp;prop)</code>
<div class="block">Request set of properties associated with a table.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeController.html#getTableProperties-java.util.Properties-">getTableProperties</a></span>(java.util.Properties&nbsp;prop)</code>
<div class="block">Request the system properties associated with a table.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeController.html#init-org.apache.derby.iapi.store.access.conglomerate.TransactionManager-boolean-org.apache.derby.iapi.store.raw.ContainerHandle-org.apache.derby.iapi.store.raw.Transaction-int-int-org.apache.derby.impl.store.access.btree.BTreeLockingPolicy-org.apache.derby.impl.store.access.btree.BTree-org.apache.derby.iapi.store.access.conglomerate.LogicalUndo-org.apache.derby.iapi.store.access.StaticCompiledOpenConglomInfo-org.apache.derby.iapi.store.access.DynamicCompiledOpenConglomInfo-">init</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/access/conglomerate/TransactionManager.html" title="interface in org.apache.derby.iapi.store.access.conglomerate">TransactionManager</a>&nbsp;xact_manager,
    boolean&nbsp;hold,
    <a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw">ContainerHandle</a>&nbsp;container,
    <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a>&nbsp;rawtran,
    int&nbsp;open_mode,
    int&nbsp;lock_level,
    <a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeLockingPolicy.html" title="interface in org.apache.derby.impl.store.access.btree">BTreeLockingPolicy</a>&nbsp;btree_locking_policy,
    <a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTree.html" title="class in org.apache.derby.impl.store.access.btree">BTree</a>&nbsp;conglomerate,
    <a href="../../../../../../../org/apache/derby/iapi/store/access/conglomerate/LogicalUndo.html" title="interface in org.apache.derby.iapi.store.access.conglomerate">LogicalUndo</a>&nbsp;undo,
    <a href="../../../../../../../org/apache/derby/iapi/store/access/StaticCompiledOpenConglomInfo.html" title="interface in org.apache.derby.iapi.store.access">StaticCompiledOpenConglomInfo</a>&nbsp;static_info,
    <a href="../../../../../../../org/apache/derby/iapi/store/access/DynamicCompiledOpenConglomInfo.html" title="interface in org.apache.derby.iapi.store.access">DynamicCompiledOpenConglomInfo</a>&nbsp;dynamic_info)</code>
<div class="block">Initialize the controller for use.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeController.html#insert-org.apache.derby.iapi.types.DataValueDescriptor:A-">insert</a></span>(<a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;row)</code>
<div class="block">Insert a row into the conglomerate.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeController.html#insertAndFetchLocation-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.iapi.types.RowLocation-">insertAndFetchLocation</a></span>(<a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;row,
                      <a href="../../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>&nbsp;templateRowLocation)</code>
<div class="block">Insert a row into the conglomerate, and store its location in the
        provided template row location.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeController.html#isKeyed--">isKeyed</a></span>()</code>
<div class="block">Return whether this is a keyed conglomerate.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeController.html#load-org.apache.derby.iapi.store.access.conglomerate.TransactionManager-boolean-org.apache.derby.iapi.store.access.RowLocationRetRowSource-">load</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/access/conglomerate/TransactionManager.html" title="interface in org.apache.derby.iapi.store.access.conglomerate">TransactionManager</a>&nbsp;xact_manager,
    boolean&nbsp;createConglom,
    <a href="../../../../../../../org/apache/derby/iapi/store/access/RowLocationRetRowSource.html" title="interface in org.apache.derby.iapi.store.access">RowLocationRetRowSource</a>&nbsp;rowSource)</code>
<div class="block">Load rows from rowSource into the opened btree.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeController.html#lockRow-long-int-int-boolean-int-">lockRow</a></span>(long&nbsp;page_num,
       int&nbsp;record_id,
       int&nbsp;lock_operation,
       boolean&nbsp;wait,
       int&nbsp;lock_duration)</code>
<div class="block">Lock the given record id/page num pair.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeController.html#lockRow-org.apache.derby.iapi.types.RowLocation-int-boolean-int-">lockRow</a></span>(<a href="../../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>&nbsp;loc,
       int&nbsp;lock_operation,
       boolean&nbsp;wait,
       int&nbsp;lock_duration)</code>
<div class="block">Lock the given row location.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeController.html#newRowLocationTemplate--">newRowLocationTemplate</a></span>()</code>
<div class="block">Return a row location object of the correct type to be
        used in calls to insertAndFetchLocation.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeController.html#reclaim_deleted_rows-org.apache.derby.impl.store.access.btree.OpenBTree-long-">reclaim_deleted_rows</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html" title="class in org.apache.derby.impl.store.access.btree">OpenBTree</a>&nbsp;open_btree,
                    long&nbsp;pageno)</code>
<div class="block">Attempt to reclaim committed deleted rows from the page.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeController.html#replace-org.apache.derby.iapi.types.RowLocation-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.iapi.services.io.FormatableBitSet-">replace</a></span>(<a href="../../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>&nbsp;loc,
       <a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;row,
       <a href="../../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a>&nbsp;validColumns)</code>
<div class="block">Replace the entire row at the given location.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeController.html#start_xact_and_dosplit-boolean-long-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.iapi.types.DataValueDescriptor:A-int-">start_xact_and_dosplit</a></span>(boolean&nbsp;attempt_to_reclaim_deleted_rows,
                      long&nbsp;leaf_pageno,
                      <a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;scratch_template,
                      <a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;rowToInsert,
                      int&nbsp;flag)</code>
<div class="block">Start an internal transaction and do the split.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeController.html#unlockRowAfterRead-org.apache.derby.iapi.types.RowLocation-boolean-boolean-">unlockRowAfterRead</a></span>(<a href="../../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>&nbsp;loc,
                  boolean&nbsp;forUpdate,
                  boolean&nbsp;row_qualifies)</code>
<div class="block">UnLock the given row location.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.derby.impl.store.access.btree.OpenBTree">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.derby.impl.store.access.btree.<a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html" title="class in org.apache.derby.impl.store.access.btree">OpenBTree</a></h3>
<code><a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#checkConsistency--">checkConsistency</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#debugConglomerate--">debugConglomerate</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#getColumnSortOrderInfo--">getColumnSortOrderInfo</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#getConglomerate--">getConglomerate</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#getContainer--">getContainer</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#getContainerHandle--">getContainerHandle</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#getEstimatedRowCount--">getEstimatedRowCount</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#getHeight--">getHeight</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#getHold--">getHold</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#getLockingPolicy--">getLockingPolicy</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#getLockLevel--">getLockLevel</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#getOpenMode--">getOpenMode</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#getRawTran--">getRawTran</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#getRuntimeMem--">getRuntimeMem</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#getSpaceInfo--">getSpaceInfo</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#getXactMgr--">getXactMgr</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#init-org.apache.derby.iapi.store.access.conglomerate.TransactionManager-org.apache.derby.iapi.store.access.conglomerate.TransactionManager-org.apache.derby.iapi.store.raw.ContainerHandle-org.apache.derby.iapi.store.raw.Transaction-boolean-int-int-org.apache.derby.impl.store.access.btree.BTreeLockingPolicy-org.apache.derby.impl.store.access.btree.BTree-org.apache.derby.iapi.store.access.conglomerate.LogicalUndo-org.apache.derby.iapi.store.access.DynamicCompiledOpenConglomInfo-">init</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#isClosed--">isClosed</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#isIndexableRowConsistent-org.apache.derby.iapi.types.DataValueDescriptor:A-">isIndexableRowConsistent</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#isTableLocked--">isTableLocked</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#reopen--">reopen</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#setEstimatedRowCount-long-">setEstimatedRowCount</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#setLockingPolicy-org.apache.derby.impl.store.access.btree.BTreeLockingPolicy-">setLockingPolicy</a>, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#test_errors-org.apache.derby.impl.store.access.btree.OpenBTree-java.lang.String-org.apache.derby.impl.store.access.btree.BTreeRowPosition-org.apache.derby.impl.store.access.btree.BTreeLockingPolicy-org.apache.derby.impl.store.access.btree.LeafControlRow-boolean-">test_errors</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.derby.iapi.store.access.ConglomerateController">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.apache.derby.iapi.store.access.<a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html" title="interface in org.apache.derby.iapi.store.access">ConglomerateController</a></h3>
<code><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html#checkConsistency--">checkConsistency</a>, <a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html#debugConglomerate--">debugConglomerate</a>, <a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html#getSpaceInfo--">getSpaceInfo</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="scratch_template">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>scratch_template</h4>
<pre>transient&nbsp;<a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[] scratch_template</pre>
</li>
</ul>
<a name="get_insert_row_lock">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get_insert_row_lock</h4>
<pre>boolean get_insert_row_lock</pre>
<div class="block">Whether to get lock on the row being inserted, usually this lock
 has already been gotten when the row was inserted into the base table.</div>
</li>
</ul>
<a name="NO_MATCH">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NO_MATCH</h4>
<pre>private static final&nbsp;int NO_MATCH</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.access.btree.BTreeController.NO_MATCH">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="MATCH_FOUND">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MATCH_FOUND</h4>
<pre>private static final&nbsp;int MATCH_FOUND</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.access.btree.BTreeController.MATCH_FOUND">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="RESCAN_REQUIRED">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>RESCAN_REQUIRED</h4>
<pre>private static final&nbsp;int RESCAN_REQUIRED</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.access.btree.BTreeController.RESCAN_REQUIRED">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="BTreeController--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>BTreeController</h4>
<pre>public&nbsp;BTreeController()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="reclaim_deleted_rows-org.apache.derby.impl.store.access.btree.OpenBTree-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reclaim_deleted_rows</h4>
<pre>private&nbsp;boolean&nbsp;reclaim_deleted_rows(<a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html" title="class in org.apache.derby.impl.store.access.btree">OpenBTree</a>&nbsp;open_btree,
                                     long&nbsp;pageno)
                              throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Attempt to reclaim committed deleted rows from the page.
 <p>
 Get exclusive latch on page, and then loop backward through
 page searching for deleted rows which are committed.  The routine
 assumes that it is called from a transaction which cannot have 
 deleted any rows on the page.  For each deleted row on the page
 it attempts to get an exclusive lock on the deleted row, NOWAIT.
 If it succeeds, and since this row did not delete the row then the
 row must have been deleted by a transaction which has committed, so
 it is safe to purge the row.  It then purges the row from the page.
 <p>
 Note that this routine may remove all rows from the page, it will not
 attempt a merge in this situation.  This is because this routine is
 called from split which is attempting an insert on the given page, so
 it would be a waste to merge the page only to split it again to allow
 the insert of the row causing the split.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>open_btree</code> - The already open btree to use to get latch on page.</dd>
<dd><code>pageno</code> - The page number of the leaf to attempt the reclaim on.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if at least one row was purged.  If true, then the routine
              will leave the page latched, and the caller will release
              the latch by committing or aborting the transaction.  The
              latch must be held to end transaction to insure space on
              the page remains available for a undo of the purge.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="start_xact_and_dosplit-boolean-long-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.iapi.types.DataValueDescriptor:A-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>start_xact_and_dosplit</h4>
<pre>private&nbsp;long&nbsp;start_xact_and_dosplit(boolean&nbsp;attempt_to_reclaim_deleted_rows,
                                    long&nbsp;leaf_pageno,
                                    <a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;scratch_template,
                                    <a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;rowToInsert,
                                    int&nbsp;flag)
                             throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Start an internal transaction and do the split.
 <p>
 This routine starts a new transaction, and handles any errors that
 may come during the transaction.  This transation must not obtain any
 locks as they are likely to conflict with the current user transaction.
 <p>
 If attempt_to_reclaim_deleted_rows is true this routine will 
 attempt to reclaim space on the leaf page input, by purging 
 committed deleted rows from the leaf.  If it succeeds in purging at
 least one row, then it will commit the internal transaction and return
 without actually performing a split.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>scratch_template</code> - A scratch template used to search a page.</dd>
<dd><code>rowToInsert</code> - The row to insert, make sure during split to
                          make room for this row.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="comparePreviousRecord-int-org.apache.derby.impl.store.access.btree.LeafControlRow-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.iapi.types.DataValueDescriptor:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>comparePreviousRecord</h4>
<pre>private&nbsp;int&nbsp;comparePreviousRecord(int&nbsp;slot,
                                  <a href="../../../../../../../org/apache/derby/impl/store/access/btree/LeafControlRow.html" title="class in org.apache.derby.impl.store.access.btree">LeafControlRow</a>&nbsp;leaf,
                                  <a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;rows,
                                  <a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;oldRows)
                           throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Compares the oldrow with the one at 'slot' or the one left to it. 
 If the slot is first slot it will move to the left sibiling of 
 the 'leaf' and will compare with the record from the last slot.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - slot number to start with</dd>
<dd><code>leaf</code> - LeafControlRow of the current page</dd>
<dd><code>rows</code> - DataValueDescriptot array to fill it with fetched values</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0 if no duplicate
          1 if duplicate 
          2 if rescan required</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="compareNextRecord-int-org.apache.derby.impl.store.access.btree.LeafControlRow-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.iapi.types.DataValueDescriptor:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>compareNextRecord</h4>
<pre>private&nbsp;int&nbsp;compareNextRecord(int&nbsp;slot,
                              <a href="../../../../../../../org/apache/derby/impl/store/access/btree/LeafControlRow.html" title="class in org.apache.derby.impl.store.access.btree">LeafControlRow</a>&nbsp;leaf,
                              <a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;rows,
                              <a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;oldRows)
                       throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Compares the new record with the one at slot or the one 
 right to it. If the slot is last slot in the page it will move to 
 the right to sibling of the leaf and will compare with the record 
 from the last slot.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - slot number to start with</dd>
<dd><code>leaf</code> - LeafControlRow of the current page</dd>
<dd><code>rows</code> - DataValueDescriptot array to fill it with fetched values</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0 if no duplicate
          1 if duplicate 
          2 if rescan required</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="compareRowsForInsert-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.impl.store.access.btree.LeafControlRow-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>compareRowsForInsert</h4>
<pre>private&nbsp;int&nbsp;compareRowsForInsert(<a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;originalRow,
                                 <a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;newRow,
                                 <a href="../../../../../../../org/apache/derby/impl/store/access/btree/LeafControlRow.html" title="class in org.apache.derby.impl.store.access.btree">LeafControlRow</a>&nbsp;leaf,
                                 int&nbsp;slot)
                          throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Compares two rows for insert. If the two rows are not equal,
 <a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeController.html#NO_MATCH"><code>NO_MATCH</code></a> is returned. Otherwise, it tries to get a lock on
 the row in the tree. If the lock is obtained without waiting,
 <a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeController.html#MATCH_FOUND"><code>MATCH_FOUND</code></a> is returned (even if the row has been deleted).
 Otherwise, <a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeController.html#RESCAN_REQUIRED"><code>RESCAN_REQUIRED</code></a> is returned to indicate that the
 latches have been released and the B-tree must be rescanned.

 If <code>MATCH_FOUND</code> is returned, the caller should check whether
 the row has been deleted. If so, it may have to move to check the
 adjacent rows to be sure that there is no non-deleted duplicate row.

 If <code>MATCH_FOUND</code> or <code>RESCAN_REQUIRED</code> is returned, the
 transaction will hold an update lock on the specified record when
 the method returns.

 <b>Note!</b> This method should only be called when the index is almost
 unique (that is, a non-unique index backing a unique constraint).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>originalRow</code> - row from the tree</dd>
<dd><code>newRow</code> - row to be inserted</dd>
<dd><code>leaf</code> - leaf where originalRow resides</dd>
<dd><code>slot</code> - slot where originalRow</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>NO_MATCH</code> if no duplicate is found,
          <code>MATCH_FOUND</code> if a duplicate is found, or
          <code>RESCAN_REQUIRED</code> if the B-tree must be rescanned</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="compareLeftAndRightSiblings-org.apache.derby.iapi.types.DataValueDescriptor:A-int-org.apache.derby.impl.store.access.btree.LeafControlRow-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>compareLeftAndRightSiblings</h4>
<pre>private&nbsp;int&nbsp;compareLeftAndRightSiblings(<a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;rowToInsert,
                                        int&nbsp;insert_slot,
                                        <a href="../../../../../../../org/apache/derby/impl/store/access/btree/LeafControlRow.html" title="class in org.apache.derby.impl.store.access.btree">LeafControlRow</a>&nbsp;targetleaf)
                                 throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Compares immidiate left and right records to check for duplicates.
 This methods compares new record (being inserted) with the record 
 in immidate left and right postion to see if its duplicate (only for
 almost unique index and for non null keys)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rowToInsert</code> - row being inserted</dd>
<dd><code>insert_slot</code> - slot where rowToInsert is being inserted</dd>
<dd><code>targetleaf</code> - page where rowToInsert</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0 if no duplicate
          1 if duplicate 
          2 if rescan required</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="doIns-org.apache.derby.iapi.types.DataValueDescriptor:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doIns</h4>
<pre>private&nbsp;int&nbsp;doIns(<a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;rowToInsert)
           throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Insert a row into the conglomerate.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rowToInsert</code> - The row to insert into the conglomerate.  The stored
        representations of the row's columns are copied into a new row
        somewhere in the conglomerate.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns 0 if insert succeeded.  Returns 
    ConglomerateController.ROWISDUPLICATE if conglomerate supports uniqueness
    checks and has been created to disallow duplicates, and the row inserted
    had key columns which were duplicate of a row already in the table.  Other
    insert failures will raise StandardException's.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="do_load_insert-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.impl.store.access.btree.LeafControlRow-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>do_load_insert</h4>
<pre>private&nbsp;boolean&nbsp;do_load_insert(<a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;rowToInsert,
                               <a href="../../../../../../../org/apache/derby/impl/store/access/btree/LeafControlRow.html" title="class in org.apache.derby.impl.store.access.btree">LeafControlRow</a>&nbsp;leaf,
                               int&nbsp;insert_slot)
                        throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Just insert the row on the current page/slot if it fits.
 <p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="do_load_split-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.impl.store.access.btree.LeafControlRow-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>do_load_split</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/access/btree/LeafControlRow.html" title="class in org.apache.derby.impl.store.access.btree">LeafControlRow</a>&nbsp;do_load_split(<a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;rowToInsert,
                                     <a href="../../../../../../../org/apache/derby/impl/store/access/btree/LeafControlRow.html" title="class in org.apache.derby.impl.store.access.btree">LeafControlRow</a>&nbsp;leaf)
                              throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Create room to insert a row to the right of the largest key in table.
 <p>
 Perform a split pass on the tree which will move the largest key in
 leaf right to a new leaf, splitting parent branch pages as necessary.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="init-org.apache.derby.iapi.store.access.conglomerate.TransactionManager-boolean-org.apache.derby.iapi.store.raw.ContainerHandle-org.apache.derby.iapi.store.raw.Transaction-int-int-org.apache.derby.impl.store.access.btree.BTreeLockingPolicy-org.apache.derby.impl.store.access.btree.BTree-org.apache.derby.iapi.store.access.conglomerate.LogicalUndo-org.apache.derby.iapi.store.access.StaticCompiledOpenConglomInfo-org.apache.derby.iapi.store.access.DynamicCompiledOpenConglomInfo-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>public&nbsp;void&nbsp;init(<a href="../../../../../../../org/apache/derby/iapi/store/access/conglomerate/TransactionManager.html" title="interface in org.apache.derby.iapi.store.access.conglomerate">TransactionManager</a>&nbsp;xact_manager,
                 boolean&nbsp;hold,
                 <a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw">ContainerHandle</a>&nbsp;container,
                 <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a>&nbsp;rawtran,
                 int&nbsp;open_mode,
                 int&nbsp;lock_level,
                 <a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeLockingPolicy.html" title="interface in org.apache.derby.impl.store.access.btree">BTreeLockingPolicy</a>&nbsp;btree_locking_policy,
                 <a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTree.html" title="class in org.apache.derby.impl.store.access.btree">BTree</a>&nbsp;conglomerate,
                 <a href="../../../../../../../org/apache/derby/iapi/store/access/conglomerate/LogicalUndo.html" title="interface in org.apache.derby.iapi.store.access.conglomerate">LogicalUndo</a>&nbsp;undo,
                 <a href="../../../../../../../org/apache/derby/iapi/store/access/StaticCompiledOpenConglomInfo.html" title="interface in org.apache.derby.iapi.store.access">StaticCompiledOpenConglomInfo</a>&nbsp;static_info,
                 <a href="../../../../../../../org/apache/derby/iapi/store/access/DynamicCompiledOpenConglomInfo.html" title="interface in org.apache.derby.iapi.store.access">DynamicCompiledOpenConglomInfo</a>&nbsp;dynamic_info)
          throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Initialize the controller for use.
        <p>
        Any changes to this method will probably have to be reflected in close as 
    well.
        <p>
        Currently delegates to OpenBTree.  If the btree controller ends up not 
    having any state of its own, we can remove this method (the VM will 
    dispatch to OpenBTree), gaining some small efficiency.  For now, this 
    method remains for clarity.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()
           throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Close the conglomerate controller.
        <p>
        Any changes to this method will probably have to be reflected in close as 
    well.
        <p>
        Currently delegates to OpenBTree.  If the btree controller ends up not 
    having any state of its own, we can remove this method (the VM will 
    dispatch to OpenBTree), gaining some small efficiency.  For now, this 
    method remains for clarity.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html#close--">close</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html" title="interface in org.apache.derby.iapi.store.access">ConglomerateController</a></code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html#close--">close</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/access/btree/OpenBTree.html" title="class in org.apache.derby.impl.store.access.btree">OpenBTree</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html#close--"><code>ConglomerateController.close()</code></a></dd>
</dl>
</li>
</ul>
<a name="closeForEndTransaction-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeForEndTransaction</h4>
<pre>public&nbsp;boolean&nbsp;closeForEndTransaction(boolean&nbsp;closeHeldScan)
                               throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Close conglomerate controller as part of terminating a transaction.
 <p>
 Use this call to close the conglomerate controller resources as part of
 committing or aborting a transaction.  The normal close() routine may 
 do some cleanup that is either unnecessary, or not correct due to the 
 unknown condition of the controller following a transaction ending error.
 Use this call when closing all controllers as part of an abort of a 
 transaction.
 <p>
 This call is meant to only be used internally by the Storage system,
 clients of the storage system should use the simple close() interface.
 <p>
 RESOLVE (mikem) - move this call to ConglomerateManager so it is
 obvious that non-access clients should not call this.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html#closeForEndTransaction-boolean-">closeForEndTransaction</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html" title="interface in org.apache.derby.iapi.store.access">ConglomerateController</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>closeHeldScan</code> - If true, means to close controller even if
                          it has been opened to be kept opened 
                          across commit.  This is
                          used to close these controllers on abort.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>boolean indicating that the close has resulted in a real close
                 of the controller.  A held scan will return false if 
                 called by closeForEndTransaction(false), otherwise it 
                 will return true.  A non-held scan will always return 
                 true.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="insert-org.apache.derby.iapi.types.DataValueDescriptor:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insert</h4>
<pre>public&nbsp;int&nbsp;insert(<a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;row)
           throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Insert a row into the conglomerate.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html#insert-org.apache.derby.iapi.types.DataValueDescriptor:A-">insert</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html" title="interface in org.apache.derby.iapi.store.access">ConglomerateController</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>row</code> - The row to insert into the conglomerate.  The stored
        representations of the row's columns are copied into a new row
        somewhere in the conglomerate.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns 0 if insert succeeded.  Returns 
    ConglomerateController.ROWISDUPLICATE if conglomerate supports uniqueness
    checks and has been created to disallow duplicates, and the row inserted
    had key columns which were duplicate of a row already in the table.  Other
    insert failures will raise StandardException's.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html#insert-org.apache.derby.iapi.types.DataValueDescriptor:A-"><code>ConglomerateController.insert(org.apache.derby.iapi.types.DataValueDescriptor[])</code></a></dd>
</dl>
</li>
</ul>
<a name="isKeyed--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isKeyed</h4>
<pre>public&nbsp;boolean&nbsp;isKeyed()</pre>
<div class="block">Return whether this is a keyed conglomerate.
        <p>
        All b-trees are keyed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html#isKeyed--">isKeyed</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html" title="interface in org.apache.derby.iapi.store.access">ConglomerateController</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html#isKeyed--"><code>ConglomerateController.isKeyed()</code></a></dd>
</dl>
</li>
</ul>
<a name="getTableProperties-java.util.Properties-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTableProperties</h4>
<pre>public&nbsp;void&nbsp;getTableProperties(java.util.Properties&nbsp;prop)
                        throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Request the system properties associated with a table. 
 <p>
 Request the value of properties that are associated with a table.  The
 following properties can be requested:
     derby.storage.pageSize 
     derby.storage.pageReservedSpace
     derby.storage.minimumRecordSize
     derby.storage.initialPages
 <p>
 To get the value of a particular property add it to the property list,
 and on return the value of the property will be set to it's current 
 value.  For example:

 get_prop(ConglomerateController cc)
 {
     Properties prop = new Properties();
     prop.put("derby.storage.pageSize", "");
     cc.getTableProperties(prop);

     System.out.println(
         "table's page size = " + 
         prop.getProperty("derby.storage.pageSize");
 }</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomPropertyQueryable.html#getTableProperties-java.util.Properties-">getTableProperties</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomPropertyQueryable.html" title="interface in org.apache.derby.iapi.store.access">ConglomPropertyQueryable</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>prop</code> - Property list to fill in.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="getInternalTablePropertySet-java.util.Properties-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInternalTablePropertySet</h4>
<pre>public&nbsp;java.util.Properties&nbsp;getInternalTablePropertySet(java.util.Properties&nbsp;prop)
                                                 throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Request set of properties associated with a table. 
 <p>
 Returns a property object containing all properties that the store
 knows about, which are stored persistently by the store.  This set
 of properties may vary from implementation to implementation of the
 store.
 <p>
 This call is meant to be used only for internal query of the properties
 by jbms, for instance by language during bulk insert so that it can
 create a new conglomerate which exactly matches the properties that
 the original container was created with.  This call should not be used
 by the user interface to present properties to users as it may contain
 properties that are meant to be internal to jbms.  Some properties are 
 meant only to be specified by jbms code and not by users on the command
 line.
 <p>
 Note that not all properties passed into createConglomerate() are stored
 persistently, and that set may vary by store implementation.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomPropertyQueryable.html#getInternalTablePropertySet-java.util.Properties-">getInternalTablePropertySet</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomPropertyQueryable.html" title="interface in org.apache.derby.iapi.store.access">ConglomPropertyQueryable</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>prop</code> - Property list to add properties to.  If null, routine will
               create a new Properties object, fill it in and return it.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="load-org.apache.derby.iapi.store.access.conglomerate.TransactionManager-boolean-org.apache.derby.iapi.store.access.RowLocationRetRowSource-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>load</h4>
<pre>public&nbsp;long&nbsp;load(<a href="../../../../../../../org/apache/derby/iapi/store/access/conglomerate/TransactionManager.html" title="interface in org.apache.derby.iapi.store.access.conglomerate">TransactionManager</a>&nbsp;xact_manager,
                 boolean&nbsp;createConglom,
                 <a href="../../../../../../../org/apache/derby/iapi/store/access/RowLocationRetRowSource.html" title="interface in org.apache.derby.iapi.store.access">RowLocationRetRowSource</a>&nbsp;rowSource)
          throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Load rows from rowSource into the opened btree.
 <p>
 Efficiently load rows into the already opened btree.  The btree must
 be table locked, as no row locks will be requested by this routine.  
 On exit from this routine the conglomerate will be closed (on both
 error or success).
 <p>
 This routine does an almost bottom up build of a btree.  It assumes
 all rows arrive in sorted order, and inserts them directly into the
 next (to the right) spot in the current leaf until there is no space.
 Then it calls the generic split code to add the next leaf (RESOLVE - 
 in the future we could optimize this to split bottom up rather than
 top down for create index).</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.  If conglomerate
                              supports uniqueness checks and has been 
                              created to disallow duplicates, and one of 
                              the rows being loaded had key columns which
                              were duplicate of a row already in the 
                              conglomerate, then raise 
                              SQLState.STORE_CONGLOMERATE_DUPLICATE_KEY_EXCEPTION.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/access/conglomerate/Conglomerate.html#load-org.apache.derby.iapi.store.access.conglomerate.TransactionManager-boolean-org.apache.derby.iapi.store.access.RowLocationRetRowSource-"><code>Conglomerate.load(org.apache.derby.iapi.store.access.conglomerate.TransactionManager, boolean, org.apache.derby.iapi.store.access.RowLocationRetRowSource)</code></a></dd>
</dl>
</li>
</ul>
<a name="delete-org.apache.derby.iapi.types.RowLocation-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delete</h4>
<pre>public&nbsp;boolean&nbsp;delete(<a href="../../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>&nbsp;loc)
               throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Delete a row from the conglomerate.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html#delete-org.apache.derby.iapi.types.RowLocation-">delete</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html" title="interface in org.apache.derby.iapi.store.access">ConglomerateController</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns true if delete was successful, false if the record pointed
        at no longer represents a valid record.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html#delete-org.apache.derby.iapi.types.RowLocation-"><code>ConglomerateController.delete(org.apache.derby.iapi.types.RowLocation)</code></a></dd>
</dl>
</li>
</ul>
<a name="fetch-org.apache.derby.iapi.types.RowLocation-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.iapi.services.io.FormatableBitSet-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetch</h4>
<pre>public&nbsp;boolean&nbsp;fetch(<a href="../../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>&nbsp;loc,
                     <a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;row,
                     <a href="../../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a>&nbsp;validColumns)
              throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Fetch the row at the given location.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html#fetch-org.apache.derby.iapi.types.RowLocation-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.iapi.services.io.FormatableBitSet-">fetch</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html" title="interface in org.apache.derby.iapi.store.access">ConglomerateController</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>loc</code> - The "RowLocation" which describes the exact row
                        to fetch from the table.</dd>
<dd><code>row</code> - The row to read the data into.</dd>
<dd><code>validColumns</code> - A description of which columns to return from
                        row on the page into "destRow."  destRow
                        and validColumns work together to
                        describe the row to be returned by the fetch - 
                        see RowUtil for description of how these three 
                        parameters work together to describe a fetched 
                        "row".</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns true if fetch was successful, false if the record 
         pointed at no longer represents a valid record.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html#fetch-org.apache.derby.iapi.types.RowLocation-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.iapi.services.io.FormatableBitSet-"><code>ConglomerateController.fetch(org.apache.derby.iapi.types.RowLocation, org.apache.derby.iapi.types.DataValueDescriptor[], org.apache.derby.iapi.services.io.FormatableBitSet)</code></a></dd>
</dl>
</li>
</ul>
<a name="fetch-org.apache.derby.iapi.types.RowLocation-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.iapi.services.io.FormatableBitSet-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetch</h4>
<pre>public&nbsp;boolean&nbsp;fetch(<a href="../../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>&nbsp;loc,
                     <a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;row,
                     <a href="../../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a>&nbsp;validColumns,
                     boolean&nbsp;waitForLock)
              throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Fetch the row at the given location.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html#fetch-org.apache.derby.iapi.types.RowLocation-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.iapi.services.io.FormatableBitSet-boolean-">fetch</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html" title="interface in org.apache.derby.iapi.store.access">ConglomerateController</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>loc</code> - The "RowLocation" which describes the exact row
                        to fetch from the table.</dd>
<dd><code>row</code> - The row to read the data into.</dd>
<dd><code>validColumns</code> - A description of which columns to return from
                        row on the page into "destRow."  destRow
                        and validColumns work together to
                        describe the row to be returned by the fetch - 
                        see RowUtil for description of how these three 
                        parameters work together to describe a fetched 
                        "row".</dd>
<dd><code>waitForLock</code> - If false, then the call will throw a lock timeout
                        exception immediately, if the lock can not be
                        granted without waiting.  If true call will 
                        act exactly as fetch() interface with no 
                        waitForLock parameter.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns true if fetch was successful, false if the record 
         pointed at no longer represents a valid record.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html#fetch-org.apache.derby.iapi.types.RowLocation-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.iapi.services.io.FormatableBitSet-"><code>ConglomerateController.fetch(org.apache.derby.iapi.types.RowLocation, org.apache.derby.iapi.types.DataValueDescriptor[], org.apache.derby.iapi.services.io.FormatableBitSet)</code></a></dd>
</dl>
</li>
</ul>
<a name="insertAndFetchLocation-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.iapi.types.RowLocation-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertAndFetchLocation</h4>
<pre>public&nbsp;void&nbsp;insertAndFetchLocation(<a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;row,
                                   <a href="../../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>&nbsp;templateRowLocation)
                            throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Insert a row into the conglomerate, and store its location in the
        provided template row location.

    Unimplemented by btree.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html#insertAndFetchLocation-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.iapi.types.RowLocation-">insertAndFetchLocation</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html" title="interface in org.apache.derby.iapi.store.access">ConglomerateController</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>row</code> - The row to insert into the conglomerate.  The 
                      stored representations of the row's columns are 
                      copied into a new row somewhere in the conglomerate.</dd>
<dd><code>templateRowLocation</code> - The rowlocation to read the inserted row location
                      into.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html#insertAndFetchLocation-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.iapi.types.RowLocation-"><code>ConglomerateController.insertAndFetchLocation(org.apache.derby.iapi.types.DataValueDescriptor[], org.apache.derby.iapi.types.RowLocation)</code></a></dd>
</dl>
</li>
</ul>
<a name="newRowLocationTemplate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newRowLocationTemplate</h4>
<pre>public&nbsp;<a href="../../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>&nbsp;newRowLocationTemplate()
                                   throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Return a row location object of the correct type to be
        used in calls to insertAndFetchLocation.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html#newRowLocationTemplate--">newRowLocationTemplate</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html" title="interface in org.apache.derby.iapi.store.access">ConglomerateController</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html#newRowLocationTemplate--"><code>ConglomerateController.newRowLocationTemplate()</code></a></dd>
</dl>
</li>
</ul>
<a name="lockRow-org.apache.derby.iapi.types.RowLocation-int-boolean-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lockRow</h4>
<pre>public&nbsp;boolean&nbsp;lockRow(<a href="../../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>&nbsp;loc,
                       int&nbsp;lock_operation,
                       boolean&nbsp;wait,
                       int&nbsp;lock_duration)
                throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Lock the given row location.
 <p>
 Should only be called by access.
 <p>
 This call can be made on a ConglomerateController that was opened
 for locking only.
 <p>
 RESOLVE (mikem) - move this call to ConglomerateManager so it is
 obvious that non-access clients should not call this.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html#lockRow-org.apache.derby.iapi.types.RowLocation-int-boolean-int-">lockRow</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html" title="interface in org.apache.derby.iapi.store.access">ConglomerateController</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>loc</code> - The "RowLocation" which describes the exact row to lock.</dd>
<dd><code>wait</code> - Should the lock call wait to be granted?</dd>
<dd><code>lock_operation</code> - For what operation are we requesting the lock, this
                      should be one of the following 4 options:
                      LOCK_READ [read lock], 
                      (LOCK_INS | LOCK_UPD) [ lock for insert], 
                      (LOCK_INSERT_PREVKEY | LOCK_UPD) [lock for 
                      previous key to insert],
                      (LOCK_UPD) [lock for delete or replace]
                      (LOCK_UPD | LOCK_UPDATE_LOCKS) [lock scan for 
                          update, will upgrade lock later if actual update
                          is take place]</dd>
<dd><code>lock_duration</code> - If set to TransactionManager.LOCK_INSTANT_DURATION,
                      then lock will be released immediately after being
                      granted.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if lock was granted, only can be false if wait was false.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="lockRow-long-int-int-boolean-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lockRow</h4>
<pre>public&nbsp;boolean&nbsp;lockRow(long&nbsp;page_num,
                       int&nbsp;record_id,
                       int&nbsp;lock_operation,
                       boolean&nbsp;wait,
                       int&nbsp;lock_duration)
                throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html#lockRow-long-int-int-boolean-int-">ConglomerateController</a></code></span></div>
<div class="block">Lock the given record id/page num pair.
 <p>
 Should only be called by access, to lock "special" locks formed from
 the Recordhandle.* reserved constants for page specific locks.
 <p>
 This call can be made on a ConglomerateController that was opened
 for locking only.
 <p>
 RESOLVE (mikem) - move this call to ConglomerateManager so it is
 obvious that non-access clients should not call this.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html#lockRow-long-int-int-boolean-int-">lockRow</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html" title="interface in org.apache.derby.iapi.store.access">ConglomerateController</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>page_num</code> - page number of record to lock.</dd>
<dd><code>record_id</code> - record id of record to lock.</dd>
<dd><code>lock_operation</code> - For what operation are we requesting the lock, this
                      should be one of the following 4 options:
                      LOCK_READ [read lock], 
                      (LOCK_INS | LOCK_UPD) [ lock for insert], 
                      (LOCK_INSERT_PREVKEY | LOCK_UPD) [lock for 
                      previous key to insert],
                      (LOCK_UPD) [lock for delete or replace]
                      (LOCK_UPD | LOCK_UPDATE_LOCKS) [lock scan for 
                          update, will upgrade lock later if actual update
                          is take place]</dd>
<dd><code>wait</code> - Should the lock call wait to be granted?</dd>
<dd><code>lock_duration</code> - If set to TransactionManager.LOCK_INSTANT_DURATION,
                      then lock will be released immediately after being
                      granted.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if lock was granted, only can be false if wait was false.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="unlockRowAfterRead-org.apache.derby.iapi.types.RowLocation-boolean-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlockRowAfterRead</h4>
<pre>public&nbsp;void&nbsp;unlockRowAfterRead(<a href="../../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>&nbsp;loc,
                               boolean&nbsp;forUpdate,
                               boolean&nbsp;row_qualifies)
                        throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html#unlockRowAfterRead-org.apache.derby.iapi.types.RowLocation-boolean-boolean-">ConglomerateController</a></code></span></div>
<div class="block">UnLock the given row location.
 <p>
 Should only be called by access.
 <p>
 This call can be made on a ConglomerateController that was opened
 for locking only.
 <p>
 RESOLVE (mikem) - move this call to ConglomerateManager so it is
 obvious that non-access clients should not call this.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html#unlockRowAfterRead-org.apache.derby.iapi.types.RowLocation-boolean-boolean-">unlockRowAfterRead</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html" title="interface in org.apache.derby.iapi.store.access">ConglomerateController</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>loc</code> - The "RowLocation" which describes the row to unlock.</dd>
<dd><code>forUpdate</code> - Row was locked for read or update.</dd>
<dd><code>row_qualifies</code> - Row was qualified and returned to the user.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="replace-org.apache.derby.iapi.types.RowLocation-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.iapi.services.io.FormatableBitSet-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>replace</h4>
<pre>public&nbsp;boolean&nbsp;replace(<a href="../../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>&nbsp;loc,
                       <a href="../../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>[]&nbsp;row,
                       <a href="../../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a>&nbsp;validColumns)
                throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Replace the entire row at the given location.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html#replace-org.apache.derby.iapi.types.RowLocation-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.iapi.services.io.FormatableBitSet-">replace</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html" title="interface in org.apache.derby.iapi.store.access">ConglomerateController</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if update was successful, returns false if the update 
        fails because the record pointed at no longer represents a valid record.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html#replace-org.apache.derby.iapi.types.RowLocation-org.apache.derby.iapi.types.DataValueDescriptor:A-org.apache.derby.iapi.services.io.FormatableBitSet-"><code>ConglomerateController.replace(org.apache.derby.iapi.types.RowLocation, org.apache.derby.iapi.types.DataValueDescriptor[], org.apache.derby.iapi.services.io.FormatableBitSet)</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Built on Mon 2017-07-03 23:03:59+0530, from revision Unversioned directory</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTree.html" title="class in org.apache.derby.impl.store.access.btree"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../org/apache/derby/impl/store/access/btree/BTreeCostController.html" title="class in org.apache.derby.impl.store.access.btree"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/derby/impl/store/access/btree/BTreeController.html" target="_top">Frames</a></li>
<li><a href="BTreeController.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Apache Derby V10.13 Internals - <i>Copyright &copy; 2004,2016 The Apache Software Foundation. All Rights Reserved.</i></small></p>
</body>
</html>
