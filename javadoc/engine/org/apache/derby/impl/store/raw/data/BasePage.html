<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_66) on Mon Jul 03 23:05:18 IST 2017 -->
<title>BasePage (Apache Derby V10.13 Internals)</title>
<meta name="date" content="2017-07-03">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="BasePage (Apache Derby V10.13 Internals)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":6,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":6,"i15":6,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":6,"i29":10,"i30":6,"i31":6,"i32":10,"i33":10,"i34":10,"i35":10,"i36":10,"i37":10,"i38":10,"i39":6,"i40":6,"i41":10,"i42":6,"i43":10,"i44":10,"i45":10,"i46":6,"i47":10,"i48":10,"i49":10,"i50":10,"i51":10,"i52":6,"i53":10,"i54":10,"i55":10,"i56":10,"i57":6,"i58":10,"i59":6,"i60":6,"i61":6,"i62":6,"i63":6,"i64":10,"i65":9,"i66":6,"i67":6,"i68":6,"i69":10,"i70":6,"i71":10,"i72":10,"i73":6,"i74":6,"i75":10,"i76":10,"i77":6,"i78":10,"i79":10,"i80":6,"i81":6,"i82":6,"i83":6,"i84":10,"i85":6,"i86":10,"i87":6,"i88":10,"i89":10,"i90":10,"i91":10,"i92":6,"i93":10,"i94":10,"i95":6,"i96":10,"i97":10,"i98":6,"i99":6,"i100":10,"i101":6,"i102":6,"i103":6,"i104":6,"i105":10,"i106":10,"i107":10,"i108":10,"i109":6,"i110":10,"i111":6};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactoryJ4.html" title="class in org.apache.derby.impl.store.raw.data"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BufferedByteHolderInputStream.html" title="class in org.apache.derby.impl.store.raw.data"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/derby/impl/store/raw/data/BasePage.html" target="_top">Frames</a></li>
<li><a href="BasePage.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.derby.impl.store.raw.data</div>
<h2 title="Class BasePage" class="title">Class BasePage</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.derby.impl.store.raw.data.BasePage</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/services/io/TypedFormat.html" title="interface in org.apache.derby.iapi.services.io">TypedFormat</a>, <a href="../../../../../../../org/apache/derby/iapi/services/monitor/DerbyObserver.html" title="interface in org.apache.derby.iapi.services.monitor">DerbyObserver</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../../../org/apache/derby/impl/store/raw/data/CachedPage.html" title="class in org.apache.derby.impl.store.raw.data">CachedPage</a></dd>
</dl>
<hr>
<br>
<pre>abstract class <span class="typeNameLabel">BasePage</span>
extends java.lang.Object
implements <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a>, <a href="../../../../../../../org/apache/derby/iapi/services/monitor/DerbyObserver.html" title="interface in org.apache.derby.iapi.services.monitor">DerbyObserver</a>, <a href="../../../../../../../org/apache/derby/iapi/services/io/TypedFormat.html" title="interface in org.apache.derby.iapi.services.io">TypedFormat</a></pre>
<div class="block">This class implements all the the generic locking behaviour for a Page.
  It leaves method used to log and store the records up to sub-classes.
  It is intended that the object can represent multiple pages from different
  containers during its lifetime.
  <P>
  A page contains a set of records, which can be accessed by "slot",
  which defines the order of the records on the page, or by "id" which
  defines the identity of the records on the page.  Clients access
  records by both slot and id, depending on their needs.
  <P>
  BasePage implements Observer to watch the ContainerHandle which notifies
  its Observers when it is closing.

  <BR>
  MT - mutable</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/iapi/store/raw/AuxObject.html" title="interface in org.apache.derby.iapi.store.raw">AuxObject</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#auxObj">auxObj</a></span></code>
<div class="block">auxiliary object

                MT - mutable - content dynamic : single thread required.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredRecordHeader.html" title="class in org.apache.derby.impl.store.raw.data">StoredRecordHeader</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#headers">headers</a></span></code>
<div class="block">In-memory slot table, array of StoredRecordHeaders.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/iapi/store/raw/PageKey.html" title="class in org.apache.derby.iapi.store.raw">PageKey</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#identity">identity</a></span></code>
<div class="block">this page's identity
                <BR>
                MT - immutable - content dynamic : single thread required</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#inClean">inClean</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#INIT_PAGE_OVERFLOW">INIT_PAGE_OVERFLOW</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#INIT_PAGE_REUSE">INIT_PAGE_REUSE</a></span></code>
<div class="block">Init page flag.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#INIT_PAGE_REUSE_RECORDID">INIT_PAGE_REUSE_RECORDID</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static byte</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#INVALID_PAGE">INVALID_PAGE</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static <a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#InvalidRecordHandle">InvalidRecordHandle</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#lastLog">lastLog</a></span></code>
<div class="block">Instant of last log record that updated this page.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#LOG_RECORD_DEFAULT">LOG_RECORD_DEFAULT</a></span></code>
<div class="block">Log Record flag.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#LOG_RECORD_FOR_PURGE">LOG_RECORD_FOR_PURGE</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#LOG_RECORD_FOR_UPDATE">LOG_RECORD_FOR_UPDATE</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#nestedLatch">nestedLatch</a></span></code>
<div class="block">Count of times a latch is held nested during an abort</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#owner">owner</a></span></code>
<div class="block">Page owner during exclusive access.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private byte</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#pageStatus">pageStatus</a></span></code>
<div class="block">Status of the page</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#pageVersion">pageVersion</a></span></code>
<div class="block">Version of the page.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#preLatch">preLatch</a></span></code>
<div class="block">Used to determine latch state of a page.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#recordCount">recordCount</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#repositionNeededAfterVersion">repositionNeededAfterVersion</a></span></code>
<div class="block">The oldest version where we know that any record id that was on the
 page at that version, must still be on the page.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static byte</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#VALID_PAGE">VALID_PAGE</a></span></code>
<div class="block">Values for pageStatus flag 

                page goes thru the following transition:
                VALID_PAGE &lt;-&gt; deallocated page -&gt; free page &lt;-&gt; VALID_PAGE

                deallocated and free page are both INVALID_PAGE as far as BasePage is concerned.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.apache.derby.iapi.store.raw.Page">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;org.apache.derby.iapi.store.raw.<a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a></h3>
<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#DIAG_BYTES_FREE">DIAG_BYTES_FREE</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#DIAG_BYTES_RESERVED">DIAG_BYTES_RESERVED</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#DIAG_MAXROWSIZE">DIAG_MAXROWSIZE</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#DIAG_MINIMUM_REC_SIZE">DIAG_MINIMUM_REC_SIZE</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#DIAG_MINROWSIZE">DIAG_MINROWSIZE</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#DIAG_NUMOVERFLOWED">DIAG_NUMOVERFLOWED</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#DIAG_PAGE_SIZE">DIAG_PAGE_SIZE</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#DIAG_PAGEOVERHEAD">DIAG_PAGEOVERHEAD</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#DIAG_RESERVED_SPACE">DIAG_RESERVED_SPACE</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#DIAG_ROWSIZE">DIAG_ROWSIZE</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#DIAG_SLOTTABLE_SIZE">DIAG_SLOTTABLE_SIZE</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#FIRST_SLOT_NUMBER">FIRST_SLOT_NUMBER</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#INSERT_CONDITIONAL">INSERT_CONDITIONAL</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#INSERT_DEFAULT">INSERT_DEFAULT</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#INSERT_FOR_SPLIT">INSERT_FOR_SPLIT</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#INSERT_INITIAL">INSERT_INITIAL</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#INSERT_OVERFLOW">INSERT_OVERFLOW</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#INSERT_UNDO_WITH_PURGE">INSERT_UNDO_WITH_PURGE</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#INVALID_SLOT_NUMBER">INVALID_SLOT_NUMBER</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#BasePage--">BasePage</a></span>()</code>
<div class="block">Create a new, empty page.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>abstract boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#allowInsert--">allowInsert</a></span>()</code>
<div class="block">Returns false if an insert is not to be allowed in the page.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>abstract int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#appendOverflowFieldHeader-org.apache.derby.iapi.services.io.DynamicByteArrayOutputStream-org.apache.derby.iapi.store.raw.RecordHandle-">appendOverflowFieldHeader</a></span>(<a href="../../../../../../../org/apache/derby/iapi/services/io/DynamicByteArrayOutputStream.html" title="class in org.apache.derby.iapi.services.io">DynamicByteArrayOutputStream</a>&nbsp;logBuffer,
                         <a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;overflowHandle)</code>
<div class="block">Append an overflow pointer to a partly logged row,
                to point to a long column that just been logged.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#bumpPageVersion--">bumpPageVersion</a></span>()</code>
<div class="block">increment the version by one and return the new version.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#bumpRecordCount-int-">bumpRecordCount</a></span>(int&nbsp;number)</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#checkSlotOnPage-int-">checkSlotOnPage</a></span>(int&nbsp;slot)</code>
<div class="block">Is the given slot number on the page?</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#cleanPageForReuse--">cleanPageForReuse</a></span>()</code>
<div class="block">Initialized this page for reuse or first use</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#clearIdentity--">clearIdentity</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#clearLastLogInstant--">clearLastLogInstant</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#compactRecord-org.apache.derby.iapi.store.raw.xact.RawTransaction-int-int-">compactRecord</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t,
             int&nbsp;slot,
             int&nbsp;recordId)</code>
<div class="block">Subclass implementation of compactRecord.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#compactRecord-org.apache.derby.iapi.store.raw.RecordHandle-">compactRecord</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;handle)</code>
<div class="block">Try to compact this record.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#copyAndPurge-org.apache.derby.iapi.store.raw.Page-int-int-int-">copyAndPurge</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a>&nbsp;destPage,
            int&nbsp;src_slot,
            int&nbsp;num_rows,
            int&nbsp;dest_slot)</code>
<div class="block">move rows from one page to another, purging in the process.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#copyInto-org.apache.derby.impl.store.raw.data.BasePage-int-int-int-">copyInto</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a>&nbsp;srcPage,
        int&nbsp;src_slot,
        int&nbsp;num_rows,
        int&nbsp;dest_slot)</code>
<div class="block">Copy num_rows from srcPage, src_slot into this page starting at dest_slot.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#deallocatePage--">deallocatePage</a></span>()</code>
<div class="block">Mark this page as being deallocated</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#deleteAtSlot-int-boolean-org.apache.derby.iapi.store.access.conglomerate.LogicalUndo-">deleteAtSlot</a></span>(int&nbsp;slot,
            boolean&nbsp;delete,
            <a href="../../../../../../../org/apache/derby/iapi/store/access/conglomerate/LogicalUndo.html" title="interface in org.apache.derby.iapi.store.access.conglomerate">LogicalUndo</a>&nbsp;undo)</code>
<div class="block">Mark the record at slot as deleted or undeleted according to delete flag.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#doUpdateAtSlot-org.apache.derby.iapi.store.raw.xact.RawTransaction-int-int-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-">doUpdateAtSlot</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t,
              int&nbsp;slot,
              int&nbsp;id,
              java.lang.Object[]&nbsp;row,
              <a href="../../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a>&nbsp;validColumns)</code>&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>abstract boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#entireRecordOnPage-int-">entireRecordOnPage</a></span>(int&nbsp;slot)</code>
<div class="block">Returns true if the entire record of that slot fits inside of this
                page.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#fetchFieldFromSlot-int-int-java.lang.Object-">fetchFieldFromSlot</a></span>(int&nbsp;slot,
                  int&nbsp;fieldId,
                  java.lang.Object&nbsp;column)</code>
<div class="block">Fetch a single field from a deleted or non-deleted record.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#fetchFromSlot-org.apache.derby.iapi.store.raw.RecordHandle-int-java.lang.Object:A-org.apache.derby.iapi.store.raw.FetchDescriptor-boolean-">fetchFromSlot</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;rh,
             int&nbsp;slot,
             java.lang.Object[]&nbsp;row,
             <a href="../../../../../../../org/apache/derby/iapi/store/raw/FetchDescriptor.html" title="class in org.apache.derby.iapi.store.raw">FetchDescriptor</a>&nbsp;fetchDesc,
             boolean&nbsp;ignoreDelete)</code>
<div class="block">Fetch a record located in the passed in slot.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#fetchNumFields-org.apache.derby.iapi.store.raw.RecordHandle-">fetchNumFields</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;handle)</code>
<div class="block">Fetch the number of fields in a record.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#fetchNumFieldsAtSlot-int-">fetchNumFieldsAtSlot</a></span>(int&nbsp;slot)</code>
<div class="block">Fetch the number of fields in a record.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#fillInIdentity-org.apache.derby.iapi.store.raw.PageKey-">fillInIdentity</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/PageKey.html" title="class in org.apache.derby.iapi.store.raw">PageKey</a>&nbsp;key)</code>&nbsp;</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#findNextRecordById-int-">findNextRecordById</a></span>(int&nbsp;recordId)</code>
<div class="block">Find the slot for the first record on the page with an id greater than 
        the passed in identifier.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#findRecordById-int-int-">findRecordById</a></span>(int&nbsp;recordId,
              int&nbsp;slotHint)</code>
<div class="block">Find the slot for the record with the passed in identifier.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/AuxObject.html" title="interface in org.apache.derby.iapi.store.raw">AuxObject</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#getAuxObject--">getAuxObject</a></span>()</code>
<div class="block">Get the aux object.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredRecordHeader.html" title="class in org.apache.derby.impl.store.raw.data">StoredRecordHeader</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#getHeaderAtSlot-int-">getHeaderAtSlot</a></span>(int&nbsp;slot)</code>&nbsp;</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>java.lang.Object</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#getIdentity--">getIdentity</a></span>()</code>
<div class="block">OK to hand object outside to cache..</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#getInvalidRecordHandle--">getInvalidRecordHandle</a></span>()</code>
<div class="block">Return an invalid record handle.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#getLastLogInstant--">getLastLogInstant</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>protected abstract <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#getNewOverflowPage--">getNewOverflowPage</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#getNextSlotNumber-org.apache.derby.iapi.store.raw.RecordHandle-">getNextSlotNumber</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;handle)</code>
<div class="block">Find slot for record with an id greater than the passed in identifier.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>abstract <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#getOverflowPageForInsert-int-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-int-">getOverflowPageForInsert</a></span>(int&nbsp;slot,
                        java.lang.Object[]&nbsp;row,
                        <a href="../../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a>&nbsp;validColumns,
                        int&nbsp;startColumn)</code>&nbsp;</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>protected abstract byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#getPageArray--">getPageArray</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/PageKey.html" title="class in org.apache.derby.iapi.store.raw">PageKey</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#getPageId--">getPageId</a></span>()</code>
<div class="block">Get the Page identifer

                <BR> MT - RESOLVE</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/PageKey.html" title="class in org.apache.derby.iapi.store.raw">PageKey</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#getPageKey--">getPageKey</a></span>()</code>
<div class="block">Return the page key of this page.</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#getPageNumber--">getPageNumber</a></span>()</code>
<div class="block">Return the page number of this page.</div>
</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>byte</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#getPageStatus--">getPageStatus</a></span>()</code>
<div class="block">Get the page status, one of the values in the above page status flag</div>
</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#getPageVersion--">getPageVersion</a></span>()</code>
<div class="block">Return the current page version.</div>
</td>
</tr>
<tr id="i37" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#getRecordHandle-int-">getRecordHandle</a></span>(int&nbsp;recordId)</code>
<div class="block">Get a record handle from a previously stored record id.</div>
</td>
</tr>
<tr id="i38" class="altColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#getRecordHandleAtSlot-int-">getRecordHandleAtSlot</a></span>(int&nbsp;slot)</code>
<div class="block">Get the record handle of row at slot.</div>
</td>
</tr>
<tr id="i39" class="rowColor">
<td class="colFirst"><code>abstract int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#getRecordLength-int-">getRecordLength</a></span>(int&nbsp;slot)</code>
<div class="block">Get the stored length of a record.</div>
</td>
</tr>
<tr id="i40" class="altColor">
<td class="colFirst"><code>abstract int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#getReservedCount-int-">getReservedCount</a></span>(int&nbsp;slot)</code>
<div class="block">Return the total number of bytes reserved by the
                record at this slot.</div>
</td>
</tr>
<tr id="i41" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#getSlotNumber-org.apache.derby.iapi.store.raw.RecordHandle-">getSlotNumber</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;handle)</code>
<div class="block">Get the slot number.</div>
</td>
</tr>
<tr id="i42" class="altColor">
<td class="colFirst"><code>abstract int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#getTotalSpace-int-">getTotalSpace</a></span>(int&nbsp;slot)</code>
<div class="block">Return the total number of bytes used, reserved, or wasted by the
                record at this slot.</div>
</td>
</tr>
<tr id="i43" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#initialize--">initialize</a></span>()</code>
<div class="block">Initialized the BasePage.</div>
</td>
</tr>
<tr id="i44" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#initializeHeaders-int-">initializeHeaders</a></span>(int&nbsp;numRecords)</code>
<div class="block">Must be called by a sub-class before calling setHeaderAtSlot.</div>
</td>
</tr>
<tr id="i45" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#initPage-int-long-">initPage</a></span>(int&nbsp;initFlag,
        long&nbsp;pageOffset)</code>
<div class="block">Mark this page as being allocated and initialize it to a pristine page</div>
</td>
</tr>
<tr id="i46" class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#initPage-org.apache.derby.iapi.store.raw.log.LogInstant-byte-int-boolean-boolean-">initPage</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant,
        byte&nbsp;status,
        int&nbsp;recordId,
        boolean&nbsp;overflow,
        boolean&nbsp;reuse)</code>
<div class="block">initialize a page for the first time or for reuse

                All subtypes are expected to overwrite this method if it has something to clean up</div>
</td>
</tr>
<tr id="i47" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#insert-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-byte-int-">insert</a></span>(java.lang.Object[]&nbsp;row,
      <a href="../../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a>&nbsp;validColumns,
      byte&nbsp;insertFlag,
      int&nbsp;overflowThreshold)</code>
<div class="block">Insert a record anywhere on the page.</div>
</td>
</tr>
<tr id="i48" class="altColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#insertAllowOverflow-int-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-int-byte-int-org.apache.derby.iapi.store.raw.RecordHandle-">insertAllowOverflow</a></span>(int&nbsp;slot,
                   java.lang.Object[]&nbsp;row,
                   <a href="../../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a>&nbsp;validColumns,
                   int&nbsp;startColumn,
                   byte&nbsp;insertFlag,
                   int&nbsp;overflowThreshold,
                   <a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;nextPortionHandle)</code>
<div class="block">Insert a row allowing overflow.</div>
</td>
</tr>
<tr id="i49" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#insertAtSlot-int-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-org.apache.derby.iapi.store.access.conglomerate.LogicalUndo-byte-int-">insertAtSlot</a></span>(int&nbsp;slot,
            java.lang.Object[]&nbsp;row,
            <a href="../../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a>&nbsp;validColumns,
            <a href="../../../../../../../org/apache/derby/iapi/store/access/conglomerate/LogicalUndo.html" title="interface in org.apache.derby.iapi.store.access.conglomerate">LogicalUndo</a>&nbsp;undo,
            byte&nbsp;insertFlag,
            int&nbsp;overflowThreshold)</code>
<div class="block">Insert a record at the specified slot.</div>
</td>
</tr>
<tr id="i50" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#insertLongColumn-org.apache.derby.impl.store.raw.data.BasePage-org.apache.derby.impl.store.raw.data.LongColumnException-byte-">insertLongColumn</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a>&nbsp;mainChainPage,
                <a href="../../../../../../../org/apache/derby/impl/store/raw/data/LongColumnException.html" title="class in org.apache.derby.impl.store.raw.data">LongColumnException</a>&nbsp;lce,
                byte&nbsp;insertFlag)</code>
<div class="block">Routine to insert a long column.</div>
</td>
</tr>
<tr id="i51" class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#insertNoOverflow-int-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-org.apache.derby.iapi.store.access.conglomerate.LogicalUndo-byte-int-">insertNoOverflow</a></span>(int&nbsp;slot,
                java.lang.Object[]&nbsp;row,
                <a href="../../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a>&nbsp;validColumns,
                <a href="../../../../../../../org/apache/derby/iapi/store/access/conglomerate/LogicalUndo.html" title="interface in org.apache.derby.iapi.store.access.conglomerate">LogicalUndo</a>&nbsp;undo,
                byte&nbsp;insertFlag,
                int&nbsp;overflowThreshold)</code>&nbsp;</td>
</tr>
<tr id="i52" class="altColor">
<td class="colFirst"><code>protected abstract int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#internalDeletedRecordCount--">internalDeletedRecordCount</a></span>()</code>
<div class="block">get record count without checking for latch</div>
</td>
</tr>
<tr id="i53" class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#internalNonDeletedRecordCount--">internalNonDeletedRecordCount</a></span>()</code>
<div class="block">get record count without checking for latch</div>
</td>
</tr>
<tr id="i54" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#isDeletedAtSlot-int-">isDeletedAtSlot</a></span>(int&nbsp;slot)</code>
<div class="block">Test if a record is deleted.</div>
</td>
</tr>
<tr id="i55" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#isDeletedOnPage-int-">isDeletedOnPage</a></span>(int&nbsp;slot)</code>&nbsp;</td>
</tr>
<tr id="i56" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#isLatched--">isLatched</a></span>()</code>
<div class="block">Check whether the page is latched.</div>
</td>
</tr>
<tr id="i57" class="rowColor">
<td class="colFirst"><code>abstract boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#isOverflowPage--">isOverflowPage</a></span>()</code>
<div class="block">Return true if the page is an overflow page, false if not.</div>
</td>
</tr>
<tr id="i58" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#isRepositionNeeded-long-">isRepositionNeeded</a></span>(long&nbsp;version)</code>
<div class="block">Check if a B-tree scan positioned on this page needs to reposition.</div>
</td>
</tr>
<tr id="i59" class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#logColumn-int-int-java.lang.Object-org.apache.derby.iapi.services.io.DynamicByteArrayOutputStream-int-">logColumn</a></span>(int&nbsp;slot,
         int&nbsp;fieldId,
         java.lang.Object&nbsp;column,
         <a href="../../../../../../../org/apache/derby/iapi/services/io/DynamicByteArrayOutputStream.html" title="class in org.apache.derby.iapi.services.io">DynamicByteArrayOutputStream</a>&nbsp;out,
         int&nbsp;overflowThreshold)</code>
<div class="block">Log a to be stored column.</div>
</td>
</tr>
<tr id="i60" class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#logField-int-int-java.io.OutputStream-">logField</a></span>(int&nbsp;slot,
        int&nbsp;fieldNumber,
        java.io.OutputStream&nbsp;out)</code>
<div class="block">Log a currently stored field.</div>
</td>
</tr>
<tr id="i61" class="rowColor">
<td class="colFirst"><code>abstract int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#logLongColumn-int-int-java.lang.Object-org.apache.derby.iapi.services.io.DynamicByteArrayOutputStream-">logLongColumn</a></span>(int&nbsp;slot,
             int&nbsp;recordId,
             java.lang.Object&nbsp;column,
             <a href="../../../../../../../org/apache/derby/iapi/services/io/DynamicByteArrayOutputStream.html" title="class in org.apache.derby.iapi.services.io">DynamicByteArrayOutputStream</a>&nbsp;out)</code>
<div class="block">Log a to be stored long column.</div>
</td>
</tr>
<tr id="i62" class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#logRecord-int-int-int-org.apache.derby.iapi.services.io.FormatableBitSet-java.io.OutputStream-org.apache.derby.iapi.store.raw.RecordHandle-">logRecord</a></span>(int&nbsp;slot,
         int&nbsp;flag,
         int&nbsp;recordId,
         <a href="../../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a>&nbsp;validColumns,
         java.io.OutputStream&nbsp;out,
         <a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;headRowHandle)</code>
<div class="block">Log a currently stored record to the output stream.</div>
</td>
</tr>
<tr id="i63" class="rowColor">
<td class="colFirst"><code>abstract int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#logRow-int-boolean-int-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-org.apache.derby.iapi.services.io.DynamicByteArrayOutputStream-int-byte-int-int-int-">logRow</a></span>(int&nbsp;slot,
      boolean&nbsp;forInsert,
      int&nbsp;recordId,
      java.lang.Object[]&nbsp;row,
      <a href="../../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a>&nbsp;validColumns,
      <a href="../../../../../../../org/apache/derby/iapi/services/io/DynamicByteArrayOutputStream.html" title="class in org.apache.derby.iapi.services.io">DynamicByteArrayOutputStream</a>&nbsp;out,
      int&nbsp;startColumn,
      byte&nbsp;insertFlag,
      int&nbsp;realStartColumn,
      int&nbsp;realSpaceOnPage,
      int&nbsp;overflowThreshold)</code>
<div class="block">Log the row that will be stored at the given slot to the given OutputStream.</div>
</td>
</tr>
<tr id="i64" class="altColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#makeRecordHandle-int-">makeRecordHandle</a></span>(int&nbsp;recordHandleConstant)</code>
<div class="block">Return a record handle for the given constant record id.</div>
</td>
</tr>
<tr id="i65" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#MakeRecordHandle-org.apache.derby.iapi.store.raw.PageKey-int-">MakeRecordHandle</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/PageKey.html" title="class in org.apache.derby.iapi.store.raw">PageKey</a>&nbsp;pkey,
                int&nbsp;recordHandleConstant)</code>&nbsp;</td>
</tr>
<tr id="i66" class="altColor">
<td class="colFirst"><code>abstract int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#newRecordId--">newRecordId</a></span>()</code>
<div class="block">Create a new record identifier.</div>
</td>
</tr>
<tr id="i67" class="rowColor">
<td class="colFirst"><code>protected abstract int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#newRecordId-int-">newRecordId</a></span>(int&nbsp;recordId)</code>
<div class="block">Create a new record identifier, the passed in one is the last one created.</div>
</td>
</tr>
<tr id="i68" class="altColor">
<td class="colFirst"><code>abstract int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#newRecordIdAndBump--">newRecordIdAndBump</a></span>()</code>
<div class="block">Create a new record identifier, and bump to next recordid.</div>
</td>
</tr>
<tr id="i69" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#nonDeletedRecordCount--">nonDeletedRecordCount</a></span>()</code>
<div class="block">Return the number of records on this page that are <B> not </B> marked as deleted.</div>
</td>
</tr>
<tr id="i70" class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#preDirty--">preDirty</a></span>()</code>
<div class="block">The page or its header is about to be modified.</div>
</td>
</tr>
<tr id="i71" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#preLatch-org.apache.derby.impl.store.raw.data.BaseContainerHandle-">preLatch</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;requester)</code>
<div class="block">Move page state from UNLATCHED to PRELATCH. setExclusive*() routines do
 the work of completing the latch - using the preLatch status.</div>
</td>
</tr>
<tr id="i72" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#purgeAtSlot-int-int-boolean-">purgeAtSlot</a></span>(int&nbsp;slot,
           int&nbsp;numpurges,
           boolean&nbsp;needDataLogged)</code>
<div class="block">Purge one or more rows on a non-overflow page.</div>
</td>
</tr>
<tr id="i73" class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#purgeRecord-org.apache.derby.iapi.store.raw.log.LogInstant-int-int-">purgeRecord</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant,
           int&nbsp;slot,
           int&nbsp;recordId)</code>
<div class="block">Purge a record from the page.</div>
</td>
</tr>
<tr id="i74" class="altColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#purgeRowPieces-org.apache.derby.iapi.store.raw.xact.RawTransaction-int-org.apache.derby.iapi.store.raw.RecordHandle-boolean-">purgeRowPieces</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t,
              int&nbsp;slot,
              <a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;headRowHandle,
              boolean&nbsp;needDataLogged)</code>
<div class="block">Purge all the overflow columns and overflow rows of the record at slot.</div>
</td>
</tr>
<tr id="i75" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#recordCount--">recordCount</a></span>()</code>
<div class="block">Return the number of records on the page.</div>
</td>
</tr>
<tr id="i76" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#recordExists-org.apache.derby.iapi.store.raw.RecordHandle-boolean-">recordExists</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;handle,
            boolean&nbsp;ignoreDelete)</code>
<div class="block">does the record still exist on the page?</div>
</td>
</tr>
<tr id="i77" class="rowColor">
<td class="colFirst"><code>abstract <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredRecordHeader.html" title="class in org.apache.derby.impl.store.raw.data">StoredRecordHeader</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#recordHeaderOnDemand-int-">recordHeaderOnDemand</a></span>(int&nbsp;slot)</code>&nbsp;</td>
</tr>
<tr id="i78" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#releaseExclusive--">releaseExclusive</a></span>()</code>
<div class="block">Release the exclusive latch on the page.</div>
</td>
</tr>
<tr id="i79" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#removeAndShiftDown-int-">removeAndShiftDown</a></span>(int&nbsp;slot)</code>
<div class="block">Remove record at slot.</div>
</td>
</tr>
<tr id="i80" class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#reserveSpaceForSlot-org.apache.derby.iapi.store.raw.log.LogInstant-int-int-">reserveSpaceForSlot</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant,
                   int&nbsp;slot,
                   int&nbsp;spaceToReserve)</code>
<div class="block">Reserve the required number of bytes for the record in the specified slot.</div>
</td>
</tr>
<tr id="i81" class="rowColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#restorePortionLongColumn-org.apache.derby.impl.store.raw.data.OverflowInputStream-">restorePortionLongColumn</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/OverflowInputStream.html" title="class in org.apache.derby.impl.store.raw.data">OverflowInputStream</a>&nbsp;fetchStream)</code>
<div class="block">Read portion of a log record at the given slot into the given byteHolder.</div>
</td>
</tr>
<tr id="i82" class="altColor">
<td class="colFirst"><code>protected abstract boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#restoreRecordFromSlot-int-java.lang.Object:A-org.apache.derby.iapi.store.raw.FetchDescriptor-org.apache.derby.iapi.store.raw.RecordHandle-org.apache.derby.impl.store.raw.data.StoredRecordHeader-boolean-">restoreRecordFromSlot</a></span>(int&nbsp;slot,
                     java.lang.Object[]&nbsp;row,
                     <a href="../../../../../../../org/apache/derby/iapi/store/raw/FetchDescriptor.html" title="class in org.apache.derby.iapi.store.raw">FetchDescriptor</a>&nbsp;fetchDesc,
                     <a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;rh,
                     <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredRecordHeader.html" title="class in org.apache.derby.impl.store.raw.data">StoredRecordHeader</a>&nbsp;recordHeader,
                     boolean&nbsp;isHeadRow)</code>
<div class="block">Read the record at the given slot into the given row.</div>
</td>
</tr>
<tr id="i83" class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#restoreRecordFromStream-org.apache.derby.iapi.services.io.LimitObjectInput-java.lang.Object:A-">restoreRecordFromStream</a></span>(<a href="../../../../../../../org/apache/derby/iapi/services/io/LimitObjectInput.html" title="interface in org.apache.derby.iapi.services.io">LimitObjectInput</a>&nbsp;in,
                       java.lang.Object[]&nbsp;row)</code>
<div class="block">Restore a storable row from a InputStream that was used to
                store the row after a logRecord call.</div>
</td>
</tr>
<tr id="i84" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#setAuxObject-org.apache.derby.iapi.store.raw.AuxObject-">setAuxObject</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/AuxObject.html" title="interface in org.apache.derby.iapi.store.raw">AuxObject</a>&nbsp;obj)</code>
<div class="block">Set the aux object.</div>
</td>
</tr>
<tr id="i85" class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#setContainerRowCount-long-">setContainerRowCount</a></span>(long&nbsp;count)</code>
<div class="block">Set the number of rows in the container - the page uses this to decide
                whether it needs to aggressive set the container's row count when it
                changes.</div>
</td>
</tr>
<tr id="i86" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#setDeleteStatus-int-boolean-">setDeleteStatus</a></span>(int&nbsp;slot,
               boolean&nbsp;delete)</code>
<div class="block">Mark the record at the passed in slot as deleted.</div>
</td>
</tr>
<tr id="i87" class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#setDeleteStatus-org.apache.derby.iapi.store.raw.log.LogInstant-int-boolean-">setDeleteStatus</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant,
               int&nbsp;slot,
               boolean&nbsp;delete)</code>
<div class="block">Set the delete status of a record from the page.</div>
</td>
</tr>
<tr id="i88" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#setExclusive-org.apache.derby.impl.store.raw.data.BaseContainerHandle-">setExclusive</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;requester)</code>
<div class="block">Get an exclusive latch on the page.</div>
</td>
</tr>
<tr id="i89" class="rowColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#setExclusiveNoWait-org.apache.derby.impl.store.raw.data.BaseContainerHandle-">setExclusiveNoWait</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;requester)</code>
<div class="block">Get an exclusive latch on the page, but only if I don't have to wait.</div>
</td>
</tr>
<tr id="i90" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#setHeaderAtSlot-int-org.apache.derby.impl.store.raw.data.StoredRecordHeader-">setHeaderAtSlot</a></span>(int&nbsp;slot,
               <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredRecordHeader.html" title="class in org.apache.derby.impl.store.raw.data">StoredRecordHeader</a>&nbsp;rh)</code>
<div class="block">Must be called by any non-abstract sub-class to initialise the slot
                table.</div>
</td>
</tr>
<tr id="i91" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#setPageStatus-byte-">setPageStatus</a></span>(byte&nbsp;status)</code>
<div class="block">Set page status based on passed in status flag.</div>
</td>
</tr>
<tr id="i92" class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#setPageStatus-org.apache.derby.iapi.store.raw.log.LogInstant-byte-">setPageStatus</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant,
             byte&nbsp;status)</code>
<div class="block">Set the page status underneath a log record

                <BR> MT - latched - page latch must be held</div>
</td>
</tr>
<tr id="i93" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#setPageVersion-long-">setPageVersion</a></span>(long&nbsp;v)</code>
<div class="block">set it when the page is read from disk.</div>
</td>
</tr>
<tr id="i94" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#setRepositionNeeded--">setRepositionNeeded</a></span>()</code>
<div class="block">Set a hint in this page to make B-tree scans positioned on it
 reposition before they continue.</div>
</td>
</tr>
<tr id="i95" class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#setReservedSpace-org.apache.derby.iapi.store.raw.log.LogInstant-int-int-">setReservedSpace</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant,
                int&nbsp;slot,
                int&nbsp;value)</code>
<div class="block">Set the reserved space for this row to value.</div>
</td>
</tr>
<tr id="i96" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredRecordHeader.html" title="class in org.apache.derby.impl.store.raw.data">StoredRecordHeader</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#shiftUp-int-">shiftUp</a></span>(int&nbsp;low)</code>
<div class="block">Shift all records in the in-memory slot table up one slot,
                starting at and including the record in slot 'low'
                A new slot is added to accomdate the move.</div>
</td>
</tr>
<tr id="i97" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#shouldReclaimSpace-int-int-">shouldReclaimSpace</a></span>(int&nbsp;num_non_deleted_rows,
                  int&nbsp;slot_just_deleted)</code>
<div class="block">Is this page/deleted row a candidate for immediate reclaim space.</div>
</td>
</tr>
<tr id="i98" class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#skipField-java.io.ObjectInput-">skipField</a></span>(java.io.ObjectInput&nbsp;in)</code>
<div class="block">Skip a previously stored field written by logField or logColumn.</div>
</td>
</tr>
<tr id="i99" class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#skipRecord-java.io.ObjectInput-">skipRecord</a></span>(java.io.ObjectInput&nbsp;in)</code>&nbsp;</td>
</tr>
<tr id="i100" class="altColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#slotTableToString--">slotTableToString</a></span>()</code>
<div class="block">Debugging, print slot table information</div>
</td>
</tr>
<tr id="i101" class="rowColor">
<td class="colFirst"><code>abstract boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#spaceForCopy-int-int:A-">spaceForCopy</a></span>(int&nbsp;num_rows,
            int[]&nbsp;spaceNeeded)</code>
<div class="block">Is there space for copying this many rows which takes this many bytes
                on the page

                <BR> MT - latched, page is latched when this methods is called.</div>
</td>
</tr>
<tr id="i102" class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#storeField-org.apache.derby.iapi.store.raw.log.LogInstant-int-int-java.io.ObjectInput-">storeField</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant,
          int&nbsp;slot,
          int&nbsp;fieldId,
          java.io.ObjectInput&nbsp;in)</code>
<div class="block">Read a previously stored field written by logField or logColumn and store
                it on the data page at thge given slot with the given record identifier
                and field number.</div>
</td>
</tr>
<tr id="i103" class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#storeRecord-org.apache.derby.iapi.store.raw.log.LogInstant-int-boolean-java.io.ObjectInput-">storeRecord</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant,
           int&nbsp;slot,
           boolean&nbsp;forInsert,
           java.io.ObjectInput&nbsp;in)</code>
<div class="block">Read a previously stored record written by logRecord or logRow and store
                it on the data page at the given slot with the given record identifier.</div>
</td>
</tr>
<tr id="i104" class="altColor">
<td class="colFirst"><code>abstract boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#unfilled--">unfilled</a></span>()</code>
<div class="block">Returns true if an insert is allowed in the page and the page is
                relatively unfilled - let specific implementation decide what
                relatively unfilled means</div>
</td>
</tr>
<tr id="i105" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#unlatch--">unlatch</a></span>()</code>
<div class="block">Unlatch the page.</div>
</td>
</tr>
<tr id="i106" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#update-org.apache.derby.iapi.services.monitor.DerbyObservable-java.lang.Object-">update</a></span>(<a href="../../../../../../../org/apache/derby/iapi/services/monitor/DerbyObservable.html" title="class in org.apache.derby.iapi.services.monitor">DerbyObservable</a>&nbsp;obj,
      java.lang.Object&nbsp;arg)</code>
<div class="block">This object is set to observe the BaseContainerHandle it was obtained by,
                that handle will notify its observers when it is being closed.</div>
</td>
</tr>
<tr id="i107" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#updateAtSlot-int-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-">updateAtSlot</a></span>(int&nbsp;slot,
            java.lang.Object[]&nbsp;row,
            <a href="../../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a>&nbsp;validColumns)</code>
<div class="block">Update the complete record identified by the slot.</div>
</td>
</tr>
<tr id="i108" class="altColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#updateFieldAtSlot-int-int-java.lang.Object-org.apache.derby.iapi.store.access.conglomerate.LogicalUndo-">updateFieldAtSlot</a></span>(int&nbsp;slot,
                 int&nbsp;fieldId,
                 java.lang.Object&nbsp;newValue,
                 <a href="../../../../../../../org/apache/derby/iapi/store/access/conglomerate/LogicalUndo.html" title="interface in org.apache.derby.iapi.store.access.conglomerate">LogicalUndo</a>&nbsp;undo)</code>
<div class="block">Update a field within the record, replacing its current value with
                the stored representation of newValue.</div>
</td>
</tr>
<tr id="i109" class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#updateFieldOverflowDetails-org.apache.derby.iapi.store.raw.RecordHandle-org.apache.derby.iapi.store.raw.RecordHandle-">updateFieldOverflowDetails</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;handle,
                          <a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;overflowHandle)</code>
<div class="block">Update the overflow pointer for a long column

                <BR> MT - latched - page latch must be held</div>
</td>
</tr>
<tr id="i110" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#updateLastLogInstant-org.apache.derby.iapi.store.raw.log.LogInstant-">updateLastLogInstant</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant)</code>&nbsp;</td>
</tr>
<tr id="i111" class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#updateOverflowDetails-org.apache.derby.iapi.store.raw.RecordHandle-org.apache.derby.iapi.store.raw.RecordHandle-">updateOverflowDetails</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;handle,
                     <a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;overflowHandle)</code>
<div class="block">Update the overflow pointer for a long row

                <BR> MT - latched - page latch must be held</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.derby.iapi.store.raw.Page">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.apache.derby.iapi.store.raw.<a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a></h3>
<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#currentTimeStamp--">currentTimeStamp</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#equalTimeStamp-org.apache.derby.iapi.store.raw.PageTimeStamp-">equalTimeStamp</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#moveRecordForCompressAtSlot-int-java.lang.Object:A-org.apache.derby.iapi.store.raw.RecordHandle:A-org.apache.derby.iapi.store.raw.RecordHandle:A-">moveRecordForCompressAtSlot</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#setTimeStamp-org.apache.derby.iapi.store.raw.PageTimeStamp-">setTimeStamp</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#spaceForInsert--">spaceForInsert</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#spaceForInsert-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-int-">spaceForInsert</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.derby.iapi.services.io.TypedFormat">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.apache.derby.iapi.services.io.<a href="../../../../../../../org/apache/derby/iapi/services/io/TypedFormat.html" title="interface in org.apache.derby.iapi.services.io">TypedFormat</a></h3>
<code><a href="../../../../../../../org/apache/derby/iapi/services/io/TypedFormat.html#getTypeFormatId--">getTypeFormatId</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="auxObj">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>auxObj</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/AuxObject.html" title="interface in org.apache.derby.iapi.store.raw">AuxObject</a> auxObj</pre>
<div class="block">auxiliary object

                MT - mutable - content dynamic : single thread required. This reference is
                set while the page is latched and returned to callers of page while the page is latched.
                For correct MT behaviour it is assumed that the caller discards any reference to an
                auxiliary object once the page is unlatched. The reference mya be cleared while
                the page is latched, or while the page is being cleaned from the cache. In the latter
                case the cache manager ensures that only a single thread can access this object.</div>
</li>
</ul>
<a name="identity">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>identity</h4>
<pre>protected&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/PageKey.html" title="class in org.apache.derby.iapi.store.raw">PageKey</a> identity</pre>
<div class="block">this page's identity
                <BR>
                MT - immutable - content dynamic : single thread required</div>
</li>
</ul>
<a name="headers">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>headers</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredRecordHeader.html" title="class in org.apache.derby.impl.store.raw.data">StoredRecordHeader</a>[] headers</pre>
<div class="block">In-memory slot table, array of StoredRecordHeaders.
                <BR>
                MT - Immutable - Content Dynamic : Single thread required.</div>
</li>
</ul>
<a name="recordCount">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recordCount</h4>
<pre>private&nbsp;int recordCount</pre>
</li>
</ul>
<a name="owner">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>owner</h4>
<pre>protected&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a> owner</pre>
<div class="block">Page owner during exclusive access.

                MT - mutable : single thread required, provided by Lockable single thread required.</div>
</li>
</ul>
<a name="nestedLatch">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nestedLatch</h4>
<pre>private&nbsp;int nestedLatch</pre>
<div class="block">Count of times a latch is held nested during an abort</div>
</li>
</ul>
<a name="inClean">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inClean</h4>
<pre>protected&nbsp;boolean inClean</pre>
</li>
</ul>
<a name="preLatch">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>preLatch</h4>
<pre>protected&nbsp;boolean preLatch</pre>
<div class="block">Used to determine latch state of a page.

 MT - mutable

 There are 3 latch states for a page:

 UNLATCHED - (owner == null) 
 PRELATCH  - (owner != null) &amp;&amp; preLatch
 LATCHED   - (owner != null) &amp;&amp; !preLatch

 A page may be "cleaned" while it is either UNLATCHED, or PRELATCH, but
 it must wait for it to be not LATCHED.

 A page may move from UNLATCHED to PRELATCH, while being cleaned.
 A page must wait for !inClean before it can move from PRELATCH to 
 LATCHED.</div>
</li>
</ul>
<a name="lastLog">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastLog</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a> lastLog</pre>
<div class="block">Instant of last log record that updated this page.

                <BR> MT - mutable : latched</div>
</li>
</ul>
<a name="repositionNeededAfterVersion">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>repositionNeededAfterVersion</h4>
<pre>private&nbsp;long repositionNeededAfterVersion</pre>
<div class="block">The oldest version where we know that any record id that was on the
 page at that version, must still be on the page. This is used by the
 B-tree code to decide whether or not it needs to reposition when
 resuming a scan.</div>
</li>
</ul>
<a name="pageVersion">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pageVersion</h4>
<pre>private&nbsp;long pageVersion</pre>
<div class="block">Version of the page.

                <BR> MT - mutable : single thread required - The page must be latched to access
                this variable or the page muts be in the noidentiy state.</div>
</li>
</ul>
<a name="pageStatus">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pageStatus</h4>
<pre>private&nbsp;byte pageStatus</pre>
<div class="block">Status of the page</div>
</li>
</ul>
<a name="VALID_PAGE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>VALID_PAGE</h4>
<pre>public static final&nbsp;byte VALID_PAGE</pre>
<div class="block">Values for pageStatus flag 

                page goes thru the following transition:
                VALID_PAGE &lt;-&gt; deallocated page -&gt; free page &lt;-&gt; VALID_PAGE

                deallocated and free page are both INVALID_PAGE as far as BasePage is concerned.
                When a page is deallocated, it transitioned from VALID to INVALID.
                When a page is allocated, it trnasitioned from INVALID to VALID.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.BasePage.VALID_PAGE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="INVALID_PAGE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>INVALID_PAGE</h4>
<pre>public static final&nbsp;byte INVALID_PAGE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.BasePage.INVALID_PAGE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="INIT_PAGE_REUSE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>INIT_PAGE_REUSE</h4>
<pre>public static final&nbsp;int INIT_PAGE_REUSE</pre>
<div class="block">Init page flag.

                INIT_PAGE_REUSE - set if page is being initialized for reuse
                INIT_PAGE_OVERFLOW - set if page will be an overflow page
                INIT_PAGE_REUSE_RECORDID - set if page is being reused and its record
                                                id can be reset to RecordHandle.FIRST_RECORD_ID, rather
                                                to 1+ next recordId on the page</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.BasePage.INIT_PAGE_REUSE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="INIT_PAGE_OVERFLOW">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>INIT_PAGE_OVERFLOW</h4>
<pre>public static final&nbsp;int INIT_PAGE_OVERFLOW</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.BasePage.INIT_PAGE_OVERFLOW">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="INIT_PAGE_REUSE_RECORDID">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>INIT_PAGE_REUSE_RECORDID</h4>
<pre>public static final&nbsp;int INIT_PAGE_REUSE_RECORDID</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.BasePage.INIT_PAGE_REUSE_RECORDID">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="LOG_RECORD_DEFAULT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOG_RECORD_DEFAULT</h4>
<pre>public static final&nbsp;int LOG_RECORD_DEFAULT</pre>
<div class="block">Log Record flag.  Why the before image of this record is being logged

                LOG_RECORD_FOR_UPDATE - set if the record is being logged for update.
                LOG_RECORD_DEFAULT - for non update.
                LOG_RECORD_FOR_PURGE - set if the record is being logged for purges 
                                       and no data required to ve logged.
                The other cases (copy, purge, delete), we don't need to distinguish,
                leave no bit set.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.BasePage.LOG_RECORD_DEFAULT">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="LOG_RECORD_FOR_UPDATE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOG_RECORD_FOR_UPDATE</h4>
<pre>public static final&nbsp;int LOG_RECORD_FOR_UPDATE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.BasePage.LOG_RECORD_FOR_UPDATE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="LOG_RECORD_FOR_PURGE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOG_RECORD_FOR_PURGE</h4>
<pre>public static final&nbsp;int LOG_RECORD_FOR_PURGE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.BasePage.LOG_RECORD_FOR_PURGE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="InvalidRecordHandle">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>InvalidRecordHandle</h4>
<pre>private static final&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a> InvalidRecordHandle</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="BasePage--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>BasePage</h4>
<pre>protected&nbsp;BasePage()</pre>
<div class="block">Create a new, empty page.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="initialize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initialize</h4>
<pre>protected&nbsp;void&nbsp;initialize()</pre>
<div class="block">Initialized the BasePage.
        <p>
                Initialize the object, ie. perform work normally perfomed in 
        constructor.  Called by setIdentity() and createIdentity().</div>
</li>
</ul>
<a name="initializeHeaders-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initializeHeaders</h4>
<pre>protected&nbsp;void&nbsp;initializeHeaders(int&nbsp;numRecords)</pre>
<div class="block">Must be called by a sub-class before calling setHeaderAtSlot.</div>
</li>
</ul>
<a name="fillInIdentity-org.apache.derby.iapi.store.raw.PageKey-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fillInIdentity</h4>
<pre>protected&nbsp;void&nbsp;fillInIdentity(<a href="../../../../../../../org/apache/derby/iapi/store/raw/PageKey.html" title="class in org.apache.derby.iapi.store.raw">PageKey</a>&nbsp;key)</pre>
</li>
</ul>
<a name="clearIdentity--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearIdentity</h4>
<pre>public&nbsp;void&nbsp;clearIdentity()</pre>
</li>
</ul>
<a name="cleanPageForReuse--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cleanPageForReuse</h4>
<pre>protected&nbsp;void&nbsp;cleanPageForReuse()</pre>
<div class="block">Initialized this page for reuse or first use</div>
</li>
</ul>
<a name="getIdentity--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIdentity</h4>
<pre>public&nbsp;java.lang.Object&nbsp;getIdentity()</pre>
<div class="block">OK to hand object outside to cache..</div>
</li>
</ul>
<a name="getInvalidRecordHandle--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInvalidRecordHandle</h4>
<pre>public final&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;getInvalidRecordHandle()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#getInvalidRecordHandle--">Page</a></code></span></div>
<div class="block">Return an invalid record handle.
 <p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#getInvalidRecordHandle--">getInvalidRecordHandle</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an invalid record handle.</dd>
</dl>
</li>
</ul>
<a name="MakeRecordHandle-org.apache.derby.iapi.store.raw.PageKey-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MakeRecordHandle</h4>
<pre>public static final&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;MakeRecordHandle(<a href="../../../../../../../org/apache/derby/iapi/store/raw/PageKey.html" title="class in org.apache.derby.iapi.store.raw">PageKey</a>&nbsp;pkey,
                                                  int&nbsp;recordHandleConstant)
                                           throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="makeRecordHandle-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>makeRecordHandle</h4>
<pre>public final&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;makeRecordHandle(int&nbsp;recordHandleConstant)
                                    throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#makeRecordHandle-int-">Page</a></code></span></div>
<div class="block">Return a record handle for the given constant record id.
 <p>
 Return a record handle that doesn't represent a record but rather has 
 a special meaning.  Used for special cases like creating a key 
 specific to the page, but not specific to a row on the page.
 <p>
 See RecordHandle interface for a list of "special record handles."</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#makeRecordHandle-int-">makeRecordHandle</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>recordHandleConstant</code> - the special recordId</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The created record handle.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - if input is not a special record identifier.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw"><code>RecordHandle</code></a></dd>
</dl>
</li>
</ul>
<a name="getPageNumber--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPageNumber</h4>
<pre>public final&nbsp;long&nbsp;getPageNumber()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#getPageNumber--">Page</a></code></span></div>
<div class="block">Return the page number of this page. 
 <p>
 Page numbers are unique within a container and start at 
 ContainerHandle.FIRST_PAGE_NUMBER and increment by 1 regardless of the 
 page size.
 <p>

 <BR> MT - Latched</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#getPageNumber--">getPageNumber</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The page number of this page.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#getPageNumber--"><code>Page.getPageNumber()</code></a></dd>
</dl>
</li>
</ul>
<a name="getPageKey--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPageKey</h4>
<pre>public final&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/PageKey.html" title="class in org.apache.derby.iapi.store.raw">PageKey</a>&nbsp;getPageKey()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#getPageKey--">Page</a></code></span></div>
<div class="block">Return the page key of this page. 
 <p>

 <BR> MT - Latched</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#getPageKey--">getPageKey</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The page key of this page.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw"><code>ContainerHandle</code></a></dd>
</dl>
</li>
</ul>
<a name="getRecordHandle-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRecordHandle</h4>
<pre>public final&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;getRecordHandle(int&nbsp;recordId)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#getRecordHandle-int-">Page</a></code></span></div>
<div class="block">Get a record handle from a previously stored record id.
 <p>
 Get a record handle from a previously stored record identifier that was
 obtained from a RecordHandle.
 <p>
 <BR> MT - Latched</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#getRecordHandle-int-">getRecordHandle</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>recordId</code> - previously stored recordId.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A valid record handle or null if the record no longer exists.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html#getId--"><code>RecordHandle.getId()</code></a></dd>
</dl>
</li>
</ul>
<a name="getRecordHandleAtSlot-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRecordHandleAtSlot</h4>
<pre>public final&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;getRecordHandleAtSlot(int&nbsp;slot)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#getRecordHandleAtSlot-int-">Page</a></code></span></div>
<div class="block">Get the record handle of row at slot.
 <p>
 Get the record handle of a record on a latched page using its slot 
 number.

 <BR>
 MT - latched</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#getRecordHandleAtSlot-int-">getRecordHandleAtSlot</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - the slot number</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the record handle.</dd>
</dl>
</li>
</ul>
<a name="recordExists-org.apache.derby.iapi.store.raw.RecordHandle-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recordExists</h4>
<pre>public final&nbsp;boolean&nbsp;recordExists(<a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;handle,
                                  boolean&nbsp;ignoreDelete)
                           throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#recordExists-org.apache.derby.iapi.store.raw.RecordHandle-boolean-">Page</a></code></span></div>
<div class="block">does the record still exist on the page?
 <p>
 If "ignoreDelete" is true and the record handle represents a record on 
 the page (either marked deleted or not) return true.  If "ignoreDelete" 
 is false return true if the record handle represents a record on the 
 page and the record is not marked as deleted.  Return false otherwise.

 <BR> MT - Latched</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#recordExists-org.apache.derby.iapi.store.raw.RecordHandle-boolean-">recordExists</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>handle</code> - handle of the record to look for.</dd>
<dd><code>ignoreDelete</code> - if true, then routine will return true even if the
                      row is marked deleted.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>boolean indicating if the record still exists on the page.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - recordHandle is not a valid record handle</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#recordExists-org.apache.derby.iapi.store.raw.RecordHandle-boolean-"><code>Page.recordExists(org.apache.derby.iapi.store.raw.RecordHandle, boolean)</code></a></dd>
</dl>
</li>
</ul>
<a name="fetchFromSlot-org.apache.derby.iapi.store.raw.RecordHandle-int-java.lang.Object:A-org.apache.derby.iapi.store.raw.FetchDescriptor-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchFromSlot</h4>
<pre>public&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;fetchFromSlot(<a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;rh,
                                  int&nbsp;slot,
                                  java.lang.Object[]&nbsp;row,
                                  <a href="../../../../../../../org/apache/derby/iapi/store/raw/FetchDescriptor.html" title="class in org.apache.derby.iapi.store.raw">FetchDescriptor</a>&nbsp;fetchDesc,
                                  boolean&nbsp;ignoreDelete)
                           throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#fetchFromSlot-org.apache.derby.iapi.store.raw.RecordHandle-int-java.lang.Object:A-org.apache.derby.iapi.store.raw.FetchDescriptor-boolean-">Page</a></code></span></div>
<div class="block">Fetch a record located in the passed in slot.
 <p>
 Fetch a record located in the passed in slot and fill-in the passed in 
 StorebleRow and the Object columns contained within. If row
 is null then the record is locked but is not fetched.
 <BR>
 This interface allows the caller to either return a deleted row or not. 
 If "ignoreDelete" is set to true, fetch the record regardless of whether 
 it is deleted or not (same as above fetchFromSlot).  However, if  
 "ignoreDelete" is set to false and the and the slot correspond to a 
 deleted row, null is returned.
 <BR>
 If a non-null Qualifier list is provided then the qualifier array will 
 be applied to the row and the row will only be returned if the row 
 qualifies, otherwise null will be returned.  Values in the columns of 
 row may or may not be altered while trying to apply the qualifiers, if 
 null is returned the state of the columns is undefined.  If a null 
 Qualifier list is provided then no qualification is applied.
 <BR>
 If a non-null record handle is passed in, it is assumed that the record 
 handle corresponds to the record in the slot.  If record handle is null,
 a record handle will be manufactured and returned if the record is not 
 deleted or if "ignoreDelete" is true.  This parameter is here for the 
 case where the caller have already manufactured the record handle for 
 locking or other purposes so it would make sense for the page to avoid 
 creating a new record handle object if possible.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#fetchFromSlot-org.apache.derby.iapi.store.raw.RecordHandle-int-java.lang.Object:A-org.apache.derby.iapi.store.raw.FetchDescriptor-boolean-">fetchFromSlot</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rh</code> - the record handle of the row.  If non-null it must 
                     refer to the same record as the slot.</dd>
<dd><code>slot</code> - the slot number</dd>
<dd><code>row</code> - Row to be filled in with information from record.</dd>
<dd><code>fetchDesc</code> - A structure to efficiently carry a set of parameters
                     needed to describe the fetch, these include:
                     
                     validColumns - A bit map of which columns in the 
                     row to be fetched.  ValidColumns will not be 
                     changed by RawStore.

                     qualifier_list - 
                     A list of Qualifiers to apply to the row to see if
                     the row should be returned.

                     An array of qualifiers which restrict whether or not
                     the row should be returned by the fetch.  Rows for 
                     which any one of the qualifiers returns false are 
                     not returned by the fetch. If null, no qualification
                     is done and the requested columns of the rows are 
                     returned.  Qualifiers can only reference columns 
                     which are included in the scanColumnList.  The 
                     column id that a qualifier returns is the column id
                     the table, not the column id in the partial row 
                     being returned.  
                     qualifier_scratch_space - 
                     An array of int's that matches the size of the 
                     row[] array.  Used to process qualifiers, if no
                     qualifiers are input then array need not be 
                     input.  Passed in rather than allocated so that
                     space can be allocated a single time in a scan.
                     If not passed in then raw store will allocate and
                     deallocate per call.</dd>
<dd><code>ignoreDelete</code> - if true, return row regardless of whether it is 
                     deleted or not.  If false, only return non-deleted 
                     row.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A handle to the record.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw"><code>LockingPolicy</code></a></dd>
</dl>
</li>
</ul>
<a name="fetchFieldFromSlot-int-int-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchFieldFromSlot</h4>
<pre>public final&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;fetchFieldFromSlot(int&nbsp;slot,
                                             int&nbsp;fieldId,
                                             java.lang.Object&nbsp;column)
                                      throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#fetchFieldFromSlot-int-int-java.lang.Object-">Page</a></code></span></div>
<div class="block">Fetch a single field from a deleted or non-deleted record.
                Fills in the passed in Object column with the field
                identified by fieldid if column is not null, otherwise the record
                is locked but not fetched.
                <BR>
                The fieldId of the first field is 0.
                If the fieldId is &gt;= the number of fields on the record, 
                column is restored to null
                <P>
                <B>Locking Policy</B>
                <BR>
                        No locks are obtained. 
            It is up to the caller to obtain the correct locks.
                <BR>

                It is guaranteed that the page latch is not released by this method</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#fetchFieldFromSlot-int-int-java.lang.Object-">fetchFieldFromSlot</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - is the slot number</dd>
<dd><code>fieldId</code> - is the column id</dd>
<dd><code>column</code> - is to be filled in with information from the record.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the Handle to the record that is locked</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#fetchFieldFromSlot-int-int-java.lang.Object-"><code>Page.fetchFieldFromSlot(int, int, java.lang.Object)</code></a></dd>
</dl>
</li>
</ul>
<a name="getSlotNumber-org.apache.derby.iapi.store.raw.RecordHandle-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSlotNumber</h4>
<pre>public final&nbsp;int&nbsp;getSlotNumber(<a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;handle)
                        throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#getSlotNumber-org.apache.derby.iapi.store.raw.RecordHandle-">Page</a></code></span></div>
<div class="block">Get the slot number.
 <p>
 Get the slot number of a record on a latched page using its record 
 handle.

 <P><B>Note</B>
 The slot number is only good for as long as the page is latched.

 <BR>
 MT - latched</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#getSlotNumber-org.apache.derby.iapi.store.raw.RecordHandle-">getSlotNumber</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>handle</code> - the record handle</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the slot number</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Record does not exist on this page.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#getSlotNumber-org.apache.derby.iapi.store.raw.RecordHandle-"><code>Page.getSlotNumber(org.apache.derby.iapi.store.raw.RecordHandle)</code></a></dd>
</dl>
</li>
</ul>
<a name="getNextSlotNumber-org.apache.derby.iapi.store.raw.RecordHandle-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextSlotNumber</h4>
<pre>public final&nbsp;int&nbsp;getNextSlotNumber(<a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;handle)
                            throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#getNextSlotNumber-org.apache.derby.iapi.store.raw.RecordHandle-">Page</a></code></span></div>
<div class="block">Find slot for record with an id greater than the passed in identifier.
 <p>
 Find the slot for the first record on the page with an id greater than 
 the passed in identifier.

 <BR>
 Returns the slot of the first record on the page with an id greater than
 the one passed in.  Usefulness of this functionality depends on the 
 client's use of the raw store interfaces.  If all "new" records are 
 always inserted at the end of the page, and the raw store continues to
 guarantee that all record id's will be allocated in increasing order on 
 a given page (assuming a PAGE_REUSABLE_RECORD_ID container), then a page
 is always sorted in record id order.  For instance current heap tables 
 function this way.  If the client ever inserts at a particular slot 
 number, rather than at the "end" then the record id's will not be sorted.
 <BR>
 In the case where all record id's are always sorted on a page, then this
 routine can be used by scan's which "lose" their position because the 
 row they have as a position was purged.  They can reposition their scan 
 at the "next" row after the row that is now missing from the table.
 <BR>
 This method returns the record regardless of its deleted status.
 <BR>
 MT - latched</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#getNextSlotNumber-org.apache.derby.iapi.store.raw.RecordHandle-">getNextSlotNumber</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>handle</code> - record handle to find the next higher id.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>record id of the first record on the page with a record id 
          higher than the one passed in.  If no such record exists, 
          -1 is returned.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Record does not exist on this page.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#getNextSlotNumber-org.apache.derby.iapi.store.raw.RecordHandle-"><code>Page.getNextSlotNumber(org.apache.derby.iapi.store.raw.RecordHandle)</code></a></dd>
</dl>
</li>
</ul>
<a name="insertAtSlot-int-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-org.apache.derby.iapi.store.access.conglomerate.LogicalUndo-byte-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertAtSlot</h4>
<pre>public&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;insertAtSlot(int&nbsp;slot,
                                 java.lang.Object[]&nbsp;row,
                                 <a href="../../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a>&nbsp;validColumns,
                                 <a href="../../../../../../../org/apache/derby/iapi/store/access/conglomerate/LogicalUndo.html" title="interface in org.apache.derby.iapi.store.access.conglomerate">LogicalUndo</a>&nbsp;undo,
                                 byte&nbsp;insertFlag,
                                 int&nbsp;overflowThreshold)
                          throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#insertAtSlot-int-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-org.apache.derby.iapi.store.access.conglomerate.LogicalUndo-byte-int-">Page</a></code></span></div>
<div class="block">Insert a record at the specified slot. 
 <p>
 All records that occupy FIRST_SLOT_NUMBER to (slot - 1) are not moved. 
 <BR>
 All records that occupy slot to (recordCount() - 1) are moved up one 
 slot. 
 <BR>
 The new record is inserted at the specified slot. <BR>
 If slot == FIRST_SLOT_NUMBER, then the new record will be inserted at 
 the first slot. <BR>
 If slot == recordCount(), then the record is inserted in a new slot, no
 records are moved. <BR>

 If slot is &gt; recordCount() or if slot &lt; FIRST_SLOT_NUMBER, an exception
 will be thrown.

 <P><B>Space Policy</B><BR>
 If the row will not fit on a page then:
 <UL>
 <LI> an exception is thrown if the page has no other rows, this is an 
      indication that the row could never fit on a page in this container.
 <LI> null is returned if there are other rows on the page, this is an 
      indication that the row can potentially be inserted successfully 
      onto an empty page.
 </UL>

 <P>
 <B>Locking Policy</B>
 <BR>
 Calls the lockRecordForWrite() method of the LockingPolicy object passed
 to the openContainer() call before the record is inserted.
 <BR>
 MT - latched</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#insertAtSlot-int-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-org.apache.derby.iapi.store.access.conglomerate.LogicalUndo-byte-int-">insertAtSlot</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - The specified slot</dd>
<dd><code>row</code> - The row version of the data</dd>
<dd><code>validColumns</code> - a bit map of which columns in the row is valid.  
                      ValidColumns will not be changed by RawStore.</dd>
<dd><code>undo</code> - if logical undo may be necessary, a function pointer
                      to the access code where the logical undo logic 
                      resides. Null if logical undo is not necessary.</dd>
<dd><code>insertFlag</code> - if INSERT_UNDO_WITH_PURGE set, then the undo of this
                      insert will purge the row rather than mark it as 
                      deleted, which is the default bahavior for 
                      insertAtSlot and insert.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A RecordHandle representing the new record, or null if the row 
         will not fit on a non-empty page.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#insertAtSlot-int-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-org.apache.derby.iapi.store.access.conglomerate.LogicalUndo-byte-int-"><code>Page.insertAtSlot(int, java.lang.Object[], org.apache.derby.iapi.services.io.FormatableBitSet, org.apache.derby.iapi.store.access.conglomerate.LogicalUndo, byte, int)</code></a></dd>
</dl>
</li>
</ul>
<a name="insertNoOverflow-int-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-org.apache.derby.iapi.store.access.conglomerate.LogicalUndo-byte-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertNoOverflow</h4>
<pre>protected&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;insertNoOverflow(int&nbsp;slot,
                                        java.lang.Object[]&nbsp;row,
                                        <a href="../../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a>&nbsp;validColumns,
                                        <a href="../../../../../../../org/apache/derby/iapi/store/access/conglomerate/LogicalUndo.html" title="interface in org.apache.derby.iapi.store.access.conglomerate">LogicalUndo</a>&nbsp;undo,
                                        byte&nbsp;insertFlag,
                                        int&nbsp;overflowThreshold)
                                 throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="insert-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-byte-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insert</h4>
<pre>public final&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;insert(java.lang.Object[]&nbsp;row,
                                 <a href="../../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a>&nbsp;validColumns,
                                 byte&nbsp;insertFlag,
                                 int&nbsp;overflowThreshold)
                          throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#insert-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-byte-int-">Page</a></code></span></div>
<div class="block">Insert a record anywhere on the page.
 <P>

 <B>Locking Policy</B>
 <BR>
 Calls the lockRecordForWrite() method of the LockingPolicy object
 passed to the openContainer() call before the record is inserted.
 <BR>
 MT - latched</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#insert-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-byte-int-">insert</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>row</code> - The row version of the data</dd>
<dd><code>validColumns</code> - a bit map of which columns in the row is valid.  
                      ValidColumns will not be changed by RawStore.</dd>
<dd><code>insertFlag</code> - see values for insertFlag below.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A RecordHandle representing the new record.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#insert-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-byte-int-"><code>Page.insert(java.lang.Object[], org.apache.derby.iapi.services.io.FormatableBitSet, byte, int)</code></a></dd>
</dl>
</li>
</ul>
<a name="insertAllowOverflow-int-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-int-byte-int-org.apache.derby.iapi.store.raw.RecordHandle-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertAllowOverflow</h4>
<pre>public&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;insertAllowOverflow(int&nbsp;slot,
                                        java.lang.Object[]&nbsp;row,
                                        <a href="../../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a>&nbsp;validColumns,
                                        int&nbsp;startColumn,
                                        byte&nbsp;insertFlag,
                                        int&nbsp;overflowThreshold,
                                        <a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;nextPortionHandle)
                                 throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Insert a row allowing overflow.

                If handle is supplied then the record at that hanlde will be updated
                to indicate it is a partial row and it has an overflow portion.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="insertLongColumn-org.apache.derby.impl.store.raw.data.BasePage-org.apache.derby.impl.store.raw.data.LongColumnException-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertLongColumn</h4>
<pre>protected&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;insertLongColumn(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a>&nbsp;mainChainPage,
                                        <a href="../../../../../../../org/apache/derby/impl/store/raw/data/LongColumnException.html" title="class in org.apache.derby.impl.store.raw.data">LongColumnException</a>&nbsp;lce,
                                        byte&nbsp;insertFlag)
                                 throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Routine to insert a long column.
 <p>
 This code inserts a long column as a linked list of rows on overflow
 pages.  This list is pointed to by a small pointer in the main page
 row column.  The operation does the following:
     allocate new overflow page
     insert single row filling overflow page
     while (more of column exists)
         allocate new overflow page
         insert single row with next piece of row
         update previous piece to point to this new piece of row

 Same code is called both from an initial insert of a long column and
 from a subsequent update that results in a long column.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mainChainPage</code> - The parent page with row piece containing column
                      that will eventually point to this long column
                      chain.</dd>
<dd><code>lce</code> - The LongColumnException thrown when we recognized
                      that the column being inserted was "long", this 
                      structure is used to cache the info that we have
                      read so far about column.  In the case of an insert
                      of the stream it will have a copy of just the first
                      page of the stream that has already been read once.</dd>
<dd><code>insertFlag</code> - flags for insert operation.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The recordHandle of the first piece of the long column chain.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="preDirty--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>preDirty</h4>
<pre>public abstract&nbsp;void&nbsp;preDirty()</pre>
<div class="block">The page or its header is about to be modified.
                Loggable actions use this to make sure the page gets cleaned if a
                checkpoint is taken after any log record is sent to the log stream but
                before the page is actually dirtied.</div>
</li>
</ul>
<a name="updateOverflowDetails-org.apache.derby.iapi.store.raw.RecordHandle-org.apache.derby.iapi.store.raw.RecordHandle-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateOverflowDetails</h4>
<pre>public abstract&nbsp;void&nbsp;updateOverflowDetails(<a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;handle,
                                           <a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;overflowHandle)
                                    throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Update the overflow pointer for a long row

                <BR> MT - latched - page latch must be held</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>handle</code> - handle of the record for long row</dd>
<dd><code>overflowHandle</code> - the overflow (continuation) pointer for the long row</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="updateFieldOverflowDetails-org.apache.derby.iapi.store.raw.RecordHandle-org.apache.derby.iapi.store.raw.RecordHandle-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateFieldOverflowDetails</h4>
<pre>public abstract&nbsp;void&nbsp;updateFieldOverflowDetails(<a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;handle,
                                                <a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;overflowHandle)
                                         throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Update the overflow pointer for a long column

                <BR> MT - latched - page latch must be held</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>handle</code> - handle of the record for long row</dd>
<dd><code>overflowHandle</code> - the overflow (continuation) pointer for the long row</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="appendOverflowFieldHeader-org.apache.derby.iapi.services.io.DynamicByteArrayOutputStream-org.apache.derby.iapi.store.raw.RecordHandle-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>appendOverflowFieldHeader</h4>
<pre>public abstract&nbsp;int&nbsp;appendOverflowFieldHeader(<a href="../../../../../../../org/apache/derby/iapi/services/io/DynamicByteArrayOutputStream.html" title="class in org.apache.derby.iapi.services.io">DynamicByteArrayOutputStream</a>&nbsp;logBuffer,
                                              <a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;overflowHandle)
                                       throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a>,
                                              java.io.IOException</pre>
<div class="block">Append an overflow pointer to a partly logged row,
                to point to a long column that just been logged.

                <BR> MT - latched - page latch must be held</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>logBuffer</code> - The buffer that contains the partially logged row.</dd>
<dd><code>overflowHandle</code> - the overflow (continuation) pointer
                                                                to the beginning of the long column</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="getOverflowPageForInsert-int-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOverflowPageForInsert</h4>
<pre>public abstract&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a>&nbsp;getOverflowPageForInsert(int&nbsp;slot,
                                                  java.lang.Object[]&nbsp;row,
                                                  <a href="../../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a>&nbsp;validColumns,
                                                  int&nbsp;startColumn)
                                           throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="getNewOverflowPage--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNewOverflowPage</h4>
<pre>protected abstract&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a>&nbsp;getNewOverflowPage()
                                        throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="updateAtSlot-int-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateAtSlot</h4>
<pre>public final&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;updateAtSlot(int&nbsp;slot,
                                       java.lang.Object[]&nbsp;row,
                                       <a href="../../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a>&nbsp;validColumns)
                                throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#updateAtSlot-int-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-">Page</a></code></span></div>
<div class="block">Update the complete record identified by the slot.

                <P>
                <B>Locking Policy</B>
                <P>
                Calls the lockRecordForWrite() method of the LockingPolicy object
                passed to the openContainer() call before the record is undeleted.
                If record already deleted, an exception is thrown.

                <BR>
                It is guaranteed that the page latch is not released by this method</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#updateAtSlot-int-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-">updateAtSlot</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - is the slot number</dd>
<dd><code>validColumns</code> - a bit map of which columns in the row is valid.
                ValidColumns will not be changed by RawStore.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a Handle to the updated record.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - StandardException.newException(SQLState.UPDATE_DELETED_RECORD
                if the record is already deleted</dd>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - StandardException.newException(SQLState.CONTAINER_READ_ONLY
                if the container is read only</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#updateAtSlot-int-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-"><code>Page.updateAtSlot(int, java.lang.Object[], org.apache.derby.iapi.services.io.FormatableBitSet)</code></a></dd>
</dl>
</li>
</ul>
<a name="doUpdateAtSlot-org.apache.derby.iapi.store.raw.xact.RawTransaction-int-int-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doUpdateAtSlot</h4>
<pre>public abstract&nbsp;void&nbsp;doUpdateAtSlot(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t,
                                    int&nbsp;slot,
                                    int&nbsp;id,
                                    java.lang.Object[]&nbsp;row,
                                    <a href="../../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a>&nbsp;validColumns)
                             throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="updateFieldAtSlot-int-int-java.lang.Object-org.apache.derby.iapi.store.access.conglomerate.LogicalUndo-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateFieldAtSlot</h4>
<pre>public&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;updateFieldAtSlot(int&nbsp;slot,
                                      int&nbsp;fieldId,
                                      java.lang.Object&nbsp;newValue,
                                      <a href="../../../../../../../org/apache/derby/iapi/store/access/conglomerate/LogicalUndo.html" title="interface in org.apache.derby.iapi.store.access.conglomerate">LogicalUndo</a>&nbsp;undo)
                               throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#updateFieldAtSlot-int-int-java.lang.Object-org.apache.derby.iapi.store.access.conglomerate.LogicalUndo-">Page</a></code></span></div>
<div class="block">Update a field within the record, replacing its current value with
                the stored representation of newValue. Record is identified by slot.
                If the field does not exist then it is added to the record, but only if
                (fieldId - 1) exists.

                <BR><B>RESOLVE</B> right now it throws an exception if fieldId is not 
                already on the record, not add the next one as advertised.

                <P>
                <B>Locking Policy</B>
                <P>
                Calls the lockRecordForWrite() method of the LockingPolicy object
                passed to the openContainer() call before the record is updated.

                <BR>
                It is guaranteed that the page latch is not released by this method</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#updateFieldAtSlot-int-int-java.lang.Object-org.apache.derby.iapi.store.access.conglomerate.LogicalUndo-">updateFieldAtSlot</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - is the slot number</dd>
<dd><code>fieldId</code> - is the column id</dd>
<dd><code>newValue</code> - has the new colum value to be stored in the record</dd>
<dd><code>undo</code> - if logical undo may be necessary, a function pointer to the
                access code where the logical undo logic resides. Null if logical undo
                is not necessary.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a Handle to the updated record.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - StandardException.newException(SQLState.UPDATE_DELETED_RECORD
                if the record is already deleted</dd>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - StandardException.newException(SQLState.CONTAINER_READ_ONLY
                if the container is read only</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#updateFieldAtSlot-int-int-java.lang.Object-org.apache.derby.iapi.store.access.conglomerate.LogicalUndo-"><code>Page.updateFieldAtSlot(int, int, java.lang.Object, org.apache.derby.iapi.store.access.conglomerate.LogicalUndo)</code></a></dd>
</dl>
</li>
</ul>
<a name="fetchNumFields-org.apache.derby.iapi.store.raw.RecordHandle-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchNumFields</h4>
<pre>public final&nbsp;int&nbsp;fetchNumFields(<a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;handle)
                         throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#fetchNumFields-org.apache.derby.iapi.store.raw.RecordHandle-">Page</a></code></span></div>
<div class="block">Fetch the number of fields in a record. 
 <p>
 <B>Locking Policy</B>
 <P>
 No locks are obtained.

 <BR>
 MT - latched</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#fetchNumFields-org.apache.derby.iapi.store.raw.RecordHandle-">fetchNumFields</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>handle</code> - record handle to deleted or non-deleted record</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of fields in the record</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#fetchNumFields-org.apache.derby.iapi.store.raw.RecordHandle-"><code>Page.fetchNumFields(org.apache.derby.iapi.store.raw.RecordHandle)</code></a></dd>
</dl>
</li>
</ul>
<a name="fetchNumFieldsAtSlot-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchNumFieldsAtSlot</h4>
<pre>public&nbsp;int&nbsp;fetchNumFieldsAtSlot(int&nbsp;slot)
                         throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#fetchNumFieldsAtSlot-int-">Page</a></code></span></div>
<div class="block">Fetch the number of fields in a record.
 <p>

 <P>
 <B>Locking Policy</B>
 <P>
 No locks are obtained.

 <BR>
 It is guaranteed that the page latch is not released by this method</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#fetchNumFieldsAtSlot-int-">fetchNumFieldsAtSlot</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - is the slot number</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of fields in the record</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#fetchNumFieldsAtSlot-int-"><code>Page.fetchNumFieldsAtSlot(int)</code></a></dd>
</dl>
</li>
</ul>
<a name="deleteAtSlot-int-boolean-org.apache.derby.iapi.store.access.conglomerate.LogicalUndo-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteAtSlot</h4>
<pre>public&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;deleteAtSlot(int&nbsp;slot,
                                 boolean&nbsp;delete,
                                 <a href="../../../../../../../org/apache/derby/iapi/store/access/conglomerate/LogicalUndo.html" title="interface in org.apache.derby.iapi.store.access.conglomerate">LogicalUndo</a>&nbsp;undo)
                          throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#deleteAtSlot-int-boolean-org.apache.derby.iapi.store.access.conglomerate.LogicalUndo-">Page</a></code></span></div>
<div class="block">Mark the record at slot as deleted or undeleted according to delete flag.
 <p>

 <P>
 <B>Locking Policy</B>
 <P>
 Calls the lockRecordForWrite() method of the LockingPolicy object passed
 to the openContainer() call before the record is deleted.  If record 
 already deleted, and an attempt is made to delete it, an exception is 
 thrown.  If record not deleted, and an attempt is made to undelete it, 
 an exception is thrown.

 <BR>
 MT - latched</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#deleteAtSlot-int-boolean-org.apache.derby.iapi.store.access.conglomerate.LogicalUndo-">deleteAtSlot</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - the slot number</dd>
<dd><code>delete</code> - true if this record is to be deleted, false if this
                                                deleted record is to be marked undeleted</dd>
<dd><code>undo</code> - logical undo logic if necessary</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a Handle to the deleted/undeleted record.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - StandardException.newException(SQLState.UPDATE_DELETED_RECORD
                if an attempt to delete a record that is already deleted</dd>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - StandardException.newException(SQLState.UNDELETE_RECORD
                if an attempt to undelete a record that is not deleted</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#deleteAtSlot-int-boolean-org.apache.derby.iapi.store.access.conglomerate.LogicalUndo-"><code>Page.deleteAtSlot(int, boolean, org.apache.derby.iapi.store.access.conglomerate.LogicalUndo)</code></a></dd>
</dl>
</li>
</ul>
<a name="purgeAtSlot-int-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>purgeAtSlot</h4>
<pre>public&nbsp;void&nbsp;purgeAtSlot(int&nbsp;slot,
                        int&nbsp;numpurges,
                        boolean&nbsp;needDataLogged)
                 throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Purge one or more rows on a non-overflow page.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#purgeAtSlot-int-int-boolean-">purgeAtSlot</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - the starting slot number</dd>
<dd><code>numpurges</code> - number of slots to purge.  If &lt;= 0, 
                          just returns as a no-op.</dd>
<dd><code>needDataLogged</code> - if set to true data is logged for purges else 
                          only headers.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#purgeAtSlot-int-int-boolean-"><code>Page.purgeAtSlot(int, int, boolean)</code></a></dd>
</dl>
</li>
</ul>
<a name="purgeRowPieces-org.apache.derby.iapi.store.raw.xact.RawTransaction-int-org.apache.derby.iapi.store.raw.RecordHandle-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>purgeRowPieces</h4>
<pre>protected abstract&nbsp;void&nbsp;purgeRowPieces(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t,
                                       int&nbsp;slot,
                                       <a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;headRowHandle,
                                       boolean&nbsp;needDataLogged)
                                throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Purge all the overflow columns and overflow rows of the record at slot.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="copyAndPurge-org.apache.derby.iapi.store.raw.Page-int-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>copyAndPurge</h4>
<pre>public&nbsp;void&nbsp;copyAndPurge(<a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a>&nbsp;destPage,
                         int&nbsp;src_slot,
                         int&nbsp;num_rows,
                         int&nbsp;dest_slot)
                  throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#copyAndPurge-org.apache.derby.iapi.store.raw.Page-int-int-int-">Page</a></code></span></div>
<div class="block">move rows from one page to another, purging in the process.
 <p>

 Move from this page slot[src_slot] to slot[src_slot+num_rows-1] to 
 destPage slot[dest_slot] to slot[dest_slot + num_rows - 1], in that 
 order. Both this page and destPage must be latched and from the same 
 container with the same page and record format.

 <BR>Slot[src_slot] to slot[src_slot+numrows-1] will be purged from this 
 page.  RecordId on the dest page will be brand new and not in any 
 particular order or range.  RecordId of the purged rows in this page is 
 never reused.  Deleted and undeleted rows are copied over just the same.

 Exception will be thrown if this page does not have all the rows in the 
 moved over range.  

 <BR><B>RESOLVE: reserve space now not copied over because in btree, a
 row never shrinks.  When this routine is called by heap or by some page
 which will have shrunken row, then we need to add that </B>

 <BR>DestPage must have at least dest_slot row occupying slot[0] to
 slot[dest_slot-1].  DestPage must have enough space to take the copied
 over data.  Rows that occupied slot number &gt; dest_slot will be moved up
 the slot (I.e., slot[dest_slot] -&gt; slot[dest_slot + num_rows]).  

 <BR>If this operation rolls back, this page (the src page) will get the
 rows back and the dest page will purge the rows that were copied - this
 is as if the rows were inserted into the dest page with 
 INSERT_UNDO_WITH_PURGE.

 <P>
 <B>Locking Policy</B>
 <P>
 Calls the lockRecordForWrite() method of the LockingPolicy object
 passed to the openContainer() call before the rows are copied over and 
 bore the records are purged.  I.e, for num_rows moved, there will be
 2*num_rows calls to lockRecordForWrite.
 <P>

 <P><B>Use with caution</B>
 <BR>As with a normal purge, no space is reserved on this page for 
 rollback of the purge, so you must commit before inserting any rows 
 onto this page - unless those inserts are INSERT_UNDO_WITH_PURGE.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#copyAndPurge-org.apache.derby.iapi.store.raw.Page-int-int-int-">copyAndPurge</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>destPage</code> - the page to copy to</dd>
<dd><code>src_slot</code> - start copying from this slot</dd>
<dd><code>num_rows</code> - copy and purge this many rows from this page</dd>
<dd><code>dest_slot</code> - copying into this slot of destPage</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#copyAndPurge-org.apache.derby.iapi.store.raw.Page-int-int-int-"><code>Page.copyAndPurge(org.apache.derby.iapi.store.raw.Page, int, int, int)</code></a></dd>
</dl>
</li>
</ul>
<a name="unlatch--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlatch</h4>
<pre>public&nbsp;void&nbsp;unlatch()</pre>
<div class="block">Unlatch the page.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#unlatch--">unlatch</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#unlatch--"><code>Page.unlatch()</code></a></dd>
</dl>
</li>
</ul>
<a name="isLatched--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isLatched</h4>
<pre>public final&nbsp;boolean&nbsp;isLatched()</pre>
<div class="block">Check whether the page is latched.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#isLatched--">isLatched</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the page is latched, <code>false</code>
 otherwise</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#isLatched--"><code>Page.isLatched()</code></a></dd>
</dl>
</li>
</ul>
<a name="recordCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recordCount</h4>
<pre>public final&nbsp;int&nbsp;recordCount()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#recordCount--">Page</a></code></span></div>
<div class="block">Return the number of records on the page. The returned count includes rows that are deleted,
                i.e. it is the same as the number of slots on the page.

                <BR>
                MT - latched</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#recordCount--">recordCount</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#recordCount--"><code>Page.recordCount()</code></a></dd>
</dl>
</li>
</ul>
<a name="internalDeletedRecordCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>internalDeletedRecordCount</h4>
<pre>protected abstract&nbsp;int&nbsp;internalDeletedRecordCount()</pre>
<div class="block">get record count without checking for latch</div>
</li>
</ul>
<a name="internalNonDeletedRecordCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>internalNonDeletedRecordCount</h4>
<pre>protected&nbsp;int&nbsp;internalNonDeletedRecordCount()</pre>
<div class="block">get record count without checking for latch</div>
</li>
</ul>
<a name="nonDeletedRecordCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nonDeletedRecordCount</h4>
<pre>public&nbsp;int&nbsp;nonDeletedRecordCount()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#nonDeletedRecordCount--">Page</a></code></span></div>
<div class="block">Return the number of records on this page that are <B> not </B> marked as deleted.
                
                 <BR>
                MT - latched</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#nonDeletedRecordCount--">nonDeletedRecordCount</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#nonDeletedRecordCount--"><code>Page.nonDeletedRecordCount()</code></a></dd>
</dl>
</li>
</ul>
<a name="shouldReclaimSpace-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shouldReclaimSpace</h4>
<pre>public&nbsp;boolean&nbsp;shouldReclaimSpace(int&nbsp;num_non_deleted_rows,
                                  int&nbsp;slot_just_deleted)
                           throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Is this page/deleted row a candidate for immediate reclaim space.
 <p>
 Used by access methods after executing a delete on "slot_just_deleted"
 to ask whether a post commit should be queued to try to reclaim space
 after the delete commits.  
 <p>
 Also used by access methods after undo of an insert.
 <p>
 Will return true if the number of non-deleted rows on the page is
 &lt;= "num_non_deleted_rows".  For instance 0 means schedule reclaim
 only if all rows are deleted, 1 if all rows but one are deleted.  
 <p>
 Will return true if the row just deleted is either a long row or long
 column.  In this case doing a reclaim space on the single row may
 reclaim multiple pages of free space, so better to do it now rather
 than wait for all rows on page to be deleted.  This case is to address
 the worst case scenario of all rows with long columns, but very short
 rows otherwise.  In this case there could be 1000's of rows on the 
 main page with many gigabytes of data on overflow pages in deleted space
 that would not be reclaimed until all rows on the page were deleted.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#shouldReclaimSpace-int-int-">shouldReclaimSpace</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>num_non_deleted_rows</code> - threshold number of non-deleted rows to
                             schedule reclaim space.</dd>
<dd><code>slot_just_deleted</code> - row on page to check for long row/long column</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if a reclaim space should be scheduled post commit on this
         page, false otherwise.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="isDeletedOnPage-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isDeletedOnPage</h4>
<pre>protected final&nbsp;boolean&nbsp;isDeletedOnPage(int&nbsp;slot)</pre>
</li>
</ul>
<a name="isDeletedAtSlot-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isDeletedAtSlot</h4>
<pre>public&nbsp;boolean&nbsp;isDeletedAtSlot(int&nbsp;slot)
                        throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#isDeletedAtSlot-int-">Page</a></code></span></div>
<div class="block">Test if a record is deleted.
 <p>

 <P>
 <B>Locking Policy</B>
 <BR>
 No locks are obtained.

 <BR>
 It is guaranteed that the page latch is not released by this method</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#isDeletedAtSlot-int-">isDeletedAtSlot</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - slot of record to be tested.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#isDeletedAtSlot-int-"><code>Page.isDeletedAtSlot(int)</code></a></dd>
</dl>
</li>
</ul>
<a name="setAuxObject-org.apache.derby.iapi.store.raw.AuxObject-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAuxObject</h4>
<pre>public&nbsp;void&nbsp;setAuxObject(<a href="../../../../../../../org/apache/derby/iapi/store/raw/AuxObject.html" title="interface in org.apache.derby.iapi.store.raw">AuxObject</a>&nbsp;obj)</pre>
<div class="block">Set the aux object.

                <BR> MT - single thread required. Calls via the Page interface will have the
                        page latched, thus providing single threadedness. Otherwise calls via this class
                        are only made when the class has no-identity, thus only a single thread can see the object.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#setAuxObject-org.apache.derby.iapi.store.raw.AuxObject-">setAuxObject</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#setAuxObject-org.apache.derby.iapi.store.raw.AuxObject-"><code>Page.setAuxObject(org.apache.derby.iapi.store.raw.AuxObject)</code></a></dd>
</dl>
</li>
</ul>
<a name="getAuxObject--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAuxObject</h4>
<pre>public&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/AuxObject.html" title="interface in org.apache.derby.iapi.store.raw">AuxObject</a>&nbsp;getAuxObject()</pre>
<div class="block">Get the aux object.
                <BR> MT - latched - It is required the caller throws away the returned reference
                when the page is unlatched.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#getAuxObject--">getAuxObject</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#getAuxObject--"><code>Page.getAuxObject()</code></a></dd>
</dl>
</li>
</ul>
<a name="setRepositionNeeded--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRepositionNeeded</h4>
<pre>public&nbsp;void&nbsp;setRepositionNeeded()</pre>
<div class="block">Set a hint in this page to make B-tree scans positioned on it
 reposition before they continue. This method is typically called
 when rows are removed from a B-tree leaf page (for instance in a
 page split).</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#setRepositionNeeded--">setRepositionNeeded</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a></code></dd>
</dl>
</li>
</ul>
<a name="isRepositionNeeded-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRepositionNeeded</h4>
<pre>public&nbsp;boolean&nbsp;isRepositionNeeded(long&nbsp;version)</pre>
<div class="block">Check if a B-tree scan positioned on this page needs to reposition.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#isRepositionNeeded-long-">isRepositionNeeded</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>version</code> - the last version on which the B-tree scan had a valid
 position on this page</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if a repositioning is needed because the row
 on the current position may have been removed from this page after
 the specified version; <code>false</code> otherwise</dd>
</dl>
</li>
</ul>
<a name="update-org.apache.derby.iapi.services.monitor.DerbyObservable-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>update</h4>
<pre>public&nbsp;void&nbsp;update(<a href="../../../../../../../org/apache/derby/iapi/services/monitor/DerbyObservable.html" title="class in org.apache.derby.iapi.services.monitor">DerbyObservable</a>&nbsp;obj,
                   java.lang.Object&nbsp;arg)</pre>
<div class="block">This object is set to observe the BaseContainerHandle it was obtained by,
                that handle will notify its observers when it is being closed. In that case
                we will release the latch on the page held by that container.

                <BR>
                MT - latched</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/services/monitor/DerbyObserver.html#update-org.apache.derby.iapi.services.monitor.DerbyObservable-java.lang.Object-">update</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/services/monitor/DerbyObserver.html" title="interface in org.apache.derby.iapi.services.monitor">DerbyObserver</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>obj</code> - The object which is being observed</dd>
<dd><code>arg</code> - Extra information being passed to the callback</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/services/monitor/DerbyObserver.html#update-org.apache.derby.iapi.services.monitor.DerbyObservable-java.lang.Object-"><code>DerbyObserver.update(org.apache.derby.iapi.services.monitor.DerbyObservable, java.lang.Object)</code></a></dd>
</dl>
</li>
</ul>
<a name="getPageId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPageId</h4>
<pre>public final&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/PageKey.html" title="class in org.apache.derby.iapi.store.raw">PageKey</a>&nbsp;getPageId()</pre>
<div class="block">Get the Page identifer

                <BR> MT - RESOLVE</div>
</li>
</ul>
<a name="setExclusive-org.apache.derby.impl.store.raw.data.BaseContainerHandle-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setExclusive</h4>
<pre>void&nbsp;setExclusive(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;requester)
           throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Get an exclusive latch on the page.
                <BR>
                MT - thread safe</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby policy.</dd>
</dl>
</li>
</ul>
<a name="setExclusiveNoWait-org.apache.derby.impl.store.raw.data.BaseContainerHandle-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setExclusiveNoWait</h4>
<pre>boolean&nbsp;setExclusiveNoWait(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;requester)
                    throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Get an exclusive latch on the page, but only if I don't have to wait.
                <BR>
                MT - thread safe</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="releaseExclusive--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>releaseExclusive</h4>
<pre>protected&nbsp;void&nbsp;releaseExclusive()</pre>
<div class="block">Release the exclusive latch on the page.
                <BR>
                MT - latched</div>
</li>
</ul>
<a name="preLatch-org.apache.derby.impl.store.raw.data.BaseContainerHandle-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>preLatch</h4>
<pre>private&nbsp;void&nbsp;preLatch(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;requester)</pre>
<div class="block">Move page state from UNLATCHED to PRELATCH. setExclusive*() routines do
 the work of completing the latch - using the preLatch status.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>requester</code> - handle to the container requesting ownership</dd>
</dl>
</li>
</ul>
<a name="setHeaderAtSlot-int-org.apache.derby.impl.store.raw.data.StoredRecordHeader-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setHeaderAtSlot</h4>
<pre>protected final&nbsp;void&nbsp;setHeaderAtSlot(int&nbsp;slot,
                                     <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredRecordHeader.html" title="class in org.apache.derby.impl.store.raw.data">StoredRecordHeader</a>&nbsp;rh)</pre>
<div class="block">Must be called by any non-abstract sub-class to initialise the slot
                table.</div>
</li>
</ul>
<a name="bumpRecordCount-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bumpRecordCount</h4>
<pre>protected final&nbsp;void&nbsp;bumpRecordCount(int&nbsp;number)</pre>
</li>
</ul>
<a name="getHeaderAtSlot-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHeaderAtSlot</h4>
<pre>public final&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredRecordHeader.html" title="class in org.apache.derby.impl.store.raw.data">StoredRecordHeader</a>&nbsp;getHeaderAtSlot(int&nbsp;slot)</pre>
</li>
</ul>
<a name="entireRecordOnPage-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>entireRecordOnPage</h4>
<pre>public abstract&nbsp;boolean&nbsp;entireRecordOnPage(int&nbsp;slot)
                                    throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Returns true if the entire record of that slot fits inside of this
                page.  Returns false if part of the record on this slot overflows to
                other pages, either due to long row or long column. 

                <BR>
                MT - latched</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="recordHeaderOnDemand-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recordHeaderOnDemand</h4>
<pre>public abstract&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredRecordHeader.html" title="class in org.apache.derby.impl.store.raw.data">StoredRecordHeader</a>&nbsp;recordHeaderOnDemand(int&nbsp;slot)</pre>
</li>
</ul>
<a name="checkSlotOnPage-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkSlotOnPage</h4>
<pre>private final&nbsp;void&nbsp;checkSlotOnPage(int&nbsp;slot)
                            throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Is the given slot number on the page?

                <BR>
                MT - latched</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="setDeleteStatus-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDeleteStatus</h4>
<pre>public&nbsp;int&nbsp;setDeleteStatus(int&nbsp;slot,
                           boolean&nbsp;delete)
                    throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a>,
                           java.io.IOException</pre>
<div class="block">Mark the record at the passed in slot as deleted.

                return code comes from StoredRecordHeader class:
                        return  1, if delete status from not deleted to deleted
                        return -1, if delete status from deleted to not deleted
                        return  0, if status unchanged.
                <BR>
                <B>Any sub-class must call this method when deleting a record.</B>

                <BR>
                MT - latched</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
<dd><code>java.io.IOException</code> - IO error accessing page</dd>
</dl>
</li>
</ul>
<a name="deallocatePage--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deallocatePage</h4>
<pre>public&nbsp;void&nbsp;deallocatePage()
                    throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Mark this page as being deallocated</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Derby Standard error policy</dd>
</dl>
</li>
</ul>
<a name="initPage-int-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initPage</h4>
<pre>public&nbsp;void&nbsp;initPage(int&nbsp;initFlag,
                     long&nbsp;pageOffset)
              throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Mark this page as being allocated and initialize it to a pristine page</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Derby Standard error policy</dd>
</dl>
</li>
</ul>
<a name="findRecordById-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findRecordById</h4>
<pre>public&nbsp;int&nbsp;findRecordById(int&nbsp;recordId,
                          int&nbsp;slotHint)</pre>
<div class="block">Find the slot for the record with the passed in identifier.

                <BR>
                This method returns the record regardless of its deleted status.
        <BR>
        The "slotHint" argument is a hint about what slot the record id might
        be in.  Callers may save the last slot where the record was across
        latch/unlatches to the page, and then pass that slot back as a hint - 
        if the page has not shuffled slots since the last reference then the
        hint will succeed and a linear search is saved.  If the caller has
        no idea where it may be, then FIRST_SLOT_NUMBER is passed in and a
        linear search is performed.
                <BR>
                MT - latched</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>recordId</code> - record id of the record to search for.</dd>
<dd><code>slotHint</code> - "hint" about which slot the record might be in.</dd>
</dl>
</li>
</ul>
<a name="findNextRecordById-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findNextRecordById</h4>
<pre>private&nbsp;int&nbsp;findNextRecordById(int&nbsp;recordId)</pre>
<div class="block">Find the slot for the first record on the page with an id greater than 
        the passed in identifier.

                <BR>
        Returns the slot of the first record on the page with an id greater 
        than the one passed in.  Usefulness of this functionality depends on the
        clients use of the raw store interfaces.  If all "new" records are
        always inserted at the end of the page, and the raw store continues
        to guarantee that all record id's will be allocated in increasing order
        on a given page, then a page is always sorted
        in record id order.  For instance current heap tables function this
        way.  If the client ever inserts at a particular slot number, rather
        than at the "end" then the record id's will not be sorted.
        <BR>
        In the case where all record id's are always sorted on a page, then
        this routine can be used by scan's which "lose" their position because
        the row they have as a position was purged.  They can reposition their
        scan at the "next" row after the row that is now missing from the table.
                <BR>
                This method returns the record regardless of its deleted status.
                <BR>
                MT - latched</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>recordId</code> - record id of the first record on the page with a 
                         record id higher than the one passed in.  If no 
                         such record exists, -1 is returned.</dd>
</dl>
</li>
</ul>
<a name="copyInto-org.apache.derby.impl.store.raw.data.BasePage-int-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>copyInto</h4>
<pre>private&nbsp;void&nbsp;copyInto(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a>&nbsp;srcPage,
                      int&nbsp;src_slot,
                      int&nbsp;num_rows,
                      int&nbsp;dest_slot)
               throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Copy num_rows from srcPage, src_slot into this page starting at dest_slot.
                This is destination page of the the copy half of copy and Purge.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#copyAndPurge-org.apache.derby.iapi.store.raw.Page-int-int-int-"><code>Page.copyAndPurge(org.apache.derby.iapi.store.raw.Page, int, int, int)</code></a></dd>
</dl>
</li>
</ul>
<a name="removeAndShiftDown-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeAndShiftDown</h4>
<pre>protected&nbsp;void&nbsp;removeAndShiftDown(int&nbsp;slot)</pre>
<div class="block">Remove record at slot.
        <p>
                Remove the slot at the in-memory slot table, i.e.,
                slots from 0 to deleteSlot-1 is untouched, deleteSlot is removed from
                in memory slot table, deleteSlot+1 .. recordCount()-1 move to
                down one slot.

                <BR>
                MT - latched</div>
</li>
</ul>
<a name="shiftUp-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shiftUp</h4>
<pre>protected&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredRecordHeader.html" title="class in org.apache.derby.impl.store.raw.data">StoredRecordHeader</a>&nbsp;shiftUp(int&nbsp;low)</pre>
<div class="block">Shift all records in the in-memory slot table up one slot,
                starting at and including the record in slot 'low'
                A new slot is added to accomdate the move.

                <BR>
                MT - latched</div>
</li>
</ul>
<a name="compactRecord-org.apache.derby.iapi.store.raw.RecordHandle-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>compactRecord</h4>
<pre>public&nbsp;void&nbsp;compactRecord(<a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;handle)
                   throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Try to compact this record.  Deleted record are treated the same way as
                nondeleted record.  This page must not be an overflow page.  The record
                may already have been purged from the page.

                <P>
                <B>Locking Policy</B>
                <P>
                No locks are obtained.

                <BR>
                MT - latched

                <P>
                <B>NOTE : CAVEAT </B><BR>
                This operation will physically get rid of any reserved space this
                record may have, or it may compact the record by merging strung out row
                pieces together.  Since the freed reserved space is immediately usable
                by other transactions which latched the page, it is only safe to use
                this operation if the caller knows that it has exclusive access to the
                page for the duration of the transaction, i.e., effectively holding a
                page lock on the page, AND that the record has no uncommitted
                updates.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>handle</code> - Handle to deleted or non-deleted record</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerHandle.html#compactRecord-org.apache.derby.iapi.store.raw.RecordHandle-"><code>ContainerHandle.compactRecord(org.apache.derby.iapi.store.raw.RecordHandle)</code></a></dd>
</dl>
</li>
</ul>
<a name="getLastLogInstant--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastLogInstant</h4>
<pre>public final&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;getLastLogInstant()</pre>
</li>
</ul>
<a name="clearLastLogInstant--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearLastLogInstant</h4>
<pre>protected final&nbsp;void&nbsp;clearLastLogInstant()</pre>
</li>
</ul>
<a name="updateLastLogInstant-org.apache.derby.iapi.store.raw.log.LogInstant-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateLastLogInstant</h4>
<pre>protected final&nbsp;void&nbsp;updateLastLogInstant(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant)</pre>
</li>
</ul>
<a name="getPageVersion--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPageVersion</h4>
<pre>public final&nbsp;long&nbsp;getPageVersion()</pre>
<div class="block">Return the current page version.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#getPageVersion--">getPageVersion</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>page version number</dd>
</dl>
</li>
</ul>
<a name="bumpPageVersion--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bumpPageVersion</h4>
<pre>protected final&nbsp;long&nbsp;bumpPageVersion()</pre>
<div class="block">increment the version by one and return the new version.</div>
</li>
</ul>
<a name="setPageVersion-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPageVersion</h4>
<pre>public final&nbsp;void&nbsp;setPageVersion(long&nbsp;v)</pre>
<div class="block">set it when the page is read from disk.

                <BR> MT - single thread required - Only called while the page has no identity which
                requires that only a single caller can be accessing it.</div>
</li>
</ul>
<a name="setPageStatus-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPageStatus</h4>
<pre>protected&nbsp;void&nbsp;setPageStatus(byte&nbsp;status)</pre>
<div class="block">Set page status based on passed in status flag.</div>
</li>
</ul>
<a name="getPageStatus--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPageStatus</h4>
<pre>public&nbsp;byte&nbsp;getPageStatus()</pre>
<div class="block">Get the page status, one of the values in the above page status flag</div>
</li>
</ul>
<a name="restoreRecordFromSlot-int-java.lang.Object:A-org.apache.derby.iapi.store.raw.FetchDescriptor-org.apache.derby.iapi.store.raw.RecordHandle-org.apache.derby.impl.store.raw.data.StoredRecordHeader-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>restoreRecordFromSlot</h4>
<pre>protected abstract&nbsp;boolean&nbsp;restoreRecordFromSlot(int&nbsp;slot,
                                                 java.lang.Object[]&nbsp;row,
                                                 <a href="../../../../../../../org/apache/derby/iapi/store/raw/FetchDescriptor.html" title="class in org.apache.derby.iapi.store.raw">FetchDescriptor</a>&nbsp;fetchDesc,
                                                 <a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;rh,
                                                 <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredRecordHeader.html" title="class in org.apache.derby.impl.store.raw.data">StoredRecordHeader</a>&nbsp;recordHeader,
                                                 boolean&nbsp;isHeadRow)
                                          throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Read the record at the given slot into the given row.
 <P>
 This reads and initializes the columns in the row array from the raw 
 bytes stored in the page associated with the given slot.  If validColumns
 is non-null then it will only read those columns indicated by the bit
 set, otherwise it will try to read into every column in row[].  
 <P>
 If there are more columns than entries in row[] then it just stops after
 every entry in row[] is full.
 <P>
 If there are more entries in row[] than exist on disk, the requested 
 excess columns will be set to null by calling the column's object's
 restoreToNull() routine 
 (ie.  ((Object) column).restoreToNull() ).
 <P>
 If a qualifier list is provided then the row will only be read from
 disk if all of the qualifiers evaluate true.  Some of the columns may
 have been read into row[] in the process of evaluating the qualifier.

 <BR> MT - latched, page is latched when this methods is called.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - the slot number</dd>
<dd><code>row</code> - (out)         filled in sparse row</dd>
<dd><code>fetchDesc</code> - A set of information about the fetch: what
                          columns to fetch, any qualifiers, ...</dd>
<dd><code>rh</code> - the record handle for the row at top level,
                          and is used in OverflowInputStream to lock the 
                          row for Blobs/Clobs.</dd>
<dd><code>isHeadRow</code> - Is the head row portion of the row, false if
                          a long row and the 2-N'th portion of the long
                          row.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>false if a qualifier_list is provided and the row does not 
          qualifier (no row read in that case), else true.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="restorePortionLongColumn-org.apache.derby.impl.store.raw.data.OverflowInputStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>restorePortionLongColumn</h4>
<pre>protected abstract&nbsp;void&nbsp;restorePortionLongColumn(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/OverflowInputStream.html" title="class in org.apache.derby.impl.store.raw.data">OverflowInputStream</a>&nbsp;fetchStream)
                                          throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a>,
                                                 java.io.IOException</pre>
<div class="block">Read portion of a log record at the given slot into the given byteHolder.

                <BR> MT - latched, page is latched when this methods is called.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="newRecordId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newRecordId</h4>
<pre>public abstract&nbsp;int&nbsp;newRecordId()
                         throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Create a new record identifier.

                <BR> MT - latched, page is latched when this methods is called.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="newRecordIdAndBump--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newRecordIdAndBump</h4>
<pre>public abstract&nbsp;int&nbsp;newRecordIdAndBump()
                                throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Create a new record identifier, and bump to next recordid.

                <BR> MT - latched, page is latched when this methods is called.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="newRecordId-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newRecordId</h4>
<pre>protected abstract&nbsp;int&nbsp;newRecordId(int&nbsp;recordId)
                            throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Create a new record identifier, the passed in one is the last one created.
                Use this method to collect and reserve multiple recordIds in one
                stroke.  Given the same input recordId, the subclass MUST return the
                same recordId every time.

                <BR> MT - latched, page is latched when this methods is called.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="spaceForCopy-int-int:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>spaceForCopy</h4>
<pre>public abstract&nbsp;boolean&nbsp;spaceForCopy(int&nbsp;num_rows,
                                     int[]&nbsp;spaceNeeded)
                              throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Is there space for copying this many rows which takes this many bytes
                on the page

                <BR> MT - latched, page is latched when this methods is called.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby policy.</dd>
</dl>
</li>
</ul>
<a name="getTotalSpace-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTotalSpace</h4>
<pre>public abstract&nbsp;int&nbsp;getTotalSpace(int&nbsp;slot)
                           throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Return the total number of bytes used, reserved, or wasted by the
                record at this slot.

                <BR> MT - latched, page is latched when this methods is called.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby policy.</dd>
</dl>
</li>
</ul>
<a name="getReservedCount-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReservedCount</h4>
<pre>public abstract&nbsp;int&nbsp;getReservedCount(int&nbsp;slot)
                              throws java.io.IOException</pre>
<div class="block">Return the total number of bytes reserved by the
                record at this slot.

                <BR> MT - latched, page is latched when this methods is called.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - Thrown by InputStream methods potential I/O errors</dd>
</dl>
</li>
</ul>
<a name="getRecordLength-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRecordLength</h4>
<pre>public abstract&nbsp;int&nbsp;getRecordLength(int&nbsp;slot)
                             throws java.io.IOException</pre>
<div class="block">Get the stored length of a record. This must match the amount of data
                written by logColumn and logField.

                <BR> MT - latched - page latch must be held</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="restoreRecordFromStream-org.apache.derby.iapi.services.io.LimitObjectInput-java.lang.Object:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>restoreRecordFromStream</h4>
<pre>public abstract&nbsp;void&nbsp;restoreRecordFromStream(<a href="../../../../../../../org/apache/derby/iapi/services/io/LimitObjectInput.html" title="interface in org.apache.derby.iapi.services.io">LimitObjectInput</a>&nbsp;in,
                                             java.lang.Object[]&nbsp;row)
                                      throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a>,
                                             java.io.IOException</pre>
<div class="block">Restore a storable row from a InputStream that was used to
                store the row after a logRecord call.

                <BR> MT - latched - page latch must be held</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
<dd><code>java.io.IOException</code> - object exceeds the available data in the stream.</dd>
</dl>
</li>
</ul>
<a name="logRecord-int-int-int-org.apache.derby.iapi.services.io.FormatableBitSet-java.io.OutputStream-org.apache.derby.iapi.store.raw.RecordHandle-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logRecord</h4>
<pre>public abstract&nbsp;void&nbsp;logRecord(int&nbsp;slot,
                               int&nbsp;flag,
                               int&nbsp;recordId,
                               <a href="../../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a>&nbsp;validColumns,
                               java.io.OutputStream&nbsp;out,
                               <a href="../../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;headRowHandle)
                        throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a>,
                               java.io.IOException</pre>
<div class="block">Log a currently stored record to the output stream.
                The logged version of the record must be readable by storeRecord.

                <BR> MT - latched - page latch must be held</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - Slot number the record is stored in.</dd>
<dd><code>flag</code> - LOG_RECORD_*, the reason for logging the record.</dd>
<dd><code>recordId</code> - Record identifier of the record.</dd>
<dd><code>validColumns</code> - which columns needs to be logged</dd>
<dd><code>out</code> - Where to write the logged form.</dd>
<dd><code>headRowHandle</code> - the recordHandle of the head row piece, used
                                                for post commit cleanup for update.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="logRow-int-boolean-int-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-org.apache.derby.iapi.services.io.DynamicByteArrayOutputStream-int-byte-int-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logRow</h4>
<pre>public abstract&nbsp;int&nbsp;logRow(int&nbsp;slot,
                           boolean&nbsp;forInsert,
                           int&nbsp;recordId,
                           java.lang.Object[]&nbsp;row,
                           <a href="../../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a>&nbsp;validColumns,
                           <a href="../../../../../../../org/apache/derby/iapi/services/io/DynamicByteArrayOutputStream.html" title="class in org.apache.derby.iapi.services.io">DynamicByteArrayOutputStream</a>&nbsp;out,
                           int&nbsp;startColumn,
                           byte&nbsp;insertFlag,
                           int&nbsp;realStartColumn,
                           int&nbsp;realSpaceOnPage,
                           int&nbsp;overflowThreshold)
                    throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a>,
                           java.io.IOException</pre>
<div class="block">Log the row that will be stored at the given slot to the given OutputStream.
                The logged form of the Row must be readable by storeRecord.

                <BR> MT - latched - page latch must be held</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - Slot number the record will be stored in.</dd>
<dd><code>forInsert</code> - True if the row is being logged for an insert,
                                                                false for an update.</dd>
<dd><code>recordId</code> - Record identifier of the record.</dd>
<dd><code>row</code> - The row version of the record.</dd>
<dd><code>validColumns</code> - FormatableBitSet of which columns in row are valid,
                                                                null indicates all are valid</dd>
<dd><code>out</code> - Where to write the logged form.</dd>
<dd><code>startColumn</code> - The first column that is being logged in this row.
                                                                This is used when logging portion of long rows.</dd>
<dd><code>insertFlag</code> - To indicate whether the insert would allow overflow.</dd>
<dd><code>realStartColumn</code> - This is used when a long column is detected.
                                                                Portion of the row may already be logged and stored
                                                                in the 'out' buffer.  After we log the long column,
                                                                the saved buffer was passed here, and we need to
                                                                continue to log the row.  realStartColumn is the starting
                                                                column for the continuation of the logRow operation.
                                                                Pass in (-1) if realStartColumn is not significant.</dd>
<dd><code>realSpaceOnPage</code> - Being used in conjunction with realStartColumn,
                                                                to indicate the real free space left on the page.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="logField-int-int-java.io.OutputStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logField</h4>
<pre>public abstract&nbsp;void&nbsp;logField(int&nbsp;slot,
                              int&nbsp;fieldNumber,
                              java.io.OutputStream&nbsp;out)
                       throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a>,
                              java.io.IOException</pre>
<div class="block">Log a currently stored field.
                The logged version of the field must be readable by storeField.

                <BR> MT - latched - page latch must be held</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - Slot number the record is stored in.</dd>
<dd><code>fieldNumber</code> - Number of the field (starts at 0).</dd>
<dd><code>out</code> - Where to write the logged form.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="logColumn-int-int-java.lang.Object-org.apache.derby.iapi.services.io.DynamicByteArrayOutputStream-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logColumn</h4>
<pre>public abstract&nbsp;void&nbsp;logColumn(int&nbsp;slot,
                               int&nbsp;fieldId,
                               java.lang.Object&nbsp;column,
                               <a href="../../../../../../../org/apache/derby/iapi/services/io/DynamicByteArrayOutputStream.html" title="class in org.apache.derby.iapi.services.io">DynamicByteArrayOutputStream</a>&nbsp;out,
                               int&nbsp;overflowThreshold)
                        throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a>,
                               java.io.IOException</pre>
<div class="block">Log a to be stored column.

                <BR> MT - latched - page latch must be held</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - slot of the current record</dd>
<dd><code>fieldId</code> - field number of the column being updated</dd>
<dd><code>column</code> - column version of the field.</dd>
<dd><code>out</code> - Where to write the logged form.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="logLongColumn-int-int-java.lang.Object-org.apache.derby.iapi.services.io.DynamicByteArrayOutputStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logLongColumn</h4>
<pre>public abstract&nbsp;int&nbsp;logLongColumn(int&nbsp;slot,
                                  int&nbsp;recordId,
                                  java.lang.Object&nbsp;column,
                                  <a href="../../../../../../../org/apache/derby/iapi/services/io/DynamicByteArrayOutputStream.html" title="class in org.apache.derby.iapi.services.io">DynamicByteArrayOutputStream</a>&nbsp;out)
                           throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a>,
                                  java.io.IOException</pre>
<div class="block">Log a to be stored long column.  return -1 when done.

                <BR> MT - latched - page latch must be held</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - slot of the current record</dd>
<dd><code>recordId</code> - the id of the long column record</dd>
<dd><code>column</code> - column version of the field.</dd>
<dd><code>out</code> - Where to write the logged form.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="storeRecord-org.apache.derby.iapi.store.raw.log.LogInstant-int-boolean-java.io.ObjectInput-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>storeRecord</h4>
<pre>public abstract&nbsp;void&nbsp;storeRecord(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant,
                                 int&nbsp;slot,
                                 boolean&nbsp;forInsert,
                                 java.io.ObjectInput&nbsp;in)
                          throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a>,
                                 java.io.IOException</pre>
<div class="block">Read a previously stored record written by logRecord or logRow and store
                it on the data page at the given slot with the given record identifier.
                Any previously stored record must be replaced.

                <BR> MT - latched - page latch must be held</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
<dd><code>java.io.IOException</code> - Thrown by InputStream methods potential I/O errors
                while writing the page</dd>
</dl>
</li>
</ul>
<a name="storeField-org.apache.derby.iapi.store.raw.log.LogInstant-int-int-java.io.ObjectInput-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>storeField</h4>
<pre>public abstract&nbsp;void&nbsp;storeField(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant,
                                int&nbsp;slot,
                                int&nbsp;fieldId,
                                java.io.ObjectInput&nbsp;in)
                         throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a>,
                                java.io.IOException</pre>
<div class="block">Read a previously stored field written by logField or logColumn and store
                it on the data page at thge given slot with the given record identifier
                and field number. Any previously stored field is replaced.

                <BR> MT - latched - page latch must be held</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
<dd><code>java.io.IOException</code> - Thrown by InputStream methods and potential I/O errors
                while writing the page.</dd>
</dl>
</li>
</ul>
<a name="reserveSpaceForSlot-org.apache.derby.iapi.store.raw.log.LogInstant-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reserveSpaceForSlot</h4>
<pre>public abstract&nbsp;void&nbsp;reserveSpaceForSlot(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant,
                                         int&nbsp;slot,
                                         int&nbsp;spaceToReserve)
                                  throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a>,
                                         java.io.IOException</pre>
<div class="block">Reserve the required number of bytes for the record in the specified slot.

                <BR> MT - latched - page latch must be held</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
<dd><code>java.io.IOException</code> - Thrown by InputStream methods and potential I/O errors
                while writing the page.</dd>
</dl>
</li>
</ul>
<a name="skipField-java.io.ObjectInput-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>skipField</h4>
<pre>public abstract&nbsp;void&nbsp;skipField(java.io.ObjectInput&nbsp;in)
                        throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a>,
                               java.io.IOException</pre>
<div class="block">Skip a previously stored field written by logField or logColumn.

                <BR> MT - latched - page latch must be held</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
<dd><code>java.io.IOException</code> - Thrown by InputStream methods</dd>
</dl>
</li>
</ul>
<a name="skipRecord-java.io.ObjectInput-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>skipRecord</h4>
<pre>public abstract&nbsp;void&nbsp;skipRecord(java.io.ObjectInput&nbsp;in)
                         throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a>,
                                java.io.IOException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="setDeleteStatus-org.apache.derby.iapi.store.raw.log.LogInstant-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDeleteStatus</h4>
<pre>public abstract&nbsp;void&nbsp;setDeleteStatus(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant,
                                     int&nbsp;slot,
                                     boolean&nbsp;delete)
                              throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a>,
                                     java.io.IOException</pre>
<div class="block">Set the delete status of a record from the page.

                <BR> MT - latched - page latch must be held</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - the slot to delete or undelete</dd>
<dd><code>delete</code> - set delete status to this value</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
<dd><code>java.io.IOException</code> - IO error accessing page</dd>
</dl>
</li>
</ul>
<a name="purgeRecord-org.apache.derby.iapi.store.raw.log.LogInstant-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>purgeRecord</h4>
<pre>public abstract&nbsp;void&nbsp;purgeRecord(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant,
                                 int&nbsp;slot,
                                 int&nbsp;recordId)
                          throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a>,
                                 java.io.IOException</pre>
<div class="block">Purge a record from the page.

                <BR> MT - latched - page latch must be held</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - the slot to purge</dd>
<dd><code>recordId</code> - the id of the record that is to be purged</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
<dd><code>java.io.IOException</code> - Thrown by potential I/O errors
                while writing the page.</dd>
</dl>
</li>
</ul>
<a name="compactRecord-org.apache.derby.iapi.store.raw.xact.RawTransaction-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>compactRecord</h4>
<pre>protected abstract&nbsp;void&nbsp;compactRecord(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t,
                                      int&nbsp;slot,
                                      int&nbsp;recordId)
                               throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Subclass implementation of compactRecord.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#compactRecord-org.apache.derby.iapi.store.raw.RecordHandle-"><code>compactRecord(org.apache.derby.iapi.store.raw.RecordHandle)</code></a></dd>
</dl>
</li>
</ul>
<a name="setPageStatus-org.apache.derby.iapi.store.raw.log.LogInstant-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPageStatus</h4>
<pre>public abstract&nbsp;void&nbsp;setPageStatus(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant,
                                   byte&nbsp;status)
                            throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Set the page status underneath a log record

                <BR> MT - latched - page latch must be held</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>instant</code> - the log instant of the log record</dd>
<dd><code>status</code> - the page status</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="initPage-org.apache.derby.iapi.store.raw.log.LogInstant-byte-int-boolean-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initPage</h4>
<pre>public abstract&nbsp;void&nbsp;initPage(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant,
                              byte&nbsp;status,
                              int&nbsp;recordId,
                              boolean&nbsp;overflow,
                              boolean&nbsp;reuse)
                       throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">initialize a page for the first time or for reuse

                All subtypes are expected to overwrite this method if it has something to clean up</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="setReservedSpace-org.apache.derby.iapi.store.raw.log.LogInstant-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setReservedSpace</h4>
<pre>public abstract&nbsp;void&nbsp;setReservedSpace(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant,
                                      int&nbsp;slot,
                                      int&nbsp;value)
                               throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a>,
                                      java.io.IOException</pre>
<div class="block">Set the reserved space for this row to value.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="isOverflowPage--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isOverflowPage</h4>
<pre>public abstract&nbsp;boolean&nbsp;isOverflowPage()</pre>
<div class="block">Return true if the page is an overflow page, false if not.
                For implementation that don't have overflow pages, return false.</div>
</li>
</ul>
<a name="allowInsert--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allowInsert</h4>
<pre>public abstract&nbsp;boolean&nbsp;allowInsert()</pre>
<div class="block">Returns false if an insert is not to be allowed in the page.</div>
</li>
</ul>
<a name="unfilled--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unfilled</h4>
<pre>public abstract&nbsp;boolean&nbsp;unfilled()</pre>
<div class="block">Returns true if an insert is allowed in the page and the page is
                relatively unfilled - let specific implementation decide what
                relatively unfilled means</div>
</li>
</ul>
<a name="setContainerRowCount-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setContainerRowCount</h4>
<pre>public abstract&nbsp;void&nbsp;setContainerRowCount(long&nbsp;count)</pre>
<div class="block">Set the number of rows in the container - the page uses this to decide
                whether it needs to aggressive set the container's row count when it
                changes.</div>
</li>
</ul>
<a name="getPageArray--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPageArray</h4>
<pre>protected abstract&nbsp;byte[]&nbsp;getPageArray()
                                throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="slotTableToString--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>slotTableToString</h4>
<pre>protected&nbsp;java.lang.String&nbsp;slotTableToString()</pre>
<div class="block">Debugging, print slot table information</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Built on Mon 2017-07-03 23:03:59+0530, from revision Unversioned directory</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactoryJ4.html" title="class in org.apache.derby.impl.store.raw.data"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BufferedByteHolderInputStream.html" title="class in org.apache.derby.impl.store.raw.data"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/derby/impl/store/raw/data/BasePage.html" target="_top">Frames</a></li>
<li><a href="BasePage.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Apache Derby V10.13 Internals - <i>Copyright &copy; 2004,2016 The Apache Software Foundation. All Rights Reserved.</i></small></p>
</body>
</html>
