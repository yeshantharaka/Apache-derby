<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_66) on Mon Jul 03 23:05:20 IST 2017 -->
<title>Xact (Apache Derby V10.13 Internals)</title>
<meta name="date" content="2017-07-03">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Xact (Apache Derby V10.13 Internals)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10,"i34":10,"i35":10,"i36":10,"i37":10,"i38":10,"i39":10,"i40":10,"i41":10,"i42":10,"i43":10,"i44":10,"i45":10,"i46":10,"i47":10,"i48":10,"i49":10,"i50":10,"i51":10,"i52":10,"i53":10,"i54":10,"i55":10,"i56":10,"i57":10,"i58":10,"i59":10,"i60":10,"i61":10,"i62":10,"i63":10,"i64":10,"i65":10,"i66":10,"i67":10,"i68":10,"i69":10,"i70":10,"i71":10,"i72":10,"i73":10,"i74":10,"i75":10,"i76":10,"i77":10,"i78":10,"i79":10,"i80":10,"i81":10,"i82":10,"i83":10,"i84":10,"i85":10,"i86":10,"i87":10,"i88":10,"i89":10,"i90":10,"i91":10,"i92":10,"i93":10,"i94":10,"i95":10,"i96":10,"i97":10,"i98":10,"i99":10,"i100":10,"i101":10,"i102":10,"i103":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/TransactionTableEntry.html" title="class in org.apache.derby.impl.store.raw.xact"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/XactContext.html" title="class in org.apache.derby.impl.store.raw.xact"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/derby/impl/store/raw/xact/Xact.html" target="_top">Frames</a></li>
<li><a href="Xact.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.derby.impl.store.raw.xact</div>
<h2 title="Class Xact" class="title">Class Xact</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../../org/apache/derby/iapi/services/monitor/DerbyObservable.html" title="class in org.apache.derby.iapi.services.monitor">org.apache.derby.iapi.services.monitor.DerbyObservable</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">org.apache.derby.iapi.store.raw.xact.RawTransaction</a></li>
<li>
<ul class="inheritance">
<li>org.apache.derby.impl.store.raw.xact.Xact</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/services/locks/Limit.html" title="interface in org.apache.derby.iapi.services.locks">Limit</a>, <a href="../../../../../../../org/apache/derby/iapi/services/locks/LockOwner.html" title="interface in org.apache.derby.iapi.services.locks">LockOwner</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/InternalXact.html" title="class in org.apache.derby.impl.store.raw.xact">InternalXact</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">Xact</span>
extends <a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>
implements <a href="../../../../../../../org/apache/derby/iapi/services/locks/Limit.html" title="interface in org.apache.derby.iapi.services.locks">Limit</a>, <a href="../../../../../../../org/apache/derby/iapi/services/locks/LockOwner.html" title="interface in org.apache.derby.iapi.services.locks">LockOwner</a></pre>
<div class="block">A transaction has five states
  <OL>
  <LI> CLOSED - cannot be used
  <LI> IDLE - no reads have been performed by the transaction.
  <LI> ACTIVE - at least one read has been attempted by the transaction
  <LI> UPDATE - at least one update has been attempted by the transaction
  <LI> PREPARED - the transaction is ready to commit (FUTURE).
  </OL>
  <BR>Transaction identifiers are re-used for transactions that do not enter the
  UPDATE state during their lifetime.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw"><code>Transaction</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#ACTIVE">ACTIVE</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#backupBlocked">backupBlocked</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#CLOSED">CLOSED</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#COMMIT_NO_SYNC">COMMIT_NO_SYNC</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#COMMIT_PREPARE">COMMIT_PREPARE</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#COMMIT_SYNC">COMMIT_SYNC</a></span></code>
<div class="block">private static - 

          make sure these bits don't overwrite bits in Transaction.commit commitflag</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/iapi/services/locks/CompatibilitySpace.html" title="interface in org.apache.derby.iapi.services.locks">CompatibilitySpace</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#compatibilitySpace">compatibilitySpace</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#dataFactory">dataFactory</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/iapi/types/DataValueFactory.html" title="interface in org.apache.derby.iapi.types">DataValueFactory</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#dataValueFactory">dataValueFactory</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw">LockingPolicy</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#defaultLocking">defaultLocking</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#dontWaitForLocks">dontWaitForLocks</a></span></code>
<div class="block">Tells if lock requests should time out immediately if they cannot be
 granted without waiting.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#END_ABORTED">END_ABORTED</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#END_COMMITTED">END_COMMITTED</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#END_PREPARED">END_PREPARED</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#flush_log_on_xact_end">flush_log_on_xact_end</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#IDLE">IDLE</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.lang.Integer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#inComplete">inComplete</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#inPostCommitProcessing">inPostCommitProcessing</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#INTERNAL_TRANSACTION">INTERNAL_TRANSACTION</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#justCreated">justCreated</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="../../../../../../../org/apache/derby/iapi/services/io/DynamicByteArrayOutputStream.html" title="class in org.apache.derby.iapi.services.io">DynamicByteArrayOutputStream</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#logBuffer">logBuffer</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html" title="interface in org.apache.derby.iapi.store.raw.log">LogFactory</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#logFactory">logFactory</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/iapi/store/raw/log/Logger.html" title="interface in org.apache.derby.iapi.store.raw.log">Logger</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#logger">logger</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#logLast">logLast</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#logStart">logStart</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/iapi/store/raw/GlobalTransactionId.html" title="interface in org.apache.derby.iapi.store.raw">GlobalTransactionId</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#myGlobalId">myGlobalId</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/TransactionId.html" title="interface in org.apache.derby.iapi.store.raw.xact">TransactionId</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#myId">myId</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#needSync">needSync</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#NESTED_TOP_TRANSACTION">NESTED_TOP_TRANSACTION</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/TransactionId.html" title="interface in org.apache.derby.iapi.store.raw.xact">TransactionId</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#parentTransactionId">parentTransactionId</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.util.List&lt;<a href="../../../../../../../org/apache/derby/iapi/services/daemon/Serviceable.html" title="interface in org.apache.derby.iapi.services.daemon">Serviceable</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#postAbortWorks">postAbortWorks</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.util.List&lt;<a href="../../../../../../../org/apache/derby/iapi/services/daemon/Serviceable.html" title="interface in org.apache.derby.iapi.services.daemon">Serviceable</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#postCommitWorks">postCommitWorks</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#postCompleteMode">postCompleteMode</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.util.List&lt;<a href="../../../../../../../org/apache/derby/iapi/services/daemon/Serviceable.html" title="interface in org.apache.derby.iapi.services.daemon">Serviceable</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#postTerminationWorks">postTerminationWorks</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#PREPARED">PREPARED</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#readOnly">readOnly</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#RECOVERY_ROLLBACK_FIRST">RECOVERY_ROLLBACK_FIRST</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#recoveryTransaction">recoveryTransaction</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#sanityCheck_xaclosed">sanityCheck_xaclosed</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#savedEndStatus">savedEndStatus</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.Stack&lt;<a href="../../../../../../../org/apache/derby/impl/store/raw/xact/SavePoint.html" title="class in org.apache.derby.impl.store.raw.xact">SavePoint</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#savePoints">savePoints</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#seenUpdates">seenUpdates</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#state">state</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#transName">transName</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#UPDATE">UPDATE</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/impl/store/raw/xact/XactFactory.html" title="class in org.apache.derby.impl.store.raw.xact">XactFactory</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#xactFactory">xactFactory</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/impl/store/raw/xact/XactContext.html" title="class in org.apache.derby.impl.store.raw.xact">XactContext</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#xc">xc</a></span></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.apache.derby.iapi.store.raw.xact.RawTransaction">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.apache.derby.iapi.store.raw.xact.<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a></h3>
<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#ABORT">ABORT</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#COMMIT">COMMIT</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#LOCK_ESCALATE">LOCK_ESCALATE</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#observerException">observerException</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#SAVEPOINT_ROLLBACK">SAVEPOINT_ROLLBACK</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.apache.derby.iapi.store.raw.Transaction">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;org.apache.derby.iapi.store.raw.<a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></h3>
<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#KEEP_LOCKS">KEEP_LOCKS</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#RELEASE_LOCKS">RELEASE_LOCKS</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#XA_OK">XA_OK</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#XA_RDONLY">XA_RDONLY</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#Xact-org.apache.derby.impl.store.raw.xact.XactFactory-org.apache.derby.impl.store.raw.xact.Xact-org.apache.derby.iapi.store.raw.log.LogFactory-org.apache.derby.iapi.store.raw.data.DataFactory-org.apache.derby.iapi.types.DataValueFactory-boolean-org.apache.derby.iapi.services.locks.CompatibilitySpace-boolean-">Xact</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/xact/XactFactory.html" title="class in org.apache.derby.impl.store.raw.xact">XactFactory</a>&nbsp;xactFactory,
    <a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html" title="class in org.apache.derby.impl.store.raw.xact">Xact</a>&nbsp;parentTransaction,
    <a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html" title="interface in org.apache.derby.iapi.store.raw.log">LogFactory</a>&nbsp;logFactory,
    <a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a>&nbsp;dataFactory,
    <a href="../../../../../../../org/apache/derby/iapi/types/DataValueFactory.html" title="interface in org.apache.derby.iapi.types">DataValueFactory</a>&nbsp;dataValueFactory,
    boolean&nbsp;readOnly,
    <a href="../../../../../../../org/apache/derby/iapi/services/locks/CompatibilitySpace.html" title="interface in org.apache.derby.iapi.services.locks">CompatibilitySpace</a>&nbsp;compatibilitySpace,
    boolean&nbsp;flush_log_on_xact_end)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#abort--">abort</a></span>()</code>
<div class="block">Abort all changes made by this transaction since the last commit, abort
                or the point the transaction was started, whichever is the most recent.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#addAndLoadStreamContainer-long-java.util.Properties-org.apache.derby.iapi.store.access.RowSource-">addAndLoadStreamContainer</a></span>(long&nbsp;segmentId,
                         java.util.Properties&nbsp;tableProperties,
                         <a href="../../../../../../../org/apache/derby/iapi/store/access/RowSource.html" title="interface in org.apache.derby.iapi.store.access">RowSource</a>&nbsp;rowSource)</code>
<div class="block">Add a new stream container to the segment and load the stream container.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#addContainer-long-long-int-java.util.Properties-int-">addContainer</a></span>(long&nbsp;segmentId,
            long&nbsp;containerid,
            int&nbsp;mode,
            java.util.Properties&nbsp;tableProperties,
            int&nbsp;temporaryFlag)</code>
<div class="block">Add a new container to the segment.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#addPostAbortWork-org.apache.derby.iapi.services.daemon.Serviceable-">addPostAbortWork</a></span>(<a href="../../../../../../../org/apache/derby/iapi/services/daemon/Serviceable.html" title="interface in org.apache.derby.iapi.services.daemon">Serviceable</a>&nbsp;work)</code>
<div class="block">Add to the list of post abort work that may be processed after this
                transaction aborts.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#addPostCommitWork-org.apache.derby.iapi.services.daemon.Serviceable-">addPostCommitWork</a></span>(<a href="../../../../../../../org/apache/derby/iapi/services/daemon/Serviceable.html" title="interface in org.apache.derby.iapi.services.daemon">Serviceable</a>&nbsp;work)</code>
<div class="block">Add to the list of post commit work that may be processed after this
                transaction commits.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#addPostTerminationWork-org.apache.derby.iapi.services.daemon.Serviceable-">addPostTerminationWork</a></span>(<a href="../../../../../../../org/apache/derby/iapi/services/daemon/Serviceable.html" title="interface in org.apache.derby.iapi.services.daemon">Serviceable</a>&nbsp;work)</code>
<div class="block">Add to the list of post termination work that may be processed after this
                transaction commits or aborts.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#addUpdateTransaction-int-">addUpdateTransaction</a></span>(int&nbsp;transactionStatus)</code>
<div class="block">Add this to the xactFactory list of update transaction.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#anyoneBlocked--">anyoneBlocked</a></span>()</code>
<div class="block">Return true if any transaction is currently blocked, even if not by
                this transaction.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#assumeGlobalXactIdentity-org.apache.derby.impl.store.raw.xact.TransactionTableEntry-">assumeGlobalXactIdentity</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/xact/TransactionTableEntry.html" title="class in org.apache.derby.impl.store.raw.xact">TransactionTableEntry</a>&nbsp;ent)</code>
<div class="block">Assume complete identity of the given Transaction Table Entry.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#assumeIdentity-org.apache.derby.impl.store.raw.xact.TransactionTableEntry-">assumeIdentity</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/xact/TransactionTableEntry.html" title="class in org.apache.derby.impl.store.raw.xact">TransactionTableEntry</a>&nbsp;ent)</code>
<div class="block">Transform this identity to the one stored in transaction table entry.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#blockBackup-boolean-">blockBackup</a></span>(boolean&nbsp;wait)</code>
<div class="block">Make the transaction block the online backup.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#checkObserverException--">checkObserverException</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#checkpointInRollForwardRecovery-org.apache.derby.iapi.store.raw.log.LogInstant-long-long-">checkpointInRollForwardRecovery</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;cinstant,
                               long&nbsp;redoLWM,
                               long&nbsp;undoLWM)</code>
<div class="block">Perform a checkpoint during rollforward recovery.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#close--">close</a></span>()</code>
<div class="block">Close this transaction, the transaction must be idle.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#commit--">commit</a></span>()</code>
<div class="block">Commit this transaction.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#commit-int-">commit</a></span>(int&nbsp;commitflag)</code>&nbsp;</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#commitNoSync-int-">commitNoSync</a></span>(int&nbsp;commitflag)</code>
<div class="block">"Commit" this transaction without sync'ing the log.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#completeCommit-int-">completeCommit</a></span>(int&nbsp;commitflag)</code>
<div class="block">Do work to complete a commit which is not just a prepare.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#createXATransactionFromLocalTransaction-int-byte:A-byte:A-">createXATransactionFromLocalTransaction</a></span>(int&nbsp;format_id,
                                       byte[]&nbsp;global_id,
                                       byte[]&nbsp;branch_id)</code>
<div class="block">Convert a local transaction to a global transaction.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw">LockingPolicy</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#defaultLockingPolicy--">defaultLockingPolicy</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#destroy--">destroy</a></span>()</code>
<div class="block">If this transaction is not idle, abort it.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#doComplete-java.lang.Integer-">doComplete</a></span>(java.lang.Integer&nbsp;commitOrAbort)</code>&nbsp;</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#doPostCommitWorkInTran--">doPostCommitWorkInTran</a></span>()</code>
<div class="block">If this is a user transaction (not an internal or nested top
          transaction), and this is not already taking care of post
          commit work, and not an XA transaction, then take care of hi prioirty 
      work right now using this thread and this context manager.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#dropContainer-org.apache.derby.iapi.store.raw.ContainerKey-">dropContainer</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;containerId)</code>
<div class="block">Drop a container.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#dropStreamContainer-long-long-">dropStreamContainer</a></span>(long&nbsp;segmentId,
                   long&nbsp;containerId)</code>
<div class="block">Drop a stream container.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#getActiveStateTxIdString--">getActiveStateTxIdString</a></span>()</code>
<div class="block">Get string id of the transaction that would be when the Transaction
 is IN active state.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/services/locks/CompatibilitySpace.html" title="interface in org.apache.derby.iapi.services.locks">CompatibilitySpace</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#getCompatibilitySpace--">getCompatibilitySpace</a></span>()</code>
<div class="block">Get the compatibility space of the transaction.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#getContextId--">getContextId</a></span>()</code>
<div class="block">Get my transaction context Id</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/services/context/ContextManager.html" title="class in org.apache.derby.iapi.services.context">ContextManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#getContextManager--">getContextManager</a></span>()</code>
<div class="block">Return the context manager this transaction is associated with.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#getDataFactory--">getDataFactory</a></span>()</code>
<div class="block">Get the data factory to be used during this transaction.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/types/DataValueFactory.html" title="interface in org.apache.derby.iapi.types">DataValueFactory</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#getDataValueFactory--">getDataValueFactory</a></span>()</code>
<div class="block">Get DataValueFactory.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw">LockingPolicy</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#getDefaultLockingPolicy--">getDefaultLockingPolicy</a></span>()</code>
<div class="block">Get the current default locking policy for all operations within this
                transaction.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/access/FileResource.html" title="interface in org.apache.derby.iapi.store.access">FileResource</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#getFileHandler--">getFileHandler</a></span>()</code>
<div class="block">Get an object to handle non-transactional files.</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#getFirstLogInstant--">getFirstLogInstant</a></span>()</code>
<div class="block">Get the log instant for the first log record written by this transaction.</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/GlobalTransactionId.html" title="interface in org.apache.derby.iapi.store.raw">GlobalTransactionId</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#getGlobalId--">getGlobalId</a></span>()</code>
<div class="block">get the Global (external to raw store) transaction id that is unique
                across all raw stores</div>
</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/TransactionId.html" title="interface in org.apache.derby.iapi.store.raw.xact">TransactionId</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#getId--">getId</a></span>()</code>
<div class="block">get the short (internal to raw store) transaction id that is unique
                only for this raw store</div>
</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/TransactionId.html" title="interface in org.apache.derby.iapi.store.raw.xact">TransactionId</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#getIdNoCheck--">getIdNoCheck</a></span>()</code>
<div class="block">Get the transaction id without sanity check, this should only be called
                by a cloned TransactionTableEntry</div>
</td>
</tr>
<tr id="i37" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#getLastLogInstant--">getLastLogInstant</a></span>()</code>
<div class="block">Get the log instant for the last log record written by this transaction.</div>
</td>
</tr>
<tr id="i38" class="altColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/services/locks/LockFactory.html" title="interface in org.apache.derby.iapi.services.locks">LockFactory</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#getLockFactory--">getLockFactory</a></span>()</code>
<div class="block">Get the lock factory to be used during this transaction.</div>
</td>
</tr>
<tr id="i39" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/services/io/DynamicByteArrayOutputStream.html" title="class in org.apache.derby.iapi.services.io">DynamicByteArrayOutputStream</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#getLogBuffer--">getLogBuffer</a></span>()</code>
<div class="block">Get the log buffer to be used during this transaction.</div>
</td>
</tr>
<tr id="i40" class="altColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html" title="interface in org.apache.derby.iapi.store.raw.log">LogFactory</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#getLogFactory--">getLogFactory</a></span>()</code>
<div class="block">JIRA-606.</div>
</td>
</tr>
<tr id="i41" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#getLogger--">getLogger</a></span>()</code>
<div class="block">Get the Logger object used to write log records to the transaction log.</div>
</td>
</tr>
<tr id="i42" class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#getSavePointPosition-java.lang.String-java.lang.Object-boolean-">getSavePointPosition</a></span>(java.lang.String&nbsp;name,
                    java.lang.Object&nbsp;kindOfSavepoint,
                    boolean&nbsp;forRollbackOrRelease)</code>
<div class="block">Does a save point exist in the stack with the given name.</div>
</td>
</tr>
<tr id="i43" class="rowColor">
<td class="colFirst"><code>(package private) java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#getState--">getState</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i44" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#getTransName--">getTransName</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i45" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#handlesPostTerminationWork--">handlesPostTerminationWork</a></span>()</code>
<div class="block">Can this transaction handles post termination work</div>
</td>
</tr>
<tr id="i46" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#inAbort--">inAbort</a></span>()</code>
<div class="block">Is the transaction in the middle of an abort.</div>
</td>
</tr>
<tr id="i47" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#inRollForwardRecovery--">inRollForwardRecovery</a></span>()</code>
<div class="block">Is the transaction in rollforward recovery</div>
</td>
</tr>
<tr id="i48" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#isActive--">isActive</a></span>()</code>
<div class="block">see if this transaction has ever done anything.</div>
</td>
</tr>
<tr id="i49" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#isBlockingBackup--">isBlockingBackup</a></span>()</code>
<div class="block">Check if the transaction is blocking the backup ?</div>
</td>
</tr>
<tr id="i50" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#isIdle--">isIdle</a></span>()</code>
<div class="block">See if this transaction is in the idle state, called by other thread to
                test the state of this transaction.</div>
</td>
</tr>
<tr id="i51" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#isNestedOwner--">isNestedOwner</a></span>()</code>
<div class="block">
 Return true if this is a nested owner, e.g., a nested user transaction.</div>
</td>
</tr>
<tr id="i52" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#isPrepared--">isPrepared</a></span>()</code>
<div class="block">see if this transaction is in PREPARED state.</div>
</td>
</tr>
<tr id="i53" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#isPristine--">isPristine</a></span>()</code>
<div class="block">see if this transaction is in a pristine state.</div>
</td>
</tr>
<tr id="i54" class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#isUserTransaction--">isUserTransaction</a></span>()</code>
<div class="block">see if this transaction is a user transaction.</div>
</td>
</tr>
<tr id="i55" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#logAndDo-org.apache.derby.iapi.store.raw.Loggable-">logAndDo</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/Loggable.html" title="interface in org.apache.derby.iapi.store.raw">Loggable</a>&nbsp;operation)</code>
<div class="block">Log the operation and do it.</div>
</td>
</tr>
<tr id="i56" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#logAndUndo-org.apache.derby.iapi.store.raw.Compensation-org.apache.derby.iapi.store.raw.log.LogInstant-org.apache.derby.iapi.services.io.LimitObjectInput-">logAndUndo</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/Compensation.html" title="interface in org.apache.derby.iapi.store.raw">Compensation</a>&nbsp;compensation,
          <a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;undoInstant,
          <a href="../../../../../../../org/apache/derby/iapi/services/io/LimitObjectInput.html" title="interface in org.apache.derby.iapi.services.io">LimitObjectInput</a>&nbsp;in)</code>
<div class="block">Log and apply a compensation operation.</div>
</td>
</tr>
<tr id="i57" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#nestsUnder-org.apache.derby.iapi.services.locks.LockOwner-">nestsUnder</a></span>(<a href="../../../../../../../org/apache/derby/iapi/services/locks/LockOwner.html" title="interface in org.apache.derby.iapi.services.locks">LockOwner</a>&nbsp;other)</code>
<div class="block">
 Return true if this owner nests under another owner.</div>
</td>
</tr>
<tr id="i58" class="altColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw">LockingPolicy</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#newLockingPolicy-int-int-boolean-">newLockingPolicy</a></span>(int&nbsp;mode,
                int&nbsp;isolation,
                boolean&nbsp;stricterOk)</code>
<div class="block">Obtain a locking policy for use in openContainer().</div>
</td>
</tr>
<tr id="i59" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#noWait--">noWait</a></span>()</code>
<div class="block">Tells whether lock requests should time out immediately if they can't
 be granted without waiting.</div>
</td>
</tr>
<tr id="i60" class="altColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw">ContainerHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#openContainer-org.apache.derby.iapi.store.raw.ContainerKey-int-">openContainer</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;containerId,
             int&nbsp;mode)</code>
<div class="block">Open a container, with the transaction's default locking policy.</div>
</td>
</tr>
<tr id="i61" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw">ContainerHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#openContainer-org.apache.derby.iapi.store.raw.ContainerKey-org.apache.derby.iapi.store.raw.LockingPolicy-int-">openContainer</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;containerId,
             <a href="../../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw">LockingPolicy</a>&nbsp;locking,
             int&nbsp;mode)</code>
<div class="block">Open a container, with the defined locking policy, otherwise
                as openContainer(int containerId,  boolean forUpdate).</div>
</td>
</tr>
<tr id="i62" class="altColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/RawContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw.data">RawContainerHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#openDroppedContainer-org.apache.derby.iapi.store.raw.ContainerKey-org.apache.derby.iapi.store.raw.LockingPolicy-">openDroppedContainer</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;containerId,
                    <a href="../../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw">LockingPolicy</a>&nbsp;locking)</code>
<div class="block">Open a container that may already have been dropped.</div>
</td>
</tr>
<tr id="i63" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/StreamContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw">StreamContainerHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#openStreamContainer-long-long-boolean-">openStreamContainer</a></span>(long&nbsp;segmentId,
                   long&nbsp;containerId,
                   boolean&nbsp;hold)</code>
<div class="block">Open a stream container.</div>
</td>
</tr>
<tr id="i64" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#popSavePoints-int-boolean-">popSavePoints</a></span>(int&nbsp;position,
             boolean&nbsp;release)</code>
<div class="block">Pop all savepoints upto the one with the given name and rollback
                all changes made since this savepoint was pushed.</div>
</td>
</tr>
<tr id="i65" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#postComplete-int-java.lang.Integer-">postComplete</a></span>(int&nbsp;commitflag,
            java.lang.Integer&nbsp;commitOrAbort)</code>&nbsp;</td>
</tr>
<tr id="i66" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#postTermination--">postTermination</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i67" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#preComplete-java.lang.Integer-">preComplete</a></span>(java.lang.Integer&nbsp;commitOrAbort)</code>&nbsp;</td>
</tr>
<tr id="i68" class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#prepareCommit-int-">prepareCommit</a></span>(int&nbsp;commitflag)</code>
<div class="block">Do work of commit that is common to xa_prepare and commit.</div>
</td>
</tr>
<tr id="i69" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#prepareTransaction--">prepareTransaction</a></span>()</code>
<div class="block">Remove this from the xactFactory list of update transaction.</div>
</td>
</tr>
<tr id="i70" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#reached-org.apache.derby.iapi.services.locks.CompatibilitySpace-java.lang.Object-int-java.util.Enumeration-int-">reached</a></span>(<a href="../../../../../../../org/apache/derby/iapi/services/locks/CompatibilitySpace.html" title="interface in org.apache.derby.iapi.services.locks">CompatibilitySpace</a>&nbsp;compatibilitySpace,
       java.lang.Object&nbsp;group,
       int&nbsp;limit,
       java.util.Enumeration&nbsp;lockList,
       int&nbsp;lockCount)</code>
<div class="block">Called by the lock factory when a limit has been reached.</div>
</td>
</tr>
<tr id="i71" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#recoveryTransaction--">recoveryTransaction</a></span>()</code>
<div class="block">Make this transaction aware that it is being used by recovery</div>
</td>
</tr>
<tr id="i72" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#reCreateContainerForRedoRecovery-long-long-org.apache.derby.iapi.util.ByteArray-">reCreateContainerForRedoRecovery</a></span>(long&nbsp;segmentId,
                                long&nbsp;containerId,
                                <a href="../../../../../../../org/apache/derby/iapi/util/ByteArray.html" title="class in org.apache.derby.iapi.util">ByteArray</a>&nbsp;containerInfo)</code>
<div class="block">Recreate a container during redo recovery.</div>
</td>
</tr>
<tr id="i73" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#releaseAllLocks--">releaseAllLocks</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i74" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#releaseSavePoint-java.lang.String-java.lang.Object-">releaseSavePoint</a></span>(java.lang.String&nbsp;name,
                java.lang.Object&nbsp;kindOfSavepoint)</code>
<div class="block">Release the save point of the given name.</div>
</td>
</tr>
<tr id="i75" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#removeUpdateTransaction--">removeUpdateTransaction</a></span>()</code>
<div class="block">Remove this from the xactFactory list of update transaction.</div>
</td>
</tr>
<tr id="i76" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#reprepare--">reprepare</a></span>()</code>
<div class="block">During recovery re-prepare a transaction.</div>
</td>
</tr>
<tr id="i77" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#resetDefaultLocking--">resetDefaultLocking</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i78" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#rollbackToSavePoint-java.lang.String-java.lang.Object-">rollbackToSavePoint</a></span>(java.lang.String&nbsp;name,
                   java.lang.Object&nbsp;kindOfSavepoint)</code>
<div class="block">Rollback all changes made since the named savepoint was set.</div>
</td>
</tr>
<tr id="i79" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#setActiveState--">setActiveState</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i80" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#setDefaultLockingPolicy-org.apache.derby.iapi.store.raw.LockingPolicy-">setDefaultLockingPolicy</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw">LockingPolicy</a>&nbsp;policy)</code>
<div class="block">Set the default locking policy for all operations within this
                transaction.</div>
</td>
</tr>
<tr id="i81" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#setFirstLogInstant-org.apache.derby.iapi.store.raw.log.LogInstant-">setFirstLogInstant</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant)</code>
<div class="block">Set the log instant for the first log record written by this transaction.</div>
</td>
</tr>
<tr id="i82" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#setIdleState--">setIdleState</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i83" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#setLastLogInstant-org.apache.derby.iapi.store.raw.log.LogInstant-">setLastLogInstant</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant)</code>
<div class="block">Set the log instant for the last log record written by this transaction.</div>
</td>
</tr>
<tr id="i84" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#setNoLockWait-boolean-">setNoLockWait</a></span>(boolean&nbsp;noWait)</code>
<div class="block">Tell this transaction whether it should time out immediately if a lock
 cannot be granted without waiting.</div>
</td>
</tr>
<tr id="i85" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#setPostComplete--">setPostComplete</a></span>()</code>
<div class="block">Set the transaction to issue pre complete work at postComplete
                time, instead of preComplete time.</div>
</td>
</tr>
<tr id="i86" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#setPrepareState--">setPrepareState</a></span>()</code>
<div class="block">Move the state of the transaction from UPDATE to PREPARE.</div>
</td>
</tr>
<tr id="i87" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#setSavePoint-java.lang.String-java.lang.Object-">setSavePoint</a></span>(java.lang.String&nbsp;name,
            java.lang.Object&nbsp;kindOfSavepoint)</code>
<div class="block">Set a save point in the current transaction.</div>
</td>
</tr>
<tr id="i88" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#setTransactionId-org.apache.derby.iapi.store.raw.GlobalTransactionId-org.apache.derby.iapi.store.raw.xact.TransactionId-">setTransactionId</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/GlobalTransactionId.html" title="interface in org.apache.derby.iapi.store.raw">GlobalTransactionId</a>&nbsp;extid,
                <a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/TransactionId.html" title="interface in org.apache.derby.iapi.store.raw.xact">TransactionId</a>&nbsp;localid)</code>
<div class="block">Set my transaction identifier.</div>
</td>
</tr>
<tr id="i89" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#setTransactionId-org.apache.derby.iapi.store.raw.Loggable-org.apache.derby.iapi.store.raw.xact.TransactionId-">setTransactionId</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/Loggable.html" title="interface in org.apache.derby.iapi.store.raw">Loggable</a>&nbsp;beginXact,
                <a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/TransactionId.html" title="interface in org.apache.derby.iapi.store.raw.xact">TransactionId</a>&nbsp;localId)</code>
<div class="block">Set the transactionId (Global and internal) of this transaction using a
                log record that contains the Global id</div>
</td>
</tr>
<tr id="i90" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#setTransName-java.lang.String-">setTransName</a></span>(java.lang.String&nbsp;name)</code>&nbsp;</td>
</tr>
<tr id="i91" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#setup-org.apache.derby.iapi.services.property.PersistentSet-">setup</a></span>(<a href="../../../../../../../org/apache/derby/iapi/services/property/PersistentSet.html" title="interface in org.apache.derby.iapi.services.property">PersistentSet</a>&nbsp;set)</code>
<div class="block">The default value for LOCKS_ESCALATION_THRESHOLD</div>
</td>
</tr>
<tr id="i92" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#setUpdateState--">setUpdateState</a></span>()</code>
<div class="block">Move the transaction into the update state.</div>
</td>
</tr>
<tr id="i93" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#startNestedTopTransaction--">startNestedTopTransaction</a></span>()</code>
<div class="block">Start a nested top transaction.</div>
</td>
</tr>
<tr id="i94" class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#statusForBeginXactLog--">statusForBeginXactLog</a></span>()</code>
<div class="block">put this into the beginXact log record to help recovery
 if we needs to rolled back first, put that in</div>
</td>
</tr>
<tr id="i95" class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#statusForEndXactLog--">statusForEndXactLog</a></span>()</code>
<div class="block">put this into the endXact log record to help recovery, 
 nothing to add</div>
</td>
</tr>
<tr id="i96" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#throwExceptionIfSQLSavepointNotAllowed-java.lang.Object-">throwExceptionIfSQLSavepointNotAllowed</a></span>(java.lang.Object&nbsp;kindOfSavepoint)</code>&nbsp;</td>
</tr>
<tr id="i97" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#toInternalDetailString--">toInternalDetailString</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i98" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#toString--">toString</a></span>()</code>
<div class="block">Return the xid as a string.</div>
</td>
</tr>
<tr id="i99" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#transferPostCommitorAbortWork-java.util.List-">transferPostCommitorAbortWork</a></span>(java.util.List&lt;<a href="../../../../../../../org/apache/derby/iapi/services/daemon/Serviceable.html" title="interface in org.apache.derby.iapi.services.daemon">Serviceable</a>&gt;&nbsp;work_list)</code>&nbsp;</td>
</tr>
<tr id="i100" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#unblockBackup--">unblockBackup</a></span>()</code>
<div class="block">Unblock the backup, if it was blocked by some operation in 
 this transaction.</div>
</td>
</tr>
<tr id="i101" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#xa_commit-boolean-">xa_commit</a></span>(boolean&nbsp;onePhase)</code>
<div class="block">This method is called to commit the current XA global transaction.</div>
</td>
</tr>
<tr id="i102" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#xa_prepare--">xa_prepare</a></span>()</code>
<div class="block">This method is called to ask the resource manager to prepare for
 a transaction commit of the transaction specified in xid.</div>
</td>
</tr>
<tr id="i103" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html#xa_rollback--">xa_rollback</a></span>()</code>
<div class="block">rollback the current global transaction.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.derby.iapi.store.raw.xact.RawTransaction">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.derby.iapi.store.raw.xact.<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a></h3>
<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#checkLogicalOperationOk--">checkLogicalOperationOk</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#notifyObservers-java.lang.Object-">notifyObservers</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#recoveryRollbackFirst--">recoveryRollbackFirst</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#setObserverException-org.apache.derby.iapi.error.StandardException-">setObserverException</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.derby.iapi.services.monitor.DerbyObservable">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.derby.iapi.services.monitor.<a href="../../../../../../../org/apache/derby/iapi/services/monitor/DerbyObservable.html" title="class in org.apache.derby.iapi.services.monitor">DerbyObservable</a></h3>
<code><a href="../../../../../../../org/apache/derby/iapi/services/monitor/DerbyObservable.html#addObserver-org.apache.derby.iapi.services.monitor.DerbyObserver-">addObserver</a>, <a href="../../../../../../../org/apache/derby/iapi/services/monitor/DerbyObservable.html#countObservers--">countObservers</a>, <a href="../../../../../../../org/apache/derby/iapi/services/monitor/DerbyObservable.html#deleteObserver-org.apache.derby.iapi.services.monitor.DerbyObserver-">deleteObserver</a>, <a href="../../../../../../../org/apache/derby/iapi/services/monitor/DerbyObservable.html#notifyObservers--">notifyObservers</a>, <a href="../../../../../../../org/apache/derby/iapi/services/monitor/DerbyObservable.html#setChanged--">setChanged</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="CLOSED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CLOSED</h4>
<pre>protected static final&nbsp;int CLOSED</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.xact.Xact.CLOSED">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="IDLE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>IDLE</h4>
<pre>protected static final&nbsp;int IDLE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.xact.Xact.IDLE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="ACTIVE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ACTIVE</h4>
<pre>protected static final&nbsp;int ACTIVE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.xact.Xact.ACTIVE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="UPDATE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>UPDATE</h4>
<pre>protected static final&nbsp;int UPDATE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.xact.Xact.UPDATE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="PREPARED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PREPARED</h4>
<pre>protected static final&nbsp;int PREPARED</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.xact.Xact.PREPARED">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="END_ABORTED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>END_ABORTED</h4>
<pre>public static final&nbsp;int END_ABORTED</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.xact.Xact.END_ABORTED">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="END_PREPARED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>END_PREPARED</h4>
<pre>public static final&nbsp;int END_PREPARED</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.xact.Xact.END_PREPARED">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="END_COMMITTED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>END_COMMITTED</h4>
<pre>public static final&nbsp;int END_COMMITTED</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.xact.Xact.END_COMMITTED">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="RECOVERY_ROLLBACK_FIRST">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RECOVERY_ROLLBACK_FIRST</h4>
<pre>public static final&nbsp;int RECOVERY_ROLLBACK_FIRST</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.xact.Xact.RECOVERY_ROLLBACK_FIRST">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="INTERNAL_TRANSACTION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>INTERNAL_TRANSACTION</h4>
<pre>public static final&nbsp;int INTERNAL_TRANSACTION</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.xact.Xact.INTERNAL_TRANSACTION">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="NESTED_TOP_TRANSACTION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NESTED_TOP_TRANSACTION</h4>
<pre>public static final&nbsp;int NESTED_TOP_TRANSACTION</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.xact.Xact.NESTED_TOP_TRANSACTION">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="COMMIT_SYNC">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>COMMIT_SYNC</h4>
<pre>private static final&nbsp;int COMMIT_SYNC</pre>
<div class="block">private static - 

          make sure these bits don't overwrite bits in Transaction.commit commitflag</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.xact.Xact.COMMIT_SYNC">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="COMMIT_NO_SYNC">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>COMMIT_NO_SYNC</h4>
<pre>private static final&nbsp;int COMMIT_NO_SYNC</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.xact.Xact.COMMIT_NO_SYNC">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="COMMIT_PREPARE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>COMMIT_PREPARE</h4>
<pre>private static final&nbsp;int COMMIT_PREPARE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.xact.Xact.COMMIT_PREPARE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="savedEndStatus">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>savedEndStatus</h4>
<pre>private&nbsp;int savedEndStatus</pre>
</li>
</ul>
<a name="needSync">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>needSync</h4>
<pre>private&nbsp;boolean needSync</pre>
</li>
</ul>
<a name="justCreated">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>justCreated</h4>
<pre>private&nbsp;boolean justCreated</pre>
</li>
</ul>
<a name="xc">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>xc</h4>
<pre>protected&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/raw/xact/XactContext.html" title="class in org.apache.derby.impl.store.raw.xact">XactContext</a> xc</pre>
</li>
</ul>
<a name="xactFactory">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>xactFactory</h4>
<pre>protected final&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/raw/xact/XactFactory.html" title="class in org.apache.derby.impl.store.raw.xact">XactFactory</a> xactFactory</pre>
</li>
</ul>
<a name="dataFactory">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dataFactory</h4>
<pre>protected final&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a> dataFactory</pre>
</li>
</ul>
<a name="logFactory">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logFactory</h4>
<pre>protected final&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html" title="interface in org.apache.derby.iapi.store.raw.log">LogFactory</a> logFactory</pre>
</li>
</ul>
<a name="dataValueFactory">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dataValueFactory</h4>
<pre>protected final&nbsp;<a href="../../../../../../../org/apache/derby/iapi/types/DataValueFactory.html" title="interface in org.apache.derby.iapi.types">DataValueFactory</a> dataValueFactory</pre>
</li>
</ul>
<a name="compatibilitySpace">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>compatibilitySpace</h4>
<pre>private final&nbsp;<a href="../../../../../../../org/apache/derby/iapi/services/locks/CompatibilitySpace.html" title="interface in org.apache.derby.iapi.services.locks">CompatibilitySpace</a> compatibilitySpace</pre>
</li>
</ul>
<a name="defaultLocking">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>defaultLocking</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw">LockingPolicy</a> defaultLocking</pre>
</li>
</ul>
<a name="myGlobalId">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>myGlobalId</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/GlobalTransactionId.html" title="interface in org.apache.derby.iapi.store.raw">GlobalTransactionId</a> myGlobalId</pre>
</li>
</ul>
<a name="myId">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>myId</h4>
<pre>private volatile&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/TransactionId.html" title="interface in org.apache.derby.iapi.store.raw.xact">TransactionId</a> myId</pre>
</li>
</ul>
<a name="parentTransactionId">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parentTransactionId</h4>
<pre>private volatile&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/TransactionId.html" title="interface in org.apache.derby.iapi.store.raw.xact">TransactionId</a> parentTransactionId</pre>
</li>
</ul>
<a name="logger">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logger</h4>
<pre>protected&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/Logger.html" title="interface in org.apache.derby.iapi.store.raw.log">Logger</a> logger</pre>
</li>
</ul>
<a name="state">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>state</h4>
<pre>protected volatile&nbsp;int state</pre>
</li>
</ul>
<a name="inComplete">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inComplete</h4>
<pre>private&nbsp;java.lang.Integer inComplete</pre>
</li>
</ul>
<a name="seenUpdates">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>seenUpdates</h4>
<pre>private&nbsp;boolean seenUpdates</pre>
</li>
</ul>
<a name="inPostCommitProcessing">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inPostCommitProcessing</h4>
<pre>private&nbsp;boolean inPostCommitProcessing</pre>
</li>
</ul>
<a name="logStart">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logStart</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a> logStart</pre>
</li>
</ul>
<a name="logLast">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logLast</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a> logLast</pre>
</li>
</ul>
<a name="savePoints">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>savePoints</h4>
<pre>private&nbsp;java.util.Stack&lt;<a href="../../../../../../../org/apache/derby/impl/store/raw/xact/SavePoint.html" title="class in org.apache.derby.impl.store.raw.xact">SavePoint</a>&gt; savePoints</pre>
</li>
</ul>
<a name="postCommitWorks">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>postCommitWorks</h4>
<pre>protected&nbsp;java.util.List&lt;<a href="../../../../../../../org/apache/derby/iapi/services/daemon/Serviceable.html" title="interface in org.apache.derby.iapi.services.daemon">Serviceable</a>&gt; postCommitWorks</pre>
</li>
</ul>
<a name="postAbortWorks">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>postAbortWorks</h4>
<pre>protected&nbsp;java.util.List&lt;<a href="../../../../../../../org/apache/derby/iapi/services/daemon/Serviceable.html" title="interface in org.apache.derby.iapi.services.daemon">Serviceable</a>&gt; postAbortWorks</pre>
</li>
</ul>
<a name="postTerminationWorks">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>postTerminationWorks</h4>
<pre>protected&nbsp;java.util.List&lt;<a href="../../../../../../../org/apache/derby/iapi/services/daemon/Serviceable.html" title="interface in org.apache.derby.iapi.services.daemon">Serviceable</a>&gt; postTerminationWorks</pre>
</li>
</ul>
<a name="recoveryTransaction">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recoveryTransaction</h4>
<pre>private&nbsp;boolean recoveryTransaction</pre>
</li>
</ul>
<a name="logBuffer">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logBuffer</h4>
<pre><a href="../../../../../../../org/apache/derby/iapi/services/io/DynamicByteArrayOutputStream.html" title="class in org.apache.derby.iapi.services.io">DynamicByteArrayOutputStream</a> logBuffer</pre>
</li>
</ul>
<a name="postCompleteMode">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>postCompleteMode</h4>
<pre>private&nbsp;boolean postCompleteMode</pre>
</li>
</ul>
<a name="sanityCheck_xaclosed">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sanityCheck_xaclosed</h4>
<pre>private&nbsp;boolean sanityCheck_xaclosed</pre>
</li>
</ul>
<a name="transName">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>transName</h4>
<pre>private&nbsp;java.lang.String transName</pre>
</li>
</ul>
<a name="readOnly">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readOnly</h4>
<pre>private&nbsp;boolean readOnly</pre>
</li>
</ul>
<a name="flush_log_on_xact_end">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flush_log_on_xact_end</h4>
<pre>private&nbsp;boolean flush_log_on_xact_end</pre>
</li>
</ul>
<a name="backupBlocked">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>backupBlocked</h4>
<pre>private&nbsp;boolean backupBlocked</pre>
</li>
</ul>
<a name="dontWaitForLocks">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>dontWaitForLocks</h4>
<pre>private&nbsp;boolean dontWaitForLocks</pre>
<div class="block">Tells if lock requests should time out immediately if they cannot be
 granted without waiting.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Xact-org.apache.derby.impl.store.raw.xact.XactFactory-org.apache.derby.impl.store.raw.xact.Xact-org.apache.derby.iapi.store.raw.log.LogFactory-org.apache.derby.iapi.store.raw.data.DataFactory-org.apache.derby.iapi.types.DataValueFactory-boolean-org.apache.derby.iapi.services.locks.CompatibilitySpace-boolean-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Xact</h4>
<pre>protected&nbsp;Xact(<a href="../../../../../../../org/apache/derby/impl/store/raw/xact/XactFactory.html" title="class in org.apache.derby.impl.store.raw.xact">XactFactory</a>&nbsp;xactFactory,
               <a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html" title="class in org.apache.derby.impl.store.raw.xact">Xact</a>&nbsp;parentTransaction,
               <a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html" title="interface in org.apache.derby.iapi.store.raw.log">LogFactory</a>&nbsp;logFactory,
               <a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a>&nbsp;dataFactory,
               <a href="../../../../../../../org/apache/derby/iapi/types/DataValueFactory.html" title="interface in org.apache.derby.iapi.types">DataValueFactory</a>&nbsp;dataValueFactory,
               boolean&nbsp;readOnly,
               <a href="../../../../../../../org/apache/derby/iapi/services/locks/CompatibilitySpace.html" title="interface in org.apache.derby.iapi.services.locks">CompatibilitySpace</a>&nbsp;compatibilitySpace,
               boolean&nbsp;flush_log_on_xact_end)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getLockFactory--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLockFactory</h4>
<pre>public final&nbsp;<a href="../../../../../../../org/apache/derby/iapi/services/locks/LockFactory.html" title="interface in org.apache.derby.iapi.services.locks">LockFactory</a>&nbsp;getLockFactory()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#getLockFactory--">RawTransaction</a></code></span></div>
<div class="block">Get the lock factory to be used during this transaction.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#getLockFactory--">getLockFactory</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a></code></dd>
</dl>
</li>
</ul>
<a name="getDataFactory--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDataFactory</h4>
<pre>public final&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a>&nbsp;getDataFactory()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#getDataFactory--">RawTransaction</a></code></span></div>
<div class="block">Get the data factory to be used during this transaction.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#getDataFactory--">getDataFactory</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a></code></dd>
</dl>
</li>
</ul>
<a name="getLogFactory--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLogFactory</h4>
<pre>public final&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html" title="interface in org.apache.derby.iapi.store.raw.log">LogFactory</a>&nbsp;getLogFactory()</pre>
<div class="block">JIRA-606. As a part of this fix, it was required that
 LogFactory.checkVersion method to be exposed for any possible Version 
 checks in the Transaction processing module.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#getLogFactory--">getLogFactory</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a></code></dd>
</dl>
</li>
</ul>
<a name="anyoneBlocked--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>anyoneBlocked</h4>
<pre>public&nbsp;boolean&nbsp;anyoneBlocked()</pre>
<div class="block">Return true if any transaction is currently blocked, even if not by
                this transaction.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#anyoneBlocked--">anyoneBlocked</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></code></dd>
</dl>
</li>
</ul>
<a name="getLogBuffer--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLogBuffer</h4>
<pre>public&nbsp;<a href="../../../../../../../org/apache/derby/iapi/services/io/DynamicByteArrayOutputStream.html" title="class in org.apache.derby.iapi.services.io">DynamicByteArrayOutputStream</a>&nbsp;getLogBuffer()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#getLogBuffer--">RawTransaction</a></code></span></div>
<div class="block">Get the log buffer to be used during this transaction.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#getLogBuffer--">getLogBuffer</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a></code></dd>
</dl>
</li>
</ul>
<a name="logAndUndo-org.apache.derby.iapi.store.raw.Compensation-org.apache.derby.iapi.store.raw.log.LogInstant-org.apache.derby.iapi.services.io.LimitObjectInput-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logAndUndo</h4>
<pre>public&nbsp;void&nbsp;logAndUndo(<a href="../../../../../../../org/apache/derby/iapi/store/raw/Compensation.html" title="interface in org.apache.derby.iapi.store.raw">Compensation</a>&nbsp;compensation,
                       <a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;undoInstant,
                       <a href="../../../../../../../org/apache/derby/iapi/services/io/LimitObjectInput.html" title="interface in org.apache.derby.iapi.services.io">LimitObjectInput</a>&nbsp;in)
                throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Log and apply a compensation operation.
                Only need to write out the compensation op itself, the optional data has already
                been written by the rollforward operation this is attempting to undo.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#logAndUndo-org.apache.derby.iapi.store.raw.Compensation-org.apache.derby.iapi.store.raw.log.LogInstant-org.apache.derby.iapi.services.io.LimitObjectInput-">logAndUndo</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>compensation</code> - the Compensation Operation</dd>
<dd><code>undoInstant</code> - the LogInstant of the Loggable Operation this 
                                                        compensation operation is going to roll back</dd>
<dd><code>in</code> - optional data for the rollback operation</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby exception policy</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#logAndDo-org.apache.derby.iapi.store.raw.Loggable-"><code>Transaction.logAndDo(org.apache.derby.iapi.store.raw.Loggable)</code></a></dd>
</dl>
</li>
</ul>
<a name="addUpdateTransaction-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addUpdateTransaction</h4>
<pre>public&nbsp;void&nbsp;addUpdateTransaction(int&nbsp;transactionStatus)</pre>
<div class="block">Add this to the xactFactory list of update transaction.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#addUpdateTransaction-int-">addUpdateTransaction</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a></code></dd>
</dl>
</li>
</ul>
<a name="removeUpdateTransaction--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeUpdateTransaction</h4>
<pre>public&nbsp;void&nbsp;removeUpdateTransaction()</pre>
<div class="block">Remove this from the xactFactory list of update transaction.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#removeUpdateTransaction--">removeUpdateTransaction</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a></code></dd>
</dl>
</li>
</ul>
<a name="prepareTransaction--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prepareTransaction</h4>
<pre>public&nbsp;void&nbsp;prepareTransaction()</pre>
<div class="block">Remove this from the xactFactory list of update transaction.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#prepareTransaction--">prepareTransaction</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a></code></dd>
</dl>
</li>
</ul>
<a name="setFirstLogInstant-org.apache.derby.iapi.store.raw.log.LogInstant-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFirstLogInstant</h4>
<pre>public&nbsp;void&nbsp;setFirstLogInstant(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant)</pre>
<div class="block">Set the log instant for the first log record written by this transaction.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#setFirstLogInstant-org.apache.derby.iapi.store.raw.log.LogInstant-">setFirstLogInstant</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a></code></dd>
</dl>
</li>
</ul>
<a name="getFirstLogInstant--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFirstLogInstant</h4>
<pre>public&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;getFirstLogInstant()</pre>
<div class="block">Get the log instant for the first log record written by this transaction.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#getFirstLogInstant--">getFirstLogInstant</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a></code></dd>
</dl>
</li>
</ul>
<a name="setLastLogInstant-org.apache.derby.iapi.store.raw.log.LogInstant-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLastLogInstant</h4>
<pre>public&nbsp;void&nbsp;setLastLogInstant(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant)</pre>
<div class="block">Set the log instant for the last log record written by this transaction.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#setLastLogInstant-org.apache.derby.iapi.store.raw.log.LogInstant-">setLastLogInstant</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a></code></dd>
</dl>
</li>
</ul>
<a name="getLastLogInstant--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastLogInstant</h4>
<pre>public&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;getLastLogInstant()</pre>
<div class="block">Get the log instant for the last log record written by this transaction.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#getLastLogInstant--">getLastLogInstant</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a></code></dd>
</dl>
</li>
</ul>
<a name="setTransactionId-org.apache.derby.iapi.store.raw.GlobalTransactionId-org.apache.derby.iapi.store.raw.xact.TransactionId-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTransactionId</h4>
<pre>void&nbsp;setTransactionId(<a href="../../../../../../../org/apache/derby/iapi/store/raw/GlobalTransactionId.html" title="interface in org.apache.derby.iapi.store.raw">GlobalTransactionId</a>&nbsp;extid,
                      <a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/TransactionId.html" title="interface in org.apache.derby.iapi.store.raw.xact">TransactionId</a>&nbsp;localid)</pre>
<div class="block">Set my transaction identifier.</div>
</li>
</ul>
<a name="setTransactionId-org.apache.derby.iapi.store.raw.Loggable-org.apache.derby.iapi.store.raw.xact.TransactionId-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTransactionId</h4>
<pre>public&nbsp;void&nbsp;setTransactionId(<a href="../../../../../../../org/apache/derby/iapi/store/raw/Loggable.html" title="interface in org.apache.derby.iapi.store.raw">Loggable</a>&nbsp;beginXact,
                             <a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/TransactionId.html" title="interface in org.apache.derby.iapi.store.raw.xact">TransactionId</a>&nbsp;localId)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#setTransactionId-org.apache.derby.iapi.store.raw.Loggable-org.apache.derby.iapi.store.raw.xact.TransactionId-">RawTransaction</a></code></span></div>
<div class="block">Set the transactionId (Global and internal) of this transaction using a
                log record that contains the Global id</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#setTransactionId-org.apache.derby.iapi.store.raw.Loggable-org.apache.derby.iapi.store.raw.xact.TransactionId-">setTransactionId</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a></code></dd>
</dl>
</li>
</ul>
<a name="setup-org.apache.derby.iapi.services.property.PersistentSet-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setup</h4>
<pre>public&nbsp;void&nbsp;setup(<a href="../../../../../../../org/apache/derby/iapi/services/property/PersistentSet.html" title="interface in org.apache.derby.iapi.services.property">PersistentSet</a>&nbsp;set)
           throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">The default value for LOCKS_ESCALATION_THRESHOLD</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#setup-org.apache.derby.iapi.services.property.PersistentSet-">setup</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby exception policy</dd>
</dl>
</li>
</ul>
<a name="getGlobalId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getGlobalId</h4>
<pre>public final&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/GlobalTransactionId.html" title="interface in org.apache.derby.iapi.store.raw">GlobalTransactionId</a>&nbsp;getGlobalId()</pre>
<div class="block">get the Global (external to raw store) transaction id that is unique
                across all raw stores</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#getGlobalId--">getGlobalId</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#getGlobalId--">getGlobalId</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a></code></dd>
</dl>
</li>
</ul>
<a name="getContextManager--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getContextManager</h4>
<pre>public final&nbsp;<a href="../../../../../../../org/apache/derby/iapi/services/context/ContextManager.html" title="class in org.apache.derby.iapi.services.context">ContextManager</a>&nbsp;getContextManager()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#getContextManager--">Transaction</a></code></span></div>
<div class="block">Return the context manager this transaction is associated with.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#getContextManager--">getContextManager</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></code></dd>
</dl>
</li>
</ul>
<a name="getCompatibilitySpace--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCompatibilitySpace</h4>
<pre>public final&nbsp;<a href="../../../../../../../org/apache/derby/iapi/services/locks/CompatibilitySpace.html" title="interface in org.apache.derby.iapi.services.locks">CompatibilitySpace</a>&nbsp;getCompatibilitySpace()</pre>
<div class="block">Get the compatibility space of the transaction.
 <p>
 Returns an object that can be used with the lock manager to provide
 the compatibility space of a transaction.  2 transactions with the
 same compatibility space will not conflict in locks.  The usual case
 is that each transaction has it's own unique compatibility space.
 <p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#getCompatibilitySpace--">getCompatibilitySpace</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The compatibility space of the transaction.</dd>
</dl>
</li>
</ul>
<a name="noWait--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>noWait</h4>
<pre>public&nbsp;boolean&nbsp;noWait()</pre>
<div class="block">Tells whether lock requests should time out immediately if they can't
 be granted without waiting. Only works if this object is the owner of
 the compatibility space used in the request.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/services/locks/LockOwner.html#noWait--">noWait</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/services/locks/LockOwner.html" title="interface in org.apache.derby.iapi.services.locks">LockOwner</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>whether waiting for locks should time out immediately</dd>
</dl>
</li>
</ul>
<a name="setNoLockWait-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNoLockWait</h4>
<pre>public&nbsp;void&nbsp;setNoLockWait(boolean&nbsp;noWait)</pre>
<div class="block">Tell this transaction whether it should time out immediately if a lock
 cannot be granted without waiting. This could be used in a nested
 transaction to prevent long waits if there is a lock conflict between
 the nested transaction and its parent. If it is used this way, the
 calling code should catch timeout exceptions from the nested transaction
 and retry the operation (without disabling waiting) in the parent
 transaction.

 <p>

 This only works if this transaction is the owner of the compatibility
 space used in the request. If this transaction has inherited the
 compatibility space from its parent, the call to this method has no
 effect (except in debug builds, where an error will be raised).</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#setNoLockWait-boolean-">setNoLockWait</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>noWait</code> - if <code>true</code> never wait for a lock in this transaction,
 but time out immediately</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/services/locks/LockOwner.html#noWait--"><code>LockOwner.noWait()</code></a></dd>
</dl>
</li>
</ul>
<a name="getId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getId</h4>
<pre>public final&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/TransactionId.html" title="interface in org.apache.derby.iapi.store.raw.xact">TransactionId</a>&nbsp;getId()</pre>
<div class="block">get the short (internal to raw store) transaction id that is unique
                only for this raw store</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#getId--">getId</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a></code></dd>
</dl>
</li>
</ul>
<a name="getIdNoCheck--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIdNoCheck</h4>
<pre>protected final&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/TransactionId.html" title="interface in org.apache.derby.iapi.store.raw.xact">TransactionId</a>&nbsp;getIdNoCheck()</pre>
<div class="block">Get the transaction id without sanity check, this should only be called
                by a cloned TransactionTableEntry</div>
</li>
</ul>
<a name="getContextId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getContextId</h4>
<pre>public final&nbsp;java.lang.String&nbsp;getContextId()</pre>
<div class="block">Get my transaction context Id</div>
</li>
</ul>
<a name="getDefaultLockingPolicy--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDefaultLockingPolicy</h4>
<pre>public&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw">LockingPolicy</a>&nbsp;getDefaultLockingPolicy()</pre>
<div class="block">Get the current default locking policy for all operations within this
                transaction. The transaction is initially started with a default
                locking policy equivalent to
                <PRE>
                         newLockingPolicy(
              LockingPolicy.MODE_RECORD, TransactionController.ISOLATION_SERIALIZABLE, true);
                </PRE>
        This default can be changed by subsequent calls to 
        setDefaultLockingPolicy(LockingPolicy policy).</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#getDefaultLockingPolicy--">getDefaultLockingPolicy</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The current default locking policy in this transaction.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#getDefaultLockingPolicy--"><code>Transaction.getDefaultLockingPolicy()</code></a></dd>
</dl>
</li>
</ul>
<a name="newLockingPolicy-int-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newLockingPolicy</h4>
<pre>public final&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw">LockingPolicy</a>&nbsp;newLockingPolicy(int&nbsp;mode,
                                            int&nbsp;isolation,
                                            boolean&nbsp;stricterOk)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#newLockingPolicy-int-int-boolean-">Transaction</a></code></span></div>
<div class="block">Obtain a locking policy for use in openContainer(). The mode
                and isolation must be constants from LockingPolicy. If higherOK is true
                then the object returned may implement a stricter form of locking than
                the one requested.
                <BR>
                A null LockingPolicy reference is identical to a LockingPolicy obtained 
        by using MODE_NONE which is guaranteed to exist.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#newLockingPolicy-int-int-boolean-">newLockingPolicy</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mode</code> - A constant of the form LockingPolicy.MODE_*</dd>
<dd><code>isolation</code> - A constant of the form LockingPolicy.ISOLATION_*</dd>
<dd><code>stricterOk</code> - True if a stricter level of locking is acceptable, 
        false if an exact match is required.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A object that can be used in an openContainer call, 
        null if a matching policy cannot be found.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#newLockingPolicy-int-int-boolean-"><code>Transaction.newLockingPolicy(int, int, boolean)</code></a></dd>
</dl>
</li>
</ul>
<a name="setDefaultLockingPolicy-org.apache.derby.iapi.store.raw.LockingPolicy-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDefaultLockingPolicy</h4>
<pre>public final&nbsp;void&nbsp;setDefaultLockingPolicy(<a href="../../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw">LockingPolicy</a>&nbsp;policy)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#setDefaultLockingPolicy-org.apache.derby.iapi.store.raw.LockingPolicy-">Transaction</a></code></span></div>
<div class="block">Set the default locking policy for all operations within this
                transaction. The transaction is intially started with a default
                locking policy equivalent to
                <PRE>
                         newLockingPolicy(
              LockingPolicy.MODE_RECORD, LockingPolicy.ISOLATION_SERIALIZABLE, true);
                </PRE></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#setDefaultLockingPolicy-org.apache.derby.iapi.store.raw.LockingPolicy-">setDefaultLockingPolicy</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>policy</code> - The lock policy to use, if null then then a no locking 
        policy will be installed as the default.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#setDefaultLockingPolicy-org.apache.derby.iapi.store.raw.LockingPolicy-"><code>Transaction.setDefaultLockingPolicy(org.apache.derby.iapi.store.raw.LockingPolicy)</code></a></dd>
</dl>
</li>
</ul>
<a name="commit--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commit</h4>
<pre>public&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;commit()
                  throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#commit--">Transaction</a></code></span></div>
<div class="block">Commit this transaction. All savepoints within this transaction are 
        released.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#commit--">commit</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the commit instant of this transaction, or null if it
                didn't make any changes</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby exception policy</dd>
</dl>
</li>
</ul>
<a name="commitNoSync-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commitNoSync</h4>
<pre>public&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;commitNoSync(int&nbsp;commitflag)
                        throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#commitNoSync-int-">Transaction</a></code></span></div>
<div class="block">"Commit" this transaction without sync'ing the log.
                Everything else is identical to commit(), use this at your own risk.
                
                <BR>bits in the commitflag can turn on to fine tuned the "commit":
                KEEP_LOCKS - no locks will be released by the commit and no post commit
                processing will be initiated.  If, for some reasons, the locks cannot be
                kept even if this flag is set, then the commit will sync the log, i.e.,
                it will revert to the normal commit.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#commitNoSync-int-">commitNoSync</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby exception policy</dd>
</dl>
</li>
</ul>
<a name="prepareCommit-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prepareCommit</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;prepareCommit(int&nbsp;commitflag)
                          throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Do work of commit that is common to xa_prepare and commit.
 <p>
 Do all the work necessary as part of a commit up to and including
 writing the commit log record.  This routine is used by both prepare
 and commit.  The work post commit is done by completeCommit().
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>commitflag</code> - various flavors of commit.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#commit--"><code>Transaction.commit()</code></a></dd>
</dl>
</li>
</ul>
<a name="completeCommit-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>completeCommit</h4>
<pre>private&nbsp;void&nbsp;completeCommit(int&nbsp;commitflag)
                     throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Do work to complete a commit which is not just a prepare.
 <p>
 Releases locks, does post commit work, and moves the state of the
 transaction to IDLE.
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>commitflag</code> - various flavors of commit.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="commit-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commit</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;commit(int&nbsp;commitflag)
                   throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby exception policy</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#commit--"><code>Transaction.commit()</code></a></dd>
</dl>
</li>
</ul>
<a name="abort--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>abort</h4>
<pre>public&nbsp;void&nbsp;abort()
           throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#abort--">Transaction</a></code></span></div>
<div class="block">Abort all changes made by this transaction since the last commit, abort
                or the point the transaction was started, whichever is the most recent.
                All savepoints within this transaction are released.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#abort--">abort</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby exception policy</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#abort--"><code>Transaction.abort()</code></a></dd>
</dl>
</li>
</ul>
<a name="reprepare--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reprepare</h4>
<pre>public&nbsp;void&nbsp;reprepare()
               throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">During recovery re-prepare a transaction.
 <p>
 After redo() and undo(), this routine is called on all outstanding 
 in-doubt (prepared) transactions.  This routine re-acquires all 
 logical write locks for operations in the xact, and then modifies
 the transaction table entry to make the transaction look as if it
 had just been prepared following startup after recovery.
 <p>
 This routine is only called during Recovery.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#reprepare--">reprepare</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="destroy--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>destroy</h4>
<pre>public&nbsp;void&nbsp;destroy()
             throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">If this transaction is not idle, abort it.  After this call close().</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#destroy--">destroy</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy
        Thrown if the transaction is not idle.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/RawStoreFactory.html#startTransaction-org.apache.derby.iapi.services.context.ContextManager-java.lang.String-"><code>RawStoreFactory.startTransaction(org.apache.derby.iapi.services.context.ContextManager, java.lang.String)</code></a></dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()
           throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#close--">Transaction</a></code></span></div>
<div class="block">Close this transaction, the transaction must be idle. This close will
                pop the transaction context off the stack that was pushed when the 
        transaction was started.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#close--">close</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Thrown if the transaction is not idle, the
                transaction remains open.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#close--"><code>Transaction.close()</code></a></dd>
</dl>
</li>
</ul>
<a name="logAndDo-org.apache.derby.iapi.store.raw.Loggable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logAndDo</h4>
<pre>public&nbsp;void&nbsp;logAndDo(<a href="../../../../../../../org/apache/derby/iapi/store/raw/Loggable.html" title="interface in org.apache.derby.iapi.store.raw">Loggable</a>&nbsp;operation)
              throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Log the operation and do it.

                If this transaction has not generated any log records prior to this,
                then log a beginXact log record.

                If the passed in operation is null, then do nothing (after logging the
                beginXact if needed).</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#logAndDo-org.apache.derby.iapi.store.raw.Loggable-">logAndDo</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>operation</code> - the operation that is to be applied</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby exception policy</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#logAndDo-org.apache.derby.iapi.store.raw.Loggable-"><code>Transaction.logAndDo(org.apache.derby.iapi.store.raw.Loggable)</code></a></dd>
</dl>
</li>
</ul>
<a name="addPostCommitWork-org.apache.derby.iapi.services.daemon.Serviceable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addPostCommitWork</h4>
<pre>public&nbsp;void&nbsp;addPostCommitWork(<a href="../../../../../../../org/apache/derby/iapi/services/daemon/Serviceable.html" title="interface in org.apache.derby.iapi.services.daemon">Serviceable</a>&nbsp;work)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#addPostCommitWork-org.apache.derby.iapi.services.daemon.Serviceable-">Transaction</a></code></span></div>
<div class="block">Add to the list of post commit work that may be processed after this
                transaction commits.  If this transaction aborts, then the post commit
                work list will be thrown away.  No post commit work will be taken out
                on a rollback to save point.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#addPostCommitWork-org.apache.derby.iapi.services.daemon.Serviceable-">addPostCommitWork</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>work</code> - the post commit work that is added</dd>
</dl>
</li>
</ul>
<a name="addPostAbortWork-org.apache.derby.iapi.services.daemon.Serviceable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addPostAbortWork</h4>
<pre>public&nbsp;void&nbsp;addPostAbortWork(<a href="../../../../../../../org/apache/derby/iapi/services/daemon/Serviceable.html" title="interface in org.apache.derby.iapi.services.daemon">Serviceable</a>&nbsp;work)</pre>
<div class="block">Add to the list of post abort work that may be processed after this
                transaction aborts.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#addPostAbortWork-org.apache.derby.iapi.services.daemon.Serviceable-">addPostAbortWork</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>work</code> - the post commit work that is added</dd>
</dl>
</li>
</ul>
<a name="addPostTerminationWork-org.apache.derby.iapi.services.daemon.Serviceable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addPostTerminationWork</h4>
<pre>public&nbsp;void&nbsp;addPostTerminationWork(<a href="../../../../../../../org/apache/derby/iapi/services/daemon/Serviceable.html" title="interface in org.apache.derby.iapi.services.daemon">Serviceable</a>&nbsp;work)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#addPostTerminationWork-org.apache.derby.iapi.services.daemon.Serviceable-">Transaction</a></code></span></div>
<div class="block">Add to the list of post termination work that may be processed after this
                transaction commits or aborts.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#addPostTerminationWork-org.apache.derby.iapi.services.daemon.Serviceable-">addPostTerminationWork</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>work</code> - the post termination work that is added</dd>
</dl>
</li>
</ul>
<a name="openContainer-org.apache.derby.iapi.store.raw.ContainerKey-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openContainer</h4>
<pre>public&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw">ContainerHandle</a>&nbsp;openContainer(<a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;containerId,
                                     int&nbsp;mode)
                              throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#openContainer-org.apache.derby.iapi.store.raw.ContainerKey-int-">Transaction</a></code></span></div>
<div class="block">Open a container, with the transaction's default locking policy.

        <p>
        Note that if NOWAIT has been specified lock will be 
        requested with no wait time, and if lock is not granted a 
        SQLState.LOCK_TIMEOUT exception will be thrown.
                <P>
                The release() method of ContainerHandle will be called when this 
        transaction is aborted or commited, it may be called explicitly to
                release the ContainerHandle before the end of the transaction.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#openContainer-org.apache.derby.iapi.store.raw.ContainerKey-int-">openContainer</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a valid ContainerHandle or null if the container does not exist.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby exception policy</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#openContainer-org.apache.derby.iapi.store.raw.ContainerKey-int-"><code>Transaction.openContainer(org.apache.derby.iapi.store.raw.ContainerKey, int)</code></a></dd>
</dl>
</li>
</ul>
<a name="openContainer-org.apache.derby.iapi.store.raw.ContainerKey-org.apache.derby.iapi.store.raw.LockingPolicy-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openContainer</h4>
<pre>public&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw">ContainerHandle</a>&nbsp;openContainer(<a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;containerId,
                                     <a href="../../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw">LockingPolicy</a>&nbsp;locking,
                                     int&nbsp;mode)
                              throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#openContainer-org.apache.derby.iapi.store.raw.ContainerKey-org.apache.derby.iapi.store.raw.LockingPolicy-int-">Transaction</a></code></span></div>
<div class="block">Open a container, with the defined locking policy, otherwise
                as openContainer(int containerId,  boolean forUpdate).

                <P>
                Calls locking.lockContainer(this, returnValue, forUpdate) to lock the
        container.  Note that if NOWAIT has been specified lock will be 
        requested with no wait time, and if lock is not granted a 
        SQLState.LOCK_TIMEOUT exception will be thrown.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#openContainer-org.apache.derby.iapi.store.raw.ContainerKey-org.apache.derby.iapi.store.raw.LockingPolicy-int-">openContainer</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></code></dd>
<dd><code>locking</code> - The lock policy to use, if null then then a no locking 
                       policy will be used.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a valid ContainerHandle or null if the container does not exist.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby exception policy</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#openContainer-org.apache.derby.iapi.store.raw.ContainerKey-int-"><code>Transaction.openContainer(org.apache.derby.iapi.store.raw.ContainerKey, int)</code></a></dd>
</dl>
</li>
</ul>
<a name="openDroppedContainer-org.apache.derby.iapi.store.raw.ContainerKey-org.apache.derby.iapi.store.raw.LockingPolicy-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openDroppedContainer</h4>
<pre>public&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/data/RawContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw.data">RawContainerHandle</a>&nbsp;openDroppedContainer(<a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;containerId,
                                               <a href="../../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw">LockingPolicy</a>&nbsp;locking)
                                        throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Open a container that may already have been dropped.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#openDroppedContainer-org.apache.derby.iapi.store.raw.ContainerKey-org.apache.derby.iapi.store.raw.LockingPolicy-">openDroppedContainer</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby exception policy</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#openDroppedContainer-org.apache.derby.iapi.store.raw.ContainerKey-org.apache.derby.iapi.store.raw.LockingPolicy-"><code>RawTransaction.openDroppedContainer(org.apache.derby.iapi.store.raw.ContainerKey, org.apache.derby.iapi.store.raw.LockingPolicy)</code></a></dd>
</dl>
</li>
</ul>
<a name="addContainer-long-long-int-java.util.Properties-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addContainer</h4>
<pre>public&nbsp;long&nbsp;addContainer(long&nbsp;segmentId,
                         long&nbsp;containerid,
                         int&nbsp;mode,
                         java.util.Properties&nbsp;tableProperties,
                         int&nbsp;temporaryFlag)
                  throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#addContainer-long-long-int-java.util.Properties-int-">Transaction</a></code></span></div>
<div class="block">Add a new container to the segment. The new container initially has
                one page, page Container.FIRST_PAGE_NUMBER.

                <BR>
                If pageSize is equal to ContainerHandle.DEFAULT_PAGESIZE or invalid 
        then a default page size will be picked.
                <BR>
                SpareSpace indicates that percent (0% - 100%) of page space that will 
        be attempted to be reserved for updates. E.g. with a value of 20 a page
        that would normally hold 40 rows will be limited to 32 rows,
                actual calculation for the threshold where no more inserts are all 
        accepted is up to the implementation.  Whatever the value of 
        spaceSpace an empty page will always accept at least one insert.
                If spare space is equal to ContainerHandle.DEFAULT_PAGESIZE or invalid 
        then a default value will be used.

            <P><B>Synchronisation</B>
                <P>
                The new container is exclusivly locked by this transaction until
                it commits.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#addContainer-long-long-int-java.util.Properties-int-">addContainer</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>segmentId</code> - segment to create the container in.</dd>
<dd><code>containerid</code> - If not equal to 0 then this container id will be 
                            used to create the container, else if set to 0 then
                            the raw store will assign a number.</dd>
<dd><code>mode</code> - mode description in @see ContainerHandle.  This mode is
                only effective for the duration of the addContainer call and not stored
                persistently for the lifetime of the container.</dd>
<dd><code>tableProperties</code> - Implementation-specific properties of the
                conglomerate.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a container identifer that can be used in openContainer()
                This id is only valid within this RawStoreFactory.  Returns a negative 
        number if a container could not be allocated.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby exception policy</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#addContainer-long-long-int-java.util.Properties-int-"><code>Transaction.addContainer(long, long, int, java.util.Properties, int)</code></a></dd>
</dl>
</li>
</ul>
<a name="addAndLoadStreamContainer-long-java.util.Properties-org.apache.derby.iapi.store.access.RowSource-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addAndLoadStreamContainer</h4>
<pre>public&nbsp;long&nbsp;addAndLoadStreamContainer(long&nbsp;segmentId,
                                      java.util.Properties&nbsp;tableProperties,
                                      <a href="../../../../../../../org/apache/derby/iapi/store/access/RowSource.html" title="interface in org.apache.derby.iapi.store.access">RowSource</a>&nbsp;rowSource)
                               throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#addAndLoadStreamContainer-long-java.util.Properties-org.apache.derby.iapi.store.access.RowSource-">Transaction</a></code></span></div>
<div class="block">Add a new stream container to the segment and load the stream container.
                
                This stream container doesn't not have locks, and do not log.
                It does not have the concept of a page.
                It is used by the external sort only.

            <P><B>Synchronisation</B>
                <P>
                This call will mark the container as dropped and then obtain an CX lock
                on the container. Once a container has been marked as dropped it cannot
                be retrieved by any openContainer() call.
                <P>
                Once the exclusive lock has been obtained the container is removed
                and all its pages deallocated. The container will be fully removed
                at the commit time of the transaction.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#addAndLoadStreamContainer-long-java.util.Properties-org.apache.derby.iapi.store.access.RowSource-">addAndLoadStreamContainer</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby exception policy</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#addAndLoadStreamContainer-long-java.util.Properties-org.apache.derby.iapi.store.access.RowSource-"><code>Transaction.addAndLoadStreamContainer(long, java.util.Properties, org.apache.derby.iapi.store.access.RowSource)</code></a></dd>
</dl>
</li>
</ul>
<a name="openStreamContainer-long-long-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openStreamContainer</h4>
<pre>public&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/StreamContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw">StreamContainerHandle</a>&nbsp;openStreamContainer(long&nbsp;segmentId,
                                                 long&nbsp;containerId,
                                                 boolean&nbsp;hold)
                                          throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#openStreamContainer-long-long-boolean-">Transaction</a></code></span></div>
<div class="block">Open a stream container.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#openStreamContainer-long-long-boolean-">openStreamContainer</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a valid StreamContainerHandle or null if the container does not exist.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby exception policy</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#openStreamContainer-long-long-boolean-"><code>Transaction.openStreamContainer(long, long, boolean)</code></a></dd>
</dl>
</li>
</ul>
<a name="dropStreamContainer-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dropStreamContainer</h4>
<pre>public&nbsp;void&nbsp;dropStreamContainer(long&nbsp;segmentId,
                                long&nbsp;containerId)
                         throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#dropStreamContainer-long-long-">Transaction</a></code></span></div>
<div class="block">Drop a stream container.

            <P><B>Synchronisation</B>
                <P>
                This call will remove the container.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#dropStreamContainer-long-long-">dropStreamContainer</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#dropStreamContainer-long-long-"><code>Transaction.dropStreamContainer(long, long)</code></a></dd>
</dl>
</li>
</ul>
<a name="reCreateContainerForRedoRecovery-long-long-org.apache.derby.iapi.util.ByteArray-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reCreateContainerForRedoRecovery</h4>
<pre>public&nbsp;void&nbsp;reCreateContainerForRedoRecovery(long&nbsp;segmentId,
                                             long&nbsp;containerId,
                                             <a href="../../../../../../../org/apache/derby/iapi/util/ByteArray.html" title="class in org.apache.derby.iapi.util">ByteArray</a>&nbsp;containerInfo)
                                      throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Recreate a container during redo recovery.

        Used only during redo recovery while processing log records which
        are trying to create a container, and no valid container is found
        in the database.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#reCreateContainerForRedoRecovery-long-long-org.apache.derby.iapi.util.ByteArray-">reCreateContainerForRedoRecovery</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby exception policy</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#reCreateContainerForRedoRecovery-long-long-org.apache.derby.iapi.util.ByteArray-"><code>RawTransaction.reCreateContainerForRedoRecovery(long, long, org.apache.derby.iapi.util.ByteArray)</code></a></dd>
</dl>
</li>
</ul>
<a name="dropContainer-org.apache.derby.iapi.store.raw.ContainerKey-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dropContainer</h4>
<pre>public&nbsp;void&nbsp;dropContainer(<a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;containerId)
                   throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#dropContainer-org.apache.derby.iapi.store.raw.ContainerKey-">Transaction</a></code></span></div>
<div class="block">Drop a container.

            <P><B>Synchronisation</B>
                <P>
                This call will mark the container as dropped and then obtain an CX lock
                on the container. Once a container has been marked as dropped it cannot
                be retrieved by any openContainer() call.
                <P>
                Once the exclusive lock has been obtained the container is removed
                and all its pages deallocated. The container will be fully removed
                at the commit time of the transaction.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#dropContainer-org.apache.derby.iapi.store.raw.ContainerKey-">dropContainer</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#dropContainer-org.apache.derby.iapi.store.raw.ContainerKey-"><code>Transaction.dropContainer(org.apache.derby.iapi.store.raw.ContainerKey)</code></a></dd>
</dl>
</li>
</ul>
<a name="setSavePoint-java.lang.String-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSavePoint</h4>
<pre>public&nbsp;int&nbsp;setSavePoint(java.lang.String&nbsp;name,
                        java.lang.Object&nbsp;kindOfSavepoint)
                 throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#setSavePoint-java.lang.String-java.lang.Object-">Transaction</a></code></span></div>
<div class="block">Set a save point in the current transaction. A save point defines a 
        point in time in the transaction that changes can be rolled back to. 
        Savepoints can be nested and they behave like a stack. Setting save 
        points "one" and "two" and the rolling back "one" will rollback all 
        the changes made since "one" (including those made since "two") and 
        release savepoint "two".</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#setSavePoint-java.lang.String-java.lang.Object-">setSavePoint</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - The user provided name of the savepoint</dd>
<dd><code>kindOfSavepoint</code> - A NULL value means it is an internal savepoint (ie not a user defined savepoint)
                    Non NULL value means it is a user defined savepoint which can be a SQL savepoint or a JDBC savepoint
                    A String value for kindOfSavepoint would mean it is SQL savepoint
                    A JDBC Savepoint object value for kindOfSavepoint would mean it is JDBC savepoint</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>returns total number of savepoints in the stack.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby exception policy</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#setSavePoint-java.lang.String-java.lang.Object-"><code>Transaction.setSavePoint(java.lang.String, java.lang.Object)</code></a></dd>
</dl>
</li>
</ul>
<a name="throwExceptionIfSQLSavepointNotAllowed-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>throwExceptionIfSQLSavepointNotAllowed</h4>
<pre>private&nbsp;void&nbsp;throwExceptionIfSQLSavepointNotAllowed(java.lang.Object&nbsp;kindOfSavepoint)
                                             throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby exception policy</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#setSavePoint-java.lang.String-java.lang.Object-"><code>Transaction.setSavePoint(java.lang.String, java.lang.Object)</code></a></dd>
</dl>
</li>
</ul>
<a name="releaseSavePoint-java.lang.String-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>releaseSavePoint</h4>
<pre>public&nbsp;int&nbsp;releaseSavePoint(java.lang.String&nbsp;name,
                            java.lang.Object&nbsp;kindOfSavepoint)
                     throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#releaseSavePoint-java.lang.String-java.lang.Object-">Transaction</a></code></span></div>
<div class="block">Release the save point of the given name. Relasing a savepoint removes 
        all knowledge from this transaction of the named savepoint and any 
        savepoints set since the named savepoint was set.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#releaseSavePoint-java.lang.String-java.lang.Object-">releaseSavePoint</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - The user provided name of the savepoint, set by the user
                    in the setSavePoint() call.</dd>
<dd><code>kindOfSavepoint</code> - A NULL value means it is an internal savepoint (ie not a user defined savepoint)
                    Non NULL value means it is a user defined savepoint which can be a SQL savepoint or a JDBC savepoint
                    A String value for kindOfSavepoint would mean it is SQL savepoint
                    A JDBC Savepoint object value for kindOfSavepoint would mean it is JDBC savepoint</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>returns total number of savepoints in the stack.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby exception policy</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#releaseSavePoint-java.lang.String-java.lang.Object-"><code>Transaction.releaseSavePoint(java.lang.String, java.lang.Object)</code></a></dd>
</dl>
</li>
</ul>
<a name="rollbackToSavePoint-java.lang.String-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rollbackToSavePoint</h4>
<pre>public&nbsp;int&nbsp;rollbackToSavePoint(java.lang.String&nbsp;name,
                               java.lang.Object&nbsp;kindOfSavepoint)
                        throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#rollbackToSavePoint-java.lang.String-java.lang.Object-">Transaction</a></code></span></div>
<div class="block">Rollback all changes made since the named savepoint was set. The named
                savepoint is not released, it remains valid within this transaction, and
                thus can be named it future rollbackToSavePoint() calls. Any savepoints
                set since this named savepoint are released (and their changes rolled
        back).</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#rollbackToSavePoint-java.lang.String-java.lang.Object-">rollbackToSavePoint</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - The user provided name of the savepoint, set by the user
                    in the setSavePoint() call.</dd>
<dd><code>kindOfSavepoint</code> - A NULL value means it is an internal savepoint (ie not a user defined savepoint)
                    Non NULL value means it is a user defined savepoint which can be a SQL savepoint or a JDBC savepoint
                    A String value for kindOfSavepoint would mean it is SQL savepoint
                    A JDBC Savepoint object value for kindOfSavepoint would mean it is JDBC savepoint</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>returns total number of savepoints in the stack.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby exception policy</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#rollbackToSavePoint-java.lang.String-java.lang.Object-"><code>Transaction.rollbackToSavePoint(java.lang.String, java.lang.Object)</code></a></dd>
</dl>
</li>
</ul>
<a name="getLogger--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLogger</h4>
<pre>private&nbsp;void&nbsp;getLogger()</pre>
<div class="block">Get the Logger object used to write log records to the transaction log.</div>
</li>
</ul>
<a name="assumeIdentity-org.apache.derby.impl.store.raw.xact.TransactionTableEntry-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>assumeIdentity</h4>
<pre>protected&nbsp;void&nbsp;assumeIdentity(<a href="../../../../../../../org/apache/derby/impl/store/raw/xact/TransactionTableEntry.html" title="class in org.apache.derby.impl.store.raw.xact">TransactionTableEntry</a>&nbsp;ent)</pre>
<div class="block">Transform this identity to the one stored in transaction table entry.
                Used by recovery only!</div>
</li>
</ul>
<a name="assumeGlobalXactIdentity-org.apache.derby.impl.store.raw.xact.TransactionTableEntry-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>assumeGlobalXactIdentity</h4>
<pre>protected&nbsp;void&nbsp;assumeGlobalXactIdentity(<a href="../../../../../../../org/apache/derby/impl/store/raw/xact/TransactionTableEntry.html" title="class in org.apache.derby.impl.store.raw.xact">TransactionTableEntry</a>&nbsp;ent)</pre>
<div class="block">Assume complete identity of the given Transaction Table Entry.
 <p>
 Used by the final phase of the recovery to create new real transactions
 to take on the identity of in-doubt prepared transactions found during
 redo.  Need to assume the globalId.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ent</code> - The original entry we are assuming the identity of.</dd>
</dl>
</li>
</ul>
<a name="setUpdateState--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUpdateState</h4>
<pre>private final&nbsp;void&nbsp;setUpdateState()
                           throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Move the transaction into the update state.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - problem setting a transaction id</dd>
</dl>
</li>
</ul>
<a name="setIdleState--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setIdleState</h4>
<pre>protected&nbsp;void&nbsp;setIdleState()</pre>
</li>
</ul>
<a name="setActiveState--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setActiveState</h4>
<pre>protected final&nbsp;void&nbsp;setActiveState()
                             throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="setPrepareState--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPrepareState</h4>
<pre>protected final&nbsp;void&nbsp;setPrepareState()
                              throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Move the state of the transaction from UPDATE to PREPARE.
 <p>
 The state transition should only be from UPDATE to PREPARE.  Read-only
 transactions (IDLE and ACTIVE) will never be prepared, they will be
 commited when the prepare is requested.  Only Update transactions will
 be allowed to go to prepared state.
 <p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="defaultLockingPolicy--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>defaultLockingPolicy</h4>
<pre>public final&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw">LockingPolicy</a>&nbsp;defaultLockingPolicy()</pre>
</li>
</ul>
<a name="releaseAllLocks--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>releaseAllLocks</h4>
<pre>private final&nbsp;void&nbsp;releaseAllLocks()</pre>
</li>
</ul>
<a name="resetDefaultLocking--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resetDefaultLocking</h4>
<pre>void&nbsp;resetDefaultLocking()</pre>
</li>
</ul>
<a name="preComplete-java.lang.Integer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>preComplete</h4>
<pre>protected&nbsp;void&nbsp;preComplete(java.lang.Integer&nbsp;commitOrAbort)
                    throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="postComplete-int-java.lang.Integer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>postComplete</h4>
<pre>protected&nbsp;void&nbsp;postComplete(int&nbsp;commitflag,
                            java.lang.Integer&nbsp;commitOrAbort)
                     throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="doComplete-java.lang.Integer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doComplete</h4>
<pre>protected&nbsp;void&nbsp;doComplete(java.lang.Integer&nbsp;commitOrAbort)
                   throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="checkObserverException--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkObserverException</h4>
<pre>private&nbsp;void&nbsp;checkObserverException()
                             throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="doPostCommitWorkInTran--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doPostCommitWorkInTran</h4>
<pre>protected&nbsp;boolean&nbsp;doPostCommitWorkInTran()</pre>
<div class="block">If this is a user transaction (not an internal or nested top
          transaction), and this is not already taking care of post
          commit work, and not an XA transaction, then take care of hi prioirty 
      work right now using this thread and this context manager.  
      Otherwise, leave it to the post commit daemon.</div>
</li>
</ul>
<a name="handlesPostTerminationWork--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handlesPostTerminationWork</h4>
<pre>public&nbsp;boolean&nbsp;handlesPostTerminationWork()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#handlesPostTerminationWork--">RawTransaction</a></code></span></div>
<div class="block">Can this transaction handles post termination work</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#handlesPostTerminationWork--">handlesPostTerminationWork</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a></code></dd>
</dl>
</li>
</ul>
<a name="recoveryTransaction--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recoveryTransaction</h4>
<pre>public&nbsp;void&nbsp;recoveryTransaction()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#recoveryTransaction--">RawTransaction</a></code></span></div>
<div class="block">Make this transaction aware that it is being used by recovery</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#recoveryTransaction--">recoveryTransaction</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a></code></dd>
</dl>
</li>
</ul>
<a name="transferPostCommitorAbortWork-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>transferPostCommitorAbortWork</h4>
<pre>private&nbsp;void&nbsp;transferPostCommitorAbortWork(java.util.List&lt;<a href="../../../../../../../org/apache/derby/iapi/services/daemon/Serviceable.html" title="interface in org.apache.derby.iapi.services.daemon">Serviceable</a>&gt;&nbsp;work_list)
                                    throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="postTermination--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>postTermination</h4>
<pre>private final&nbsp;void&nbsp;postTermination()
                            throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="getSavePointPosition-java.lang.String-java.lang.Object-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSavePointPosition</h4>
<pre>private&nbsp;int&nbsp;getSavePointPosition(java.lang.String&nbsp;name,
                                 java.lang.Object&nbsp;kindOfSavepoint,
                                 boolean&nbsp;forRollbackOrRelease)</pre>
<div class="block">Does a save point exist in the stack with the given name.
                Returns the position of the savepoint in the array</div>
</li>
</ul>
<a name="popSavePoints-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>popSavePoints</h4>
<pre>protected&nbsp;boolean&nbsp;popSavePoints(int&nbsp;position,
                                boolean&nbsp;release)
                         throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Pop all savepoints upto the one with the given name and rollback
                all changes made since this savepoint was pushed.
                If release is true then this savepoint is popped as well,
                otherwise it is left in the stack (at the top).</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if any work is rolled back, false if no work is rolled back</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Thrown if a error of severity less than TransactionException#SEVERITY
                is encountered during the rollback of this savepoint.</dd>
</dl>
</li>
</ul>
<a name="startNestedTopTransaction--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startNestedTopTransaction</h4>
<pre>public&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;startNestedTopTransaction()
                                         throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#startNestedTopTransaction--">RawTransaction</a></code></span></div>
<div class="block">Start a nested top transaction. A nested top transaction behaves exactly
                like a user transaction. Nested top transaction allow system type work
                to proceed in a separate transaction to the current user transaction
                and be committed independently of the user transaction (usually before
                the user transaction).
                Only one nested top transaction can be active in a context at any one
        time.
                After a commit the transaction may be re-used.

                A nested top transaction conflicts on the logical locks of its "parent"
        transaction.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#startNestedTopTransaction--">startNestedTopTransaction</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Derby Standard error policy</dd>
</dl>
</li>
</ul>
<a name="isUserTransaction--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isUserTransaction</h4>
<pre>private&nbsp;boolean&nbsp;isUserTransaction()</pre>
<div class="block">see if this transaction is a user transaction.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if this transaction is a user transaction</dd>
</dl>
</li>
</ul>
<a name="isActive--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isActive</h4>
<pre>public final&nbsp;boolean&nbsp;isActive()</pre>
<div class="block">see if this transaction has ever done anything.

 MT - single thread through synchronizing this.  This method may be
 called by other thread to test the state of this transaction.  That's
 why we need to synchronize with all methods which enters or exits the
 Idle state.

 Local method which read the state need not be synchronized because 
 the other thread may look at the state but it may not change it.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if this transaction is not in idle or closed state</dd>
</dl>
</li>
</ul>
<a name="isPrepared--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isPrepared</h4>
<pre>public final&nbsp;boolean&nbsp;isPrepared()</pre>
<div class="block">see if this transaction is in PREPARED state.

 MT - single thread through synchronizing this.  This method may be
 called by other thread to test the state of this transaction.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if this transaction is in PREPARED state.</dd>
</dl>
</li>
</ul>
<a name="isIdle--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isIdle</h4>
<pre>public&nbsp;boolean&nbsp;isIdle()</pre>
<div class="block">See if this transaction is in the idle state, called by other thread to
                test the state of this transaction.  That's why we need to synchronzied
                with all methods whcih enters or exits the idle state</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#isIdle--">isIdle</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if it is idle, otherwise false</dd>
</dl>
</li>
</ul>
<a name="isPristine--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isPristine</h4>
<pre>public&nbsp;boolean&nbsp;isPristine()</pre>
<div class="block">see if this transaction is in a pristine state.

                <BR>MT - called only by the same thread that owns the xact, no need to synchronize.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#isPristine--">isPristine</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if it hasn't done any updates, otherwise false</dd>
</dl>
</li>
</ul>
<a name="inAbort--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inAbort</h4>
<pre>public&nbsp;boolean&nbsp;inAbort()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#inAbort--">RawTransaction</a></code></span></div>
<div class="block">Is the transaction in the middle of an abort.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#inAbort--">inAbort</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a></code></dd>
</dl>
</li>
</ul>
<a name="getFileHandler--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFileHandler</h4>
<pre>public&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/access/FileResource.html" title="interface in org.apache.derby.iapi.store.access">FileResource</a>&nbsp;getFileHandler()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#getFileHandler--">Transaction</a></code></span></div>
<div class="block">Get an object to handle non-transactional files.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#getFileHandler--">getFileHandler</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></code></dd>
</dl>
</li>
</ul>
<a name="statusForBeginXactLog--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>statusForBeginXactLog</h4>
<pre>protected&nbsp;int&nbsp;statusForBeginXactLog()</pre>
<div class="block">put this into the beginXact log record to help recovery
 if we needs to rolled back first, put that in</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#statusForBeginXactLog--">statusForBeginXactLog</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a></code></dd>
</dl>
</li>
</ul>
<a name="statusForEndXactLog--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>statusForEndXactLog</h4>
<pre>protected&nbsp;int&nbsp;statusForEndXactLog()</pre>
<div class="block">put this into the endXact log record to help recovery, 
 nothing to add</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#statusForEndXactLog--">statusForEndXactLog</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a></code></dd>
</dl>
</li>
</ul>
<a name="setPostComplete--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPostComplete</h4>
<pre>void&nbsp;setPostComplete()</pre>
<div class="block">Set the transaction to issue pre complete work at postComplete
                time, instead of preComplete time. This means that latches
                and containers will be held open until after a commit or an abort.</div>
</li>
</ul>
<a name="blockBackup-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>blockBackup</h4>
<pre>public&nbsp;boolean&nbsp;blockBackup(boolean&nbsp;wait)
                    throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Make the transaction block the online backup.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#blockBackup-boolean-">blockBackup</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>wait</code> - if <tt>true</tt>, waits until the transaction
             can block the backup.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><tt>true</tt> if the transaction  blocked the  
             backup.  <tt>false</tt> otherwise.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - if interrupted while waiting 
            for the backup in progress to complete.</dd>
</dl>
</li>
</ul>
<a name="unblockBackup--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unblockBackup</h4>
<pre>private&nbsp;void&nbsp;unblockBackup()</pre>
<div class="block">Unblock the backup, if it was blocked by some operation in 
 this transaction. Unblocking is done at commit/abort of this 
 transaction.</div>
</li>
</ul>
<a name="isBlockingBackup--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isBlockingBackup</h4>
<pre>public&nbsp;boolean&nbsp;isBlockingBackup()</pre>
<div class="block">Check if the transaction is blocking the backup ?</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#isBlockingBackup--">isBlockingBackup</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><tt> true </tt> if this transaction is 
         blocking the backup, otherwise <tt> false </tt></dd>
</dl>
</li>
</ul>
<a name="reached-org.apache.derby.iapi.services.locks.CompatibilitySpace-java.lang.Object-int-java.util.Enumeration-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reached</h4>
<pre>public&nbsp;void&nbsp;reached(<a href="../../../../../../../org/apache/derby/iapi/services/locks/CompatibilitySpace.html" title="interface in org.apache.derby.iapi.services.locks">CompatibilitySpace</a>&nbsp;compatibilitySpace,
                    java.lang.Object&nbsp;group,
                    int&nbsp;limit,
                    java.util.Enumeration&nbsp;lockList,
                    int&nbsp;lockCount)
             throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/services/locks/Limit.html#reached-org.apache.derby.iapi.services.locks.CompatibilitySpace-java.lang.Object-int-java.util.Enumeration-int-">Limit</a></code></span></div>
<div class="block">Called by the lock factory when a limit has been reached.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/services/locks/Limit.html#reached-org.apache.derby.iapi.services.locks.CompatibilitySpace-java.lang.Object-int-java.util.Enumeration-int-">reached</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/services/locks/Limit.html" title="interface in org.apache.derby.iapi.services.locks">Limit</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>compatibilitySpace</code> - lock space the limit was set for</dd>
<dd><code>group</code> - lock group the limit was set for</dd>
<dd><code>limit</code> - the limit's setting</dd>
<dd><code>lockList</code> - the list of Lockable's in the group</dd>
<dd><code>lockCount</code> - the number of locks in the group</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy.</dd>
</dl>
</li>
</ul>
<a name="createXATransactionFromLocalTransaction-int-byte:A-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createXATransactionFromLocalTransaction</h4>
<pre>public&nbsp;void&nbsp;createXATransactionFromLocalTransaction(int&nbsp;format_id,
                                                    byte[]&nbsp;global_id,
                                                    byte[]&nbsp;branch_id)
                                             throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Convert a local transaction to a global transaction.
 <p>
 Must only be called a previous local transaction was created and exists
 in the context.  Can only be called if the current transaction is in
 the idle state, and no current global id.  
 <p>
 Simply call setTransactionId() which takes care of error checking.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#createXATransactionFromLocalTransaction-int-byte:A-byte:A-">createXATransactionFromLocalTransaction</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>format_id</code> - the format id part of the Xid - ie. Xid.getFormatId().</dd>
<dd><code>global_id</code> - the global transaction identifier part of XID - ie.
                  Xid.getGlobalTransactionId().</dd>
<dd><code>branch_id</code> - The branch qualifier of the Xid - ie. 
                  Xid.getBranchQaulifier()</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="xa_commit-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>xa_commit</h4>
<pre>public&nbsp;void&nbsp;xa_commit(boolean&nbsp;onePhase)
               throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">This method is called to commit the current XA global transaction.
 <p>
 RESOLVE - how do we map to the "right" XAExceptions.
 <p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#xa_commit-boolean-">xa_commit</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>onePhase</code> - If true, the resource manager should use a one-phase
                 commit protocol to commit the work done on behalf of 
                 current xid.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="xa_prepare--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>xa_prepare</h4>
<pre>public&nbsp;int&nbsp;xa_prepare()
               throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">This method is called to ask the resource manager to prepare for
 a transaction commit of the transaction specified in xid.
 <p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#xa_prepare--">xa_prepare</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A value indicating the resource manager's vote on the
                 the outcome of the transaction.  The possible values
                 are:  XA_RDONLY or XA_OK.  If the resource manager wants
                 to roll back the transaction, it should do so by 
                 throwing an appropriate XAException in the prepare
                 method.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="xa_rollback--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>xa_rollback</h4>
<pre>public&nbsp;void&nbsp;xa_rollback()
                 throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">rollback the current global transaction.
 <p>
 The given transaction is roll'ed back and it's history is not
 maintained in the transaction table or long term log.
 <p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#xa_rollback--">xa_rollback</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<div class="block">Return the xid as a string.
 <p>
 The virtual lock table depends on this routine returning just the
 local transaction id as a string, even if it is a global transaction.
 Joins between the lock table and the transaction table will not work
 if this routine returns anything other than myId.toString().
 <p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The xid as a string.</dd>
</dl>
</li>
</ul>
<a name="toInternalDetailString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toInternalDetailString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toInternalDetailString()</pre>
</li>
</ul>
<a name="getActiveStateTxIdString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getActiveStateTxIdString</h4>
<pre>public&nbsp;java.lang.String&nbsp;getActiveStateTxIdString()</pre>
<div class="block">Get string id of the transaction that would be when the Transaction
 is IN active state.

 This transaction "name" will be the same id which is returned in
 the TransactionInfo information if Tx is already in Active State.
 If the Transaction is in IDLE state, Transaction ID is 
 incremented when getActiveStateTxIdString() on raw transaction is called,
 instead of the Tx ID being incremented when Transaction gets into
 active state. The reason for incrementing the Tx ID earlier than when Tx
 is actually goes into active state is some debug statement cases like 
 log statement text. SQL statements are written to log before they are
 actually executed; In such cases we would like to display the actual TX
 ID on which locks are acquired when the statement is executed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#getActiveStateTxIdString--">getActiveStateTxIdString</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The a string which identifies the transaction.</dd>
</dl>
</li>
</ul>
<a name="getDataValueFactory--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDataValueFactory</h4>
<pre>public&nbsp;<a href="../../../../../../../org/apache/derby/iapi/types/DataValueFactory.html" title="interface in org.apache.derby.iapi.types">DataValueFactory</a>&nbsp;getDataValueFactory()
                                     throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Get DataValueFactory.
 <p>
 Return a DataValueFactory that can be used to allocate objects.  Used
 to make calls to: 
     DataValueFactory.getInstanceUsingFormatIdAndCollationType()</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#getDataValueFactory--">getDataValueFactory</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a booted data value factory.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="getState--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getState</h4>
<pre>java.lang.String&nbsp;getState()</pre>
</li>
</ul>
<a name="getTransName--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTransName</h4>
<pre>public&nbsp;java.lang.String&nbsp;getTransName()</pre>
</li>
</ul>
<a name="setTransName-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTransName</h4>
<pre>public&nbsp;void&nbsp;setTransName(java.lang.String&nbsp;name)</pre>
</li>
</ul>
<a name="inRollForwardRecovery--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inRollForwardRecovery</h4>
<pre>public&nbsp;boolean&nbsp;inRollForwardRecovery()</pre>
<div class="block">Is the transaction in rollforward recovery</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#inRollForwardRecovery--">inRollForwardRecovery</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a></code></dd>
</dl>
</li>
</ul>
<a name="checkpointInRollForwardRecovery-org.apache.derby.iapi.store.raw.log.LogInstant-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkpointInRollForwardRecovery</h4>
<pre>public&nbsp;void&nbsp;checkpointInRollForwardRecovery(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;cinstant,
                                            long&nbsp;redoLWM,
                                            long&nbsp;undoLWM)
                                     throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Perform a checkpoint during rollforward recovery.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#checkpointInRollForwardRecovery-org.apache.derby.iapi.store.raw.log.LogInstant-long-long-">checkpointInRollForwardRecovery</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cinstant</code> - The LogInstant of the checkpoint</dd>
<dd><code>redoLWM</code> - Redo Low Water Mark in the check point record</dd>
<dd><code>undoLWM</code> - Undo Low Water Mark in the checkpoint</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="isNestedOwner--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isNestedOwner</h4>
<pre>public&nbsp;boolean&nbsp;isNestedOwner()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/services/locks/LockOwner.html#isNestedOwner--">LockOwner</a></code></span></div>
<div class="block"><p>
 Return true if this is a nested owner, e.g., a nested user transaction.
 </p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/services/locks/LockOwner.html#isNestedOwner--">isNestedOwner</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/services/locks/LockOwner.html" title="interface in org.apache.derby.iapi.services.locks">LockOwner</a></code></dd>
</dl>
</li>
</ul>
<a name="nestsUnder-org.apache.derby.iapi.services.locks.LockOwner-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>nestsUnder</h4>
<pre>public&nbsp;boolean&nbsp;nestsUnder(<a href="../../../../../../../org/apache/derby/iapi/services/locks/LockOwner.html" title="interface in org.apache.derby.iapi.services.locks">LockOwner</a>&nbsp;other)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/services/locks/LockOwner.html#nestsUnder-org.apache.derby.iapi.services.locks.LockOwner-">LockOwner</a></code></span></div>
<div class="block"><p>
 Return true if this owner nests under another owner.
 </p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/services/locks/LockOwner.html#nestsUnder-org.apache.derby.iapi.services.locks.LockOwner-">nestsUnder</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/services/locks/LockOwner.html" title="interface in org.apache.derby.iapi.services.locks">LockOwner</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Built on Mon 2017-07-03 23:03:59+0530, from revision Unversioned directory</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/TransactionTableEntry.html" title="class in org.apache.derby.impl.store.raw.xact"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/XactContext.html" title="class in org.apache.derby.impl.store.raw.xact"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/derby/impl/store/raw/xact/Xact.html" target="_top">Frames</a></li>
<li><a href="Xact.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Apache Derby V10.13 Internals - <i>Copyright &copy; 2004,2016 The Apache Software Foundation. All Rights Reserved.</i></small></p>
</body>
</html>
