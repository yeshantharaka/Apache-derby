<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_66) on Mon Jul 03 23:05:18 IST 2017 -->
<title>FileContainer (Apache Derby V10.13 Internals)</title>
<meta name="date" content="2017-07-03">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="FileContainer (Apache Derby V10.13 Internals)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":10,"i2":10,"i3":10,"i4":10,"i5":6,"i6":10,"i7":6,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":9,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10,"i34":10,"i35":10,"i36":10,"i37":10,"i38":10,"i39":10,"i40":10,"i41":10,"i42":10,"i43":10,"i44":9,"i45":10,"i46":10,"i47":10,"i48":10,"i49":10,"i50":10,"i51":10,"i52":10,"i53":10,"i54":10,"i55":10,"i56":10,"i57":10,"i58":10,"i59":10,"i60":6,"i61":10,"i62":6,"i63":10,"i64":10,"i65":10,"i66":10,"i67":6,"i68":10,"i69":10,"i70":10,"i71":10,"i72":10,"i73":10,"i74":10,"i75":10,"i76":10,"i77":10,"i78":10,"i79":10,"i80":10,"i81":10,"i82":6};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../org/apache/derby/impl/store/raw/data/EncryptOrDecryptData.html" title="class in org.apache.derby.impl.store.raw.data"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../org/apache/derby/impl/store/raw/data/InitPageOperation.html" title="class in org.apache.derby.impl.store.raw.data"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/derby/impl/store/raw/data/FileContainer.html" target="_top">Frames</a></li>
<li><a href="FileContainer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.derby.impl.store.raw.data</div>
<h2 title="Class FileContainer" class="title">Class FileContainer</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html" title="class in org.apache.derby.impl.store.raw.data">org.apache.derby.impl.store.raw.data.BaseContainer</a></li>
<li>
<ul class="inheritance">
<li>org.apache.derby.impl.store.raw.data.FileContainer</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/services/cache/Cacheable.html" title="interface in org.apache.derby.iapi.services.cache">Cacheable</a>, <a href="../../../../../../../org/apache/derby/iapi/services/io/TypedFormat.html" title="interface in org.apache.derby.iapi.services.io">TypedFormat</a>, <a href="../../../../../../../org/apache/derby/iapi/services/locks/Lockable.html" title="interface in org.apache.derby.iapi.services.locks">Lockable</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../../../org/apache/derby/impl/store/raw/data/InputStreamContainer.html" title="class in org.apache.derby.impl.store.raw.data">InputStreamContainer</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/RAFContainer.html" title="class in org.apache.derby.impl.store.raw.data">RAFContainer</a></dd>
</dl>
<hr>
<br>
<pre>abstract class <span class="typeNameLabel">FileContainer</span>
extends <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainer</a>
implements <a href="../../../../../../../org/apache/derby/iapi/services/cache/Cacheable.html" title="interface in org.apache.derby.iapi.services.cache">Cacheable</a>, <a href="../../../../../../../org/apache/derby/iapi/services/io/TypedFormat.html" title="interface in org.apache.derby.iapi.services.io">TypedFormat</a></pre>
<div class="block">FileContainer is an abstract base class for containers
        which are based on files.

        This class extends BaseContainer and implements Cacheable and TypedFormat</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocationCache.html" title="class in org.apache.derby.impl.store.raw.data">AllocationCache</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#allocCache">allocCache</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#bulkIncreaseContainerSize">bulkIncreaseContainerSize</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#canUpdate">canUpdate</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.zip.CRC32</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#checksum">checksum</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#CHECKSUM_SIZE">CHECKSUM_SIZE</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#CONTAINER_FORMAT_ID_SIZE">CONTAINER_FORMAT_ID_SIZE</a></span></code>
<div class="block">the container format must fit in this many bytes</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#CONTAINER_INFO_SIZE">CONTAINER_INFO_SIZE</a></span></code>
<div class="block">The size of the persistently stored container info
                ContainerHeader contains the following information:
                4 bytes int     FormatId
                4 bytes int     status
                4 bytes int     pageSize
                4 bytes int     spareSpace
                4 bytes int minimumRecordSize
                2 bytes short initialPages
                2 bytes short spare1
                8 bytes long    first Allocation page number
                8 bytes long    first Allocation page offset
                8 bytes long    container version
                8 bytes long    estimated number of rows
                8 bytes long    reusable recordId sequence number
                8 bytes long    spare3
                8 bytes long    checksum
                container info size is 80 bytes, with 10 bytes of spare space</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/iapi/services/cache/CacheManager.html" title="interface in org.apache.derby.iapi.services.cache">CacheManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#containerCache">containerCache</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#containerInfo">containerInfo</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#containerVersion">containerVersion</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html" title="class in org.apache.derby.impl.store.raw.data">BaseDataFileFactory</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#dataFactory">dataFactory</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#DEFAULT_PRE_ALLOC_SIZE">DEFAULT_PRE_ALLOC_SIZE</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#encryptionBuffer">encryptionBuffer</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#estimatedPageCount">estimatedPageCount</a></span></code>
<div class="block">An estimated page count.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#estimatedRowCount">estimatedRowCount</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#FILE_COMMITTED_DROP">FILE_COMMITTED_DROP</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#FILE_DROPPED">FILE_DROPPED</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#FILE_REUSABLE_RECORDID">FILE_REUSABLE_RECORDID</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#FIRST_ALLOC_PAGE_NUMBER">FIRST_ALLOC_PAGE_NUMBER</a></span></code>
<div class="block">where the first alloc page is located - 
 the logical page number and the physical page offset
 NOTE if it is not 0 this is not going to work for Stream 
 file which doesn't support seek</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#FIRST_ALLOC_PAGE_OFFSET">FIRST_ALLOC_PAGE_OFFSET</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#firstAllocPageNumber">firstAllocPageNumber</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#firstAllocPageOffset">firstAllocPageOffset</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#formatIdInteger">formatIdInteger</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected short</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#initialPages">initialPages</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#isDirty">isDirty</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#lastAllocatedPage">lastAllocatedPage</a></span></code>
<div class="block">The last allocated page.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private long[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#lastInsertedPage">lastInsertedPage</a></span></code>
<div class="block">The page that was last inserted into.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#lastInsertedPage_index">lastInsertedPage_index</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#lastLogInstant">lastLogInstant</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#lastUnfilledPage">lastUnfilledPage</a></span></code>
<div class="block">The last unfilled page found.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#MAX_PRE_ALLOC_SIZE">MAX_PRE_ALLOC_SIZE</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#MIN_PRE_ALLOC_SIZE">MIN_PRE_ALLOC_SIZE</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#minimumRecordSize">minimumRecordSize</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/iapi/services/cache/CacheManager.html" title="interface in org.apache.derby.iapi.services.cache">CacheManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#pageCache">pageCache</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#pageSize">pageSize</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#PRE_ALLOC_THRESHOLD">PRE_ALLOC_THRESHOLD</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#PreAllocSize">PreAllocSize</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#PreAllocThreshold">PreAllocThreshold</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#preDirty">preDirty</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#reusableRecordIdSequenceNumber">reusableRecordIdSequenceNumber</a></span></code>
<div class="block">The sequence number for reusable recordIds .</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#SPACE_TRACE">SPACE_TRACE</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#spareSpace">spareSpace</a></span></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.apache.derby.impl.store.raw.data.BaseContainer">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.apache.derby.impl.store.raw.data.<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainer</a></h3>
<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#identity">identity</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#isCommittedDrop">isCommittedDrop</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#isDropped">isDropped</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#isReusableRecordId">isReusableRecordId</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#FileContainer-org.apache.derby.impl.store.raw.data.BaseDataFileFactory-">FileContainer</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html" title="class in org.apache.derby.impl.store.raw.data">BaseDataFileFactory</a>&nbsp;factory)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#backupContainer-org.apache.derby.impl.store.raw.data.BaseContainerHandle-java.lang.String-">backupContainer</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
               java.lang.String&nbsp;backupLocation)</code>
<div class="block">backup the container.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#bumpContainerVersion-org.apache.derby.iapi.store.raw.log.LogInstant-">bumpContainerVersion</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant)</code>
<div class="block">increment the version by one and return the new version.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#canUpdate--">canUpdate</a></span>()</code>
<div class="block">Can the container be updated.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#clearIdentity--">clearIdentity</a></span>()</code>
<div class="block">Put the object into the No Identity state.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#clearPreallocThreshold--">clearPreallocThreshold</a></span>()</code>
<div class="block">The container will have no pre-allocate threshold, i.e., if the
                implementation supports it, page preallocation will happen
                the next time a new page is allocated.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>(package private) abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#closeContainer--">closeContainer</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#compressContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-org.apache.derby.impl.store.raw.data.BaseContainerHandle-">compressContainer</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;ntt,
                 <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;allocHandle)</code>
<div class="block">Compress free space from container.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>(package private) abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#createContainer-org.apache.derby.iapi.store.raw.ContainerKey-">createContainer</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;newIdentity)</code>
<div class="block">Create a new container.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/iapi/services/cache/Cacheable.html" title="interface in org.apache.derby.iapi.services.cache">Cacheable</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#createIdent-org.apache.derby.iapi.store.raw.ContainerKey-java.lang.Object-">createIdent</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;newIdentity,
           java.lang.Object&nbsp;createParameter)</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/services/cache/Cacheable.html" title="interface in org.apache.derby.iapi.services.cache">Cacheable</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#createIdentity-java.lang.Object-java.lang.Object-">createIdentity</a></span>(java.lang.Object&nbsp;key,
              java.lang.Object&nbsp;createParameter)</code>
<div class="block">Create a new item.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#createInfoFromLog-org.apache.derby.iapi.util.ByteArray-">createInfoFromLog</a></span>(<a href="../../../../../../../org/apache/derby/iapi/util/ByteArray.html" title="class in org.apache.derby.iapi.util">ByteArray</a>&nbsp;byteArray)</code>
<div class="block">Set container properties from the passed in ByteArray, which is created
                by logCreateContainerInfo.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#createInfoFromProp-java.util.Properties-">createInfoFromProp</a></span>(java.util.Properties&nbsp;createArgs)</code>
<div class="block">Set container properties from the passed in createArgs.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#deallocatePage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-org.apache.derby.impl.store.raw.data.BasePage-">deallocatePage</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
              <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a>&nbsp;page)</code>
<div class="block">Deallocate a page from the container.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#deallocatePagenum-org.apache.derby.impl.store.raw.data.BaseContainerHandle-long-">deallocatePagenum</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
                 long&nbsp;pnum)</code>
<div class="block">deallocate the page from the alloc page</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#decryptPage-byte:A-int-">decryptPage</a></span>(byte[]&nbsp;pageData,
           int&nbsp;pageSize)</code>
<div class="block">Decrypts a page

                <BR>MT - MT safe.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#doPreAllocatePages-long-int-">doPreAllocatePages</a></span>(long&nbsp;lastPreallocPagenum,
                  int&nbsp;preAllocSize)</code>
<div class="block">Preallocate the pages - actually doing it, called by subclass only</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#dropContainer-org.apache.derby.iapi.store.raw.log.LogInstant-boolean-">dropContainer</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant,
             boolean&nbsp;isDropped)</code>
<div class="block">Drop Container.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>protected byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#encryptPage-byte:A-int-byte:A-boolean-">encryptPage</a></span>(byte[]&nbsp;pageData,
           int&nbsp;pageSize,
           byte[]&nbsp;encryptionBuffer,
           boolean&nbsp;newEngine)</code>
<div class="block">Encrypts a page.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html" title="class in org.apache.derby.impl.store.raw.data">AllocPage</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#findAllocPageForAdd-org.apache.derby.impl.store.raw.data.BaseContainerHandle-org.apache.derby.iapi.store.raw.xact.RawTransaction-long-">findAllocPageForAdd</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;allocHandle,
                   <a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;ntt,
                   long&nbsp;lastAllocatedPage)</code>&nbsp;</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html" title="class in org.apache.derby.impl.store.raw.data">AllocPage</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#findLastAllocPage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-org.apache.derby.iapi.store.raw.xact.RawTransaction-">findLastAllocPage</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
                 <a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;tran)</code>
<div class="block">Find the last alloc page, returns null if no alloc page is found</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#getAllocPage-long-">getAllocPage</a></span>(long&nbsp;pageNumber)</code>
<div class="block">Get an alloc page - only accessible to the raw store 
                (container and recovery)</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#getAnyPage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-long-">getAnyPage</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
          long&nbsp;pageNumber)</code>
<div class="block">Get any old page - turn off all validation</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#getContainerProperties-java.util.Properties-">getContainerProperties</a></span>(java.util.Properties&nbsp;prop)</code>
<div class="block">Request the system properties associated with a container.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#getContainerVersion--">getContainerVersion</a></span>()</code>
<div class="block">Get the logged container version.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>(package private) static <a href="../../../../../../../org/apache/derby/iapi/services/context/ContextService.html" title="class in org.apache.derby.iapi.services.context">ContextService</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#getContextService--">getContextService</a></span>()</code>
<div class="block">Privileged lookup of the ContextService.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>protected byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#getEmbryonicPage-java.io.DataInput-">getEmbryonicPage</a></span>(java.io.DataInput&nbsp;fileData)</code>
<div class="block">Get an embryonic page from the dataInput stream.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>(package private) byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#getEmbryonicPage-org.apache.derby.io.StorageRandomAccessFile-long-">getEmbryonicPage</a></span>(<a href="../../../../../../../org/apache/derby/io/StorageRandomAccessFile.html" title="interface in org.apache.derby.io">StorageRandomAccessFile</a>&nbsp;file,
                long&nbsp;offset)</code>
<div class="block">Read an embryonic page (that is, a section of the first alloc page that
 is so large that we know all the borrowed space is included in it) from
 the specified offset in a <code>StorageRandomAccessFile</code>.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>protected byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#getEncryptionBuffer--">getEncryptionBuffer</a></span>()</code>
<div class="block">Get encryption buffer.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#getEstimatedPageCount-org.apache.derby.impl.store.raw.data.BaseContainerHandle-int-">getEstimatedPageCount</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
                     int&nbsp;flag)</code>&nbsp;</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#getEstimatedRowCount-int-">getEstimatedRowCount</a></span>(int&nbsp;flag)</code>
<div class="block"><BR>MT - this routine is NOT MT-safe and clients don't need to provide
                synchronization.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#getFirstHeadPage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-boolean-">getFirstHeadPage</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
                boolean&nbsp;wait)</code>
<div class="block">Get the first valid page in the container</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#getHeadPage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-long-boolean-">getHeadPage</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
           long&nbsp;pageNumber,
           boolean&nbsp;wait)</code>
<div class="block">Get only a valid, non-overflow page.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#getInsertablePage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-long-boolean-boolean-">getInsertablePage</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
                 long&nbsp;pageNumber,
                 boolean&nbsp;wait,
                 boolean&nbsp;overflowOK)</code>&nbsp;</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#getLastInsertedPage--">getLastInsertedPage</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#getLastPageNumber-org.apache.derby.impl.store.raw.data.BaseContainerHandle-">getLastPageNumber</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle)</code>&nbsp;</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#getLastUnfilledPage--">getLastUnfilledPage</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#getLatchedPage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-long-">getLatchedPage</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
              long&nbsp;pageNumber)</code>
<div class="block">Get a latched page.</div>
</td>
</tr>
<tr id="i37" class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#getMinimumRecordSize--">getMinimumRecordSize</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i38" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#getNextHeadPage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-long-boolean-">getNextHeadPage</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
               long&nbsp;pageNumber,
               boolean&nbsp;wait)</code>
<div class="block">Get the next page in the container.</div>
</td>
</tr>
<tr id="i39" class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#getPage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-long-boolean-">getPage</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
       long&nbsp;pageNumber,
       boolean&nbsp;wait)</code>
<div class="block">Get a valid (non-deallocated or free) page in the container.</div>
</td>
</tr>
<tr id="i40" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#getPageForCompress-org.apache.derby.impl.store.raw.data.BaseContainerHandle-int-long-">getPageForCompress</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
                  int&nbsp;flag,
                  long&nbsp;pageno)</code>
<div class="block">Get candidate page to move a row for compressing the table.</div>
</td>
</tr>
<tr id="i41" class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#getPageForInsert-org.apache.derby.impl.store.raw.data.BaseContainerHandle-int-">getPageForInsert</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
                int&nbsp;flag)</code>
<div class="block">Get a potentially suitable page for insert and latch it.</div>
</td>
</tr>
<tr id="i42" class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#getPageSize--">getPageSize</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i43" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#getReusableRecordIdSequenceNumber--">getReusableRecordIdSequenceNumber</a></span>()</code>
<div class="block">Get the reusable RecordId sequence number for the container.</div>
</td>
</tr>
<tr id="i44" class="altColor">
<td class="colFirst"><code>private static java.lang.Object</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#getServiceModule-java.lang.Object-java.lang.String-">getServiceModule</a></span>(java.lang.Object&nbsp;serviceModule,
                java.lang.String&nbsp;factoryInterface)</code>
<div class="block">Privileged module lookup.</div>
</td>
</tr>
<tr id="i45" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/access/SpaceInfo.html" title="interface in org.apache.derby.iapi.store.access">SpaceInfo</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#getSpaceInfo-org.apache.derby.impl.store.raw.data.BaseContainerHandle-">getSpaceInfo</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle)</code>
<div class="block">Get information about space used by the container.</div>
</td>
</tr>
<tr id="i46" class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#getSpareSpace--">getSpareSpace</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i47" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#getTypeFormatId--">getTypeFormatId</a></span>()</code>
<div class="block">Return my format identifier.</div>
</td>
</tr>
<tr id="i48" class="altColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#getUnfilledPageNumber-org.apache.derby.impl.store.raw.data.BaseContainerHandle-long-">getUnfilledPageNumber</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
                     long&nbsp;pagenum)</code>&nbsp;</td>
</tr>
<tr id="i49" class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#getUserPage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-long-boolean-boolean-">getUserPage</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
           long&nbsp;pageNumber,
           boolean&nbsp;overflowOK,
           boolean&nbsp;wait)</code>
<div class="block">Get a page in the container.</div>
</td>
</tr>
<tr id="i50" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#incrementReusableRecordIdSequenceNumber--">incrementReusableRecordIdSequenceNumber</a></span>()</code>
<div class="block">Increment the reusable RecordId version sequence number.</div>
</td>
</tr>
<tr id="i51" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#initContainerHeader-boolean-">initContainerHeader</a></span>(boolean&nbsp;changeContainer)</code>&nbsp;</td>
</tr>
<tr id="i52" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#initializeLastInsertedPage-int-">initializeLastInsertedPage</a></span>(int&nbsp;size)</code>&nbsp;</td>
</tr>
<tr id="i53" class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#initPage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-org.apache.derby.iapi.store.raw.PageKey-org.apache.derby.impl.store.raw.data.PageCreationArgs-long-boolean-boolean-">initPage</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;allochandle,
        <a href="../../../../../../../org/apache/derby/iapi/store/raw/PageKey.html" title="class in org.apache.derby.iapi.store.raw">PageKey</a>&nbsp;pkey,
        <a href="../../../../../../../org/apache/derby/impl/store/raw/data/PageCreationArgs.html" title="class in org.apache.derby.impl.store.raw.data">PageCreationArgs</a>&nbsp;createArgs,
        long&nbsp;pageOffset,
        boolean&nbsp;reuse,
        boolean&nbsp;overflow)</code>
<div class="block">Initialize a page</div>
</td>
</tr>
<tr id="i54" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#isDirty--">isDirty</a></span>()</code>
<div class="block">We treat this container as dirty if it has the container file open.</div>
</td>
</tr>
<tr id="i55" class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#latchPage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-org.apache.derby.impl.store.raw.data.BasePage-boolean-">latchPage</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
         <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a>&nbsp;foundPage,
         boolean&nbsp;wait)</code>&nbsp;</td>
</tr>
<tr id="i56" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#letGo-org.apache.derby.impl.store.raw.data.BaseContainerHandle-">letGo</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle)</code>
<div class="block">The container is kept by the find() in File.openContainer.</div>
</td>
</tr>
<tr id="i57" class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/iapi/util/ByteArray.html" title="class in org.apache.derby.iapi.util">ByteArray</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#logCreateContainerInfo--">logCreateContainerInfo</a></span>()</code>
<div class="block">Log all information on the container creation necessary to recreate the
                container during a load tran.</div>
</td>
</tr>
<tr id="i58" class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html" title="class in org.apache.derby.impl.store.raw.data">AllocPage</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#makeAllocPage-org.apache.derby.iapi.store.raw.xact.RawTransaction-org.apache.derby.impl.store.raw.data.BaseContainerHandle-long-long-int-">makeAllocPage</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;ntt,
             <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
             long&nbsp;pageNumber,
             long&nbsp;pageOffset,
             int&nbsp;containerInfoSize)</code>&nbsp;</td>
</tr>
<tr id="i59" class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#newPage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-org.apache.derby.iapi.store.raw.xact.RawTransaction-org.apache.derby.impl.store.raw.data.BaseContainerHandle-boolean-">newPage</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;userHandle,
       <a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;ntt,
       <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;allocHandle,
       boolean&nbsp;isOverflow)</code>
<div class="block">Create a new page in the container.</div>
</td>
</tr>
<tr id="i60" class="altColor">
<td class="colFirst"><code>(package private) abstract boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#openContainer-org.apache.derby.iapi.store.raw.ContainerKey-">openContainer</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;newIdentity)</code>
<div class="block">Open a container.</div>
</td>
</tr>
<tr id="i61" class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#pageValid-org.apache.derby.impl.store.raw.data.BaseContainerHandle-long-">pageValid</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
         long&nbsp;pagenum)</code>&nbsp;</td>
</tr>
<tr id="i62" class="altColor">
<td class="colFirst"><code>protected abstract int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#preAllocate-long-int-">preAllocate</a></span>(long&nbsp;lastPreallocPagenum,
           int&nbsp;preAllocSize)</code>
<div class="block">preAllocate writes out the preallocated pages to disk if necessary.</div>
</td>
</tr>
<tr id="i63" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#preDirty-boolean-">preDirty</a></span>(boolean&nbsp;preDirtyOn)</code>
<div class="block">The container is about to be modified.</div>
</td>
</tr>
<tr id="i64" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#prepareForBulkLoad-org.apache.derby.impl.store.raw.data.BaseContainerHandle-int-">prepareForBulkLoad</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
                  int&nbsp;numPage)</code>
<div class="block">The container will be grown vastly, prepare for it.</div>
</td>
</tr>
<tr id="i65" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#readHeader-byte:A-">readHeader</a></span>(byte[]&nbsp;epage)</code>
<div class="block">Read the container's header.</div>
</td>
</tr>
<tr id="i66" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#readHeaderFromArray-byte:A-">readHeaderFromArray</a></span>(byte[]&nbsp;a)</code>
<div class="block">Read containerInfo from a byte array
                The container Header array must be written by or of
                the same format as put together by writeHeaderFromArray.</div>
</td>
</tr>
<tr id="i67" class="rowColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#readPage-long-byte:A-">readPage</a></span>(long&nbsp;pageNumber,
        byte[]&nbsp;pageData)</code>
<div class="block">Read a page into the supplied array.</div>
</td>
</tr>
<tr id="i68" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#reCreatePageForRedoRecovery-org.apache.derby.impl.store.raw.data.BaseContainerHandle-int-long-long-">reCreatePageForRedoRecovery</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
                           int&nbsp;pageFormat,
                           long&nbsp;pageNumber,
                           long&nbsp;pageOffset)</code>
<div class="block">ReCreate a page for rollforward recovery.</div>
</td>
</tr>
<tr id="i69" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#setDirty-boolean-">setDirty</a></span>(boolean&nbsp;dirty)</code>&nbsp;</td>
</tr>
<tr id="i70" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#setEstimatedRowCount-long-int-">setEstimatedRowCount</a></span>(long&nbsp;count,
                    int&nbsp;flag)</code>&nbsp;</td>
</tr>
<tr id="i71" class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/iapi/services/cache/Cacheable.html" title="interface in org.apache.derby.iapi.services.cache">Cacheable</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#setIdent-org.apache.derby.iapi.store.raw.ContainerKey-">setIdent</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;newIdentity)</code>
<div class="block">Open the container.</div>
</td>
</tr>
<tr id="i72" class="altColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/services/cache/Cacheable.html" title="interface in org.apache.derby.iapi.services.cache">Cacheable</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#setIdentity-java.lang.Object-">setIdentity</a></span>(java.lang.Object&nbsp;key)</code>
<div class="block">Open the container.</div>
</td>
</tr>
<tr id="i73" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#setLastInsertedPage-long-">setLastInsertedPage</a></span>(long&nbsp;val)</code>&nbsp;</td>
</tr>
<tr id="i74" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#setLastUnfilledPage-long-">setLastUnfilledPage</a></span>(long&nbsp;val)</code>&nbsp;</td>
</tr>
<tr id="i75" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#switchToMultiInsertPageMode-org.apache.derby.impl.store.raw.data.BaseContainerHandle-">switchToMultiInsertPageMode</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle)</code>&nbsp;</td>
</tr>
<tr id="i76" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#trackUnfilledPage-long-boolean-">trackUnfilledPage</a></span>(long&nbsp;pagenumber,
                 boolean&nbsp;unfilled)</code>&nbsp;</td>
</tr>
<tr id="i77" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#updateEstimatedRowCount-int-">updateEstimatedRowCount</a></span>(int&nbsp;delta)</code>
<div class="block">Update estimated row count by page as it leaves the cache.</div>
</td>
</tr>
<tr id="i78" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#writeAtOffset-org.apache.derby.io.StorageRandomAccessFile-byte:A-long-">writeAtOffset</a></span>(<a href="../../../../../../../org/apache/derby/io/StorageRandomAccessFile.html" title="interface in org.apache.derby.io">StorageRandomAccessFile</a>&nbsp;file,
             byte[]&nbsp;bytes,
             long&nbsp;offset)</code>
<div class="block">Write a sequence of bytes at the given offset in a file.</div>
</td>
</tr>
<tr id="i79" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#writeHeader-java.lang.Object-byte:A-">writeHeader</a></span>(java.lang.Object&nbsp;identity,
           byte[]&nbsp;pageData)</code>
<div class="block">Write the container header to a page array (the first allocation page)</div>
</td>
</tr>
<tr id="i80" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#writeHeader-java.lang.Object-org.apache.derby.io.StorageRandomAccessFile-boolean-byte:A-">writeHeader</a></span>(java.lang.Object&nbsp;identity,
           <a href="../../../../../../../org/apache/derby/io/StorageRandomAccessFile.html" title="interface in org.apache.derby.io">StorageRandomAccessFile</a>&nbsp;file,
           boolean&nbsp;create,
           byte[]&nbsp;epage)</code>
<div class="block">Write the container header directly to file.</div>
</td>
</tr>
<tr id="i81" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#writeHeaderToArray-byte:A-">writeHeaderToArray</a></span>(byte[]&nbsp;a)</code>
<div class="block">Write containerInfo into a byte array
                The container Header thus put together can be read by readHeaderFromArray.</div>
</td>
</tr>
<tr id="i82" class="altColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html#writePage-long-byte:A-boolean-">writePage</a></span>(long&nbsp;pageNumber,
         byte[]&nbsp;pageData,
         boolean&nbsp;syncPage)</code>
<div class="block">Write a page from the supplied array.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.derby.impl.store.raw.data.BaseContainer">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.derby.impl.store.raw.data.<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainer</a></h3>
<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#addPage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-boolean-">addPage</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#compressContainer-org.apache.derby.impl.store.raw.data.BaseContainerHandle-">compressContainer</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#encryptOrDecryptContainer-org.apache.derby.impl.store.raw.data.BaseContainerHandle-java.lang.String-boolean-">encryptOrDecryptContainer</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#fillInIdentity-org.apache.derby.iapi.store.raw.ContainerKey-">fillInIdentity</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#flushAll--">flushAll</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#getAllocPage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-long-boolean-">getAllocPage</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#getAnyPage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-long-boolean-">getAnyPage</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#getCommittedDropState--">getCommittedDropState</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#getContainerId--">getContainerId</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#getContainerStatus--">getContainerStatus</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#getDeallocLock-org.apache.derby.impl.store.raw.data.BaseContainerHandle-org.apache.derby.iapi.store.raw.RecordHandle-boolean-boolean-">getDeallocLock</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#getDroppedState--">getDroppedState</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#getFirstPage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-">getFirstPage</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#getIdentity--">getIdentity</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#getNextPage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-long-">getNextPage</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#getSegmentId--">getSegmentId</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#isReusableRecordId--">isReusableRecordId</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#lockAttributes-int-java.util.Hashtable-">lockAttributes</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#lockerAlwaysCompatible--">lockerAlwaysCompatible</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#lockEvent-org.apache.derby.iapi.services.locks.Latch-">lockEvent</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#removeContainer-org.apache.derby.iapi.store.raw.log.LogInstant-boolean-">removeContainer</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#removePage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-org.apache.derby.impl.store.raw.data.BasePage-">removePage</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#requestCompatible-java.lang.Object-java.lang.Object-">requestCompatible</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#setCommittedDropState-boolean-">setCommittedDropState</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#setDroppedState-boolean-">setDroppedState</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#setReusableRecordIdState-boolean-">setReusableRecordIdState</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#truncate-org.apache.derby.impl.store.raw.data.BaseContainerHandle-">truncate</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#truncatePages-long-">truncatePages</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#unlockEvent-org.apache.derby.iapi.services.locks.Latch-">unlockEvent</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#use-org.apache.derby.impl.store.raw.data.BaseContainerHandle-boolean-boolean-">use</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.derby.iapi.services.cache.Cacheable">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.apache.derby.iapi.services.cache.<a href="../../../../../../../org/apache/derby/iapi/services/cache/Cacheable.html" title="interface in org.apache.derby.iapi.services.cache">Cacheable</a></h3>
<code><a href="../../../../../../../org/apache/derby/iapi/services/cache/Cacheable.html#clean-boolean-">clean</a>, <a href="../../../../../../../org/apache/derby/iapi/services/cache/Cacheable.html#getIdentity--">getIdentity</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="formatIdInteger">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>formatIdInteger</h4>
<pre>protected static final&nbsp;int formatIdInteger</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.FileContainer.formatIdInteger">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="pageCache">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pageCache</h4>
<pre>protected final&nbsp;<a href="../../../../../../../org/apache/derby/iapi/services/cache/CacheManager.html" title="interface in org.apache.derby.iapi.services.cache">CacheManager</a> pageCache</pre>
</li>
</ul>
<a name="containerCache">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>containerCache</h4>
<pre>protected final&nbsp;<a href="../../../../../../../org/apache/derby/iapi/services/cache/CacheManager.html" title="interface in org.apache.derby.iapi.services.cache">CacheManager</a> containerCache</pre>
</li>
</ul>
<a name="dataFactory">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dataFactory</h4>
<pre>protected final&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html" title="class in org.apache.derby.impl.store.raw.data">BaseDataFileFactory</a> dataFactory</pre>
</li>
</ul>
<a name="pageSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pageSize</h4>
<pre>protected&nbsp;int pageSize</pre>
</li>
</ul>
<a name="spareSpace">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>spareSpace</h4>
<pre>protected&nbsp;int spareSpace</pre>
</li>
</ul>
<a name="minimumRecordSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>minimumRecordSize</h4>
<pre>protected&nbsp;int minimumRecordSize</pre>
</li>
</ul>
<a name="initialPages">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initialPages</h4>
<pre>protected&nbsp;short initialPages</pre>
</li>
</ul>
<a name="canUpdate">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>canUpdate</h4>
<pre>protected&nbsp;boolean canUpdate</pre>
</li>
</ul>
<a name="PreAllocThreshold">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PreAllocThreshold</h4>
<pre>private&nbsp;int PreAllocThreshold</pre>
</li>
</ul>
<a name="PreAllocSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PreAllocSize</h4>
<pre>private&nbsp;int PreAllocSize</pre>
</li>
</ul>
<a name="bulkIncreaseContainerSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bulkIncreaseContainerSize</h4>
<pre>private&nbsp;boolean bulkIncreaseContainerSize</pre>
</li>
</ul>
<a name="PRE_ALLOC_THRESHOLD">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PRE_ALLOC_THRESHOLD</h4>
<pre>private static final&nbsp;int PRE_ALLOC_THRESHOLD</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.FileContainer.PRE_ALLOC_THRESHOLD">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="MIN_PRE_ALLOC_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MIN_PRE_ALLOC_SIZE</h4>
<pre>private static final&nbsp;int MIN_PRE_ALLOC_SIZE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.FileContainer.MIN_PRE_ALLOC_SIZE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="DEFAULT_PRE_ALLOC_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_PRE_ALLOC_SIZE</h4>
<pre>private static final&nbsp;int DEFAULT_PRE_ALLOC_SIZE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.FileContainer.DEFAULT_PRE_ALLOC_SIZE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="MAX_PRE_ALLOC_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MAX_PRE_ALLOC_SIZE</h4>
<pre>private static final&nbsp;int MAX_PRE_ALLOC_SIZE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.FileContainer.MAX_PRE_ALLOC_SIZE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="firstAllocPageNumber">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>firstAllocPageNumber</h4>
<pre>protected&nbsp;long firstAllocPageNumber</pre>
</li>
</ul>
<a name="firstAllocPageOffset">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>firstAllocPageOffset</h4>
<pre>protected&nbsp;long firstAllocPageOffset</pre>
</li>
</ul>
<a name="containerVersion">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>containerVersion</h4>
<pre>protected&nbsp;long containerVersion</pre>
</li>
</ul>
<a name="estimatedRowCount">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>estimatedRowCount</h4>
<pre>protected&nbsp;long estimatedRowCount</pre>
</li>
</ul>
<a name="lastLogInstant">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastLogInstant</h4>
<pre>protected&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a> lastLogInstant</pre>
</li>
</ul>
<a name="reusableRecordIdSequenceNumber">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reusableRecordIdSequenceNumber</h4>
<pre>private&nbsp;long reusableRecordIdSequenceNumber</pre>
<div class="block">The sequence number for reusable recordIds . 
 As long as this number does not change, recordIds will be stable within
 the container.</div>
</li>
</ul>
<a name="lastInsertedPage">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastInsertedPage</h4>
<pre>private&nbsp;long[] lastInsertedPage</pre>
<div class="block">The page that was last inserted into.  Use this for getPageForInsert.
                Remember the last allocated non-overflow page, and remember it in
                memory only.
                Use Get/Set method to access this field except when we know it is
                being single thread access.</div>
</li>
</ul>
<a name="lastInsertedPage_index">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastInsertedPage_index</h4>
<pre>private&nbsp;int lastInsertedPage_index</pre>
</li>
</ul>
<a name="lastUnfilledPage">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastUnfilledPage</h4>
<pre>private&nbsp;long lastUnfilledPage</pre>
<div class="block">The last unfilled page found.  Use this for getPageForInsert.
                Remember the last unfilled page found, and remember it in memory only.
                Use Get/Set method to access this field except when we know it is
                being single thread access.</div>
</li>
</ul>
<a name="lastAllocatedPage">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastAllocatedPage</h4>
<pre>private&nbsp;long lastAllocatedPage</pre>
<div class="block">The last allocated page.  This global var is access *without*
                synchronization.  It is used as a hint for page allocation to find the
                next reusable page.</div>
</li>
</ul>
<a name="estimatedPageCount">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>estimatedPageCount</h4>
<pre>private&nbsp;long estimatedPageCount</pre>
<div class="block">An estimated page count. Use this for getEstimatedPagecount.
                Remember it in memory only.</div>
</li>
</ul>
<a name="preDirty">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>preDirty</h4>
<pre>protected&nbsp;boolean preDirty</pre>
</li>
</ul>
<a name="isDirty">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isDirty</h4>
<pre>protected&nbsp;boolean isDirty</pre>
</li>
</ul>
<a name="allocCache">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allocCache</h4>
<pre>protected&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocationCache.html" title="class in org.apache.derby.impl.store.raw.data">AllocationCache</a> allocCache</pre>
</li>
</ul>
<a name="containerInfo">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>containerInfo</h4>
<pre>byte[] containerInfo</pre>
</li>
</ul>
<a name="checksum">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checksum</h4>
<pre>private&nbsp;java.util.zip.CRC32 checksum</pre>
</li>
</ul>
<a name="encryptionBuffer">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>encryptionBuffer</h4>
<pre>private&nbsp;byte[] encryptionBuffer</pre>
</li>
</ul>
<a name="CONTAINER_FORMAT_ID_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CONTAINER_FORMAT_ID_SIZE</h4>
<pre>private static final&nbsp;int CONTAINER_FORMAT_ID_SIZE</pre>
<div class="block">the container format must fit in this many bytes</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.FileContainer.CONTAINER_FORMAT_ID_SIZE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="CHECKSUM_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CHECKSUM_SIZE</h4>
<pre>protected static final&nbsp;int CHECKSUM_SIZE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.FileContainer.CHECKSUM_SIZE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="CONTAINER_INFO_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CONTAINER_INFO_SIZE</h4>
<pre>protected static final&nbsp;int CONTAINER_INFO_SIZE</pre>
<div class="block">The size of the persistently stored container info
                ContainerHeader contains the following information:
                4 bytes int     FormatId
                4 bytes int     status
                4 bytes int     pageSize
                4 bytes int     spareSpace
                4 bytes int minimumRecordSize
                2 bytes short initialPages
                2 bytes short spare1
                8 bytes long    first Allocation page number
                8 bytes long    first Allocation page offset
                8 bytes long    container version
                8 bytes long    estimated number of rows
                8 bytes long    reusable recordId sequence number
                8 bytes long    spare3
                8 bytes long    checksum
                container info size is 80 bytes, with 10 bytes of spare space</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.FileContainer.CONTAINER_INFO_SIZE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="FIRST_ALLOC_PAGE_NUMBER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FIRST_ALLOC_PAGE_NUMBER</h4>
<pre>public static final&nbsp;long FIRST_ALLOC_PAGE_NUMBER</pre>
<div class="block">where the first alloc page is located - 
 the logical page number and the physical page offset
 NOTE if it is not 0 this is not going to work for Stream 
 file which doesn't support seek</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.FileContainer.FIRST_ALLOC_PAGE_NUMBER">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="FIRST_ALLOC_PAGE_OFFSET">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FIRST_ALLOC_PAGE_OFFSET</h4>
<pre>public static final&nbsp;long FIRST_ALLOC_PAGE_OFFSET</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.FileContainer.FIRST_ALLOC_PAGE_OFFSET">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="FILE_DROPPED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FILE_DROPPED</h4>
<pre>private static final&nbsp;int FILE_DROPPED</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.FileContainer.FILE_DROPPED">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="FILE_COMMITTED_DROP">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FILE_COMMITTED_DROP</h4>
<pre>private static final&nbsp;int FILE_COMMITTED_DROP</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.FileContainer.FILE_COMMITTED_DROP">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="FILE_REUSABLE_RECORDID">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FILE_REUSABLE_RECORDID</h4>
<pre>private static final&nbsp;int FILE_REUSABLE_RECORDID</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.FileContainer.FILE_REUSABLE_RECORDID">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="SPACE_TRACE">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SPACE_TRACE</h4>
<pre>protected static final&nbsp;java.lang.String SPACE_TRACE</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="FileContainer-org.apache.derby.impl.store.raw.data.BaseDataFileFactory-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>FileContainer</h4>
<pre>FileContainer(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html" title="class in org.apache.derby.impl.store.raw.data">BaseDataFileFactory</a>&nbsp;factory)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getTypeFormatId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTypeFormatId</h4>
<pre>public&nbsp;int&nbsp;getTypeFormatId()</pre>
<div class="block">Return my format identifier.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/services/io/TypedFormat.html#getTypeFormatId--">getTypeFormatId</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/services/io/TypedFormat.html" title="interface in org.apache.derby.iapi.services.io">TypedFormat</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The identifier. (A UUID stuffed in an array
          of 16 bytes).</dd>
</dl>
</li>
</ul>
<a name="getSpaceInfo-org.apache.derby.impl.store.raw.data.BaseContainerHandle-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSpaceInfo</h4>
<pre>public&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/access/SpaceInfo.html" title="interface in org.apache.derby.iapi.store.access">SpaceInfo</a>&nbsp;getSpaceInfo(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle)
                       throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Get information about space used by the container.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#getSpaceInfo-org.apache.derby.impl.store.raw.data.BaseContainerHandle-">getSpaceInfo</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainer</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="setIdentity-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setIdentity</h4>
<pre>public&nbsp;<a href="../../../../../../../org/apache/derby/iapi/services/cache/Cacheable.html" title="interface in org.apache.derby.iapi.services.cache">Cacheable</a>&nbsp;setIdentity(java.lang.Object&nbsp;key)
                      throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Open the container.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/services/cache/Cacheable.html#setIdentity-java.lang.Object-">setIdentity</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/services/cache/Cacheable.html" title="interface in org.apache.derby.iapi.services.cache">Cacheable</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a valid object if the container was successfully opened, null if
                it does not exist.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Some problem in opening a container.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/services/cache/Cacheable.html#setIdentity-java.lang.Object-"><code>Cacheable.setIdentity(java.lang.Object)</code></a></dd>
</dl>
</li>
</ul>
<a name="setIdent-org.apache.derby.iapi.store.raw.ContainerKey-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setIdent</h4>
<pre>protected&nbsp;<a href="../../../../../../../org/apache/derby/iapi/services/cache/Cacheable.html" title="interface in org.apache.derby.iapi.services.cache">Cacheable</a>&nbsp;setIdent(<a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;newIdentity)
                      throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Open the container.
 <p>
 Open the container with key "newIdentity".
 <p>
 should be same name as setIdentity but seems to cause method resolution 
 ambiguities</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Some problem in opening a container.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/services/cache/Cacheable.html#setIdentity-java.lang.Object-"><code>Cacheable.setIdentity(java.lang.Object)</code></a></dd>
</dl>
</li>
</ul>
<a name="createIdentity-java.lang.Object-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createIdentity</h4>
<pre>public&nbsp;<a href="../../../../../../../org/apache/derby/iapi/services/cache/Cacheable.html" title="interface in org.apache.derby.iapi.services.cache">Cacheable</a>&nbsp;createIdentity(java.lang.Object&nbsp;key,
                                java.lang.Object&nbsp;createParameter)
                         throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/services/cache/Cacheable.html#createIdentity-java.lang.Object-java.lang.Object-">Cacheable</a></code></span></div>
<div class="block">Create a new item.
        <p>
                Create a new item and set the identity of the object to represent it.
                The object will be in the No Identity state,
                ie. it will have just been created or clearIdentity() was just called. 
                <BR>
                The object must copy the information out of key, not just store a reference to key
                if the key is not immutable.
                After this call the expression getIdentity().equals(key) must return true.
                <BR>
                <BR>
                If the class of the object needs to change (e.g. to support a different format)
                then the object should create a new object, call its initParameter() with the parameters
                the original object was called with, set its identity and return a reference to it. The cache
                manager will discard the reference to the old object. 
                <BR>
                If an exception is thrown the object must be left in the no-identity state.

                <BR> MT - single thread required - Method must only be called be cache manager
                and the cache manager will guarantee only one thread can be calling it.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/services/cache/Cacheable.html#createIdentity-java.lang.Object-java.lang.Object-">createIdentity</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/services/cache/Cacheable.html" title="interface in org.apache.derby.iapi.services.cache">Cacheable</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an object reference if the object can take on the identity, null otherwise.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - If forCreate is true and the object cannot be created.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/services/cache/CacheManager.html#create-java.lang.Object-java.lang.Object-"><code>CacheManager.create(java.lang.Object, java.lang.Object)</code></a></dd>
</dl>
</li>
</ul>
<a name="createIdent-org.apache.derby.iapi.store.raw.ContainerKey-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createIdent</h4>
<pre>protected&nbsp;<a href="../../../../../../../org/apache/derby/iapi/services/cache/Cacheable.html" title="interface in org.apache.derby.iapi.services.cache">Cacheable</a>&nbsp;createIdent(<a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;newIdentity,
                                java.lang.Object&nbsp;createParameter)
                         throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="clearIdentity--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearIdentity</h4>
<pre>public&nbsp;void&nbsp;clearIdentity()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/services/cache/Cacheable.html#clearIdentity--">Cacheable</a></code></span></div>
<div class="block">Put the object into the No Identity state. 

                <BR> MT - single thread required - Method must only be called be cache manager
                and the cache manager will guarantee only one thread can be calling it.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/services/cache/Cacheable.html#clearIdentity--">clearIdentity</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/services/cache/Cacheable.html" title="interface in org.apache.derby.iapi.services.cache">Cacheable</a></code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#clearIdentity--">clearIdentity</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainer</a></code></dd>
</dl>
</li>
</ul>
<a name="isDirty--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isDirty</h4>
<pre>public&nbsp;boolean&nbsp;isDirty()</pre>
<div class="block">We treat this container as dirty if it has the container file open.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/services/cache/Cacheable.html#isDirty--">isDirty</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/services/cache/Cacheable.html" title="interface in org.apache.derby.iapi.services.cache">Cacheable</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/services/cache/Cacheable.html#isDirty--"><code>Cacheable.isDirty()</code></a></dd>
</dl>
</li>
</ul>
<a name="preDirty-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>preDirty</h4>
<pre>public&nbsp;void&nbsp;preDirty(boolean&nbsp;preDirtyOn)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#preDirty-boolean-">BaseContainer</a></code></span></div>
<div class="block">The container is about to be modified.
                Loggable actions use this to make sure the container gets cleaned if a
                checkpoint is taken after any log record is sent to the log stream but
                before the container is actually dirtied.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#preDirty-boolean-">preDirty</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainer</a></code></dd>
</dl>
</li>
</ul>
<a name="setDirty-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDirty</h4>
<pre>protected&nbsp;void&nbsp;setDirty(boolean&nbsp;dirty)</pre>
</li>
</ul>
<a name="createContainer-org.apache.derby.iapi.store.raw.ContainerKey-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createContainer</h4>
<pre>abstract&nbsp;void&nbsp;createContainer(<a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;newIdentity)
                       throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Create a new container.
 <p>
 Create a new container, all references to identity must be through the
 passed in identity, this object will no identity until after this 
 method returns.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Derby Standard error policy</dd>
</dl>
</li>
</ul>
<a name="openContainer-org.apache.derby.iapi.store.raw.ContainerKey-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openContainer</h4>
<pre>abstract&nbsp;boolean&nbsp;openContainer(<a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;newIdentity)
                        throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Open a container.
 <p>
 Longer descrption of routine.
 <p>
 Open a container. Open the file that maps to this container, if the
 file does not exist then we assume the container was never created.
 If the file exists but we have trouble opening it then we throw some 
 exception.

 <BR> MT - single thread required - Enforced by cache manager.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="closeContainer--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeContainer</h4>
<pre>abstract&nbsp;void&nbsp;closeContainer()</pre>
</li>
</ul>
<a name="dropContainer-org.apache.derby.iapi.store.raw.log.LogInstant-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dropContainer</h4>
<pre>protected&nbsp;void&nbsp;dropContainer(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant,
                             boolean&nbsp;isDropped)</pre>
<div class="block">Drop Container.
 <p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#dropContainer-org.apache.derby.iapi.store.raw.log.LogInstant-boolean-">dropContainer</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainer</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#dropContainer-org.apache.derby.iapi.store.raw.ContainerKey-"><code>Transaction.dropContainer(org.apache.derby.iapi.store.raw.ContainerKey)</code></a></dd>
</dl>
</li>
</ul>
<a name="bumpContainerVersion-org.apache.derby.iapi.store.raw.log.LogInstant-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bumpContainerVersion</h4>
<pre>protected final&nbsp;void&nbsp;bumpContainerVersion(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant)</pre>
<div class="block">increment the version by one and return the new version.

                <BR> MT - caller must synchronized this in the same sync block that
                modifies the container header.</div>
</li>
</ul>
<a name="getContainerVersion--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getContainerVersion</h4>
<pre>protected&nbsp;long&nbsp;getContainerVersion()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#getContainerVersion--">BaseContainer</a></code></span></div>
<div class="block">Get the logged container version.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#getContainerVersion--">getContainerVersion</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainer</a></code></dd>
</dl>
</li>
</ul>
<a name="getContainerProperties-java.util.Properties-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getContainerProperties</h4>
<pre>public&nbsp;void&nbsp;getContainerProperties(java.util.Properties&nbsp;prop)
                            throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Request the system properties associated with a container. 
 <p>
 Request the value of properties that are associated with a container. 
 The following properties can be requested:
     derby.storage.pageSize 
     derby.storage.pageReservedSpace
     derby.storage.minimumRecordSize
     derby.storage.reusableRecordId
     derby.storage.initialPages
 <p>
 To get the value of a particular property add it to the property list,
 and on return the value of the property will be set to it's current 
 value.  For example:

 get_prop(ConglomerateController cc)
 {
     Properties prop = new Properties();
     prop.put("derby.storage.pageSize", "");
     cc.getContainerProperties(prop);

     System.out.println(
         "table's page size = " + 
         prop.getProperty("derby.storage.pageSize");
 }</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#getContainerProperties-java.util.Properties-">getContainerProperties</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainer</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>prop</code> - Property list to fill in.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="readHeader-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readHeader</h4>
<pre>protected&nbsp;void&nbsp;readHeader(byte[]&nbsp;epage)
                   throws java.io.IOException,
                          <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Read the container's header.

        When this method is called, the embryonic page that is passed in must
        have been read directly from the file or the input stream, even if the
        alloc page may still be in cache.  This is because a stubbify operation
        only writes the stub to disk, it does not get rid of any stale page
        from the page cache.  So if it so happens that the stubbified container
        object is aged out of the container cache but the first alloc page
        hasn't, then when any stale page of this container wants to be written
        out, the container needs to be reopened, which is when this routine is
        called.  We must not get the alloc page in cache because it may be
        stale page and it may still say the container has not been dropped.

                <BR> MT - single thread required - Enforced by caller.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>epage</code> - the embryonic page to read the header from</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Derby Standard error policy</dd>
<dd><code>java.io.IOException</code> - error in reading the header from file</dd>
</dl>
</li>
</ul>
<a name="initContainerHeader-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initContainerHeader</h4>
<pre>private&nbsp;void&nbsp;initContainerHeader(boolean&nbsp;changeContainer)</pre>
</li>
</ul>
<a name="readHeaderFromArray-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readHeaderFromArray</h4>
<pre>private&nbsp;void&nbsp;readHeaderFromArray(byte[]&nbsp;a)
                          throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a>,
                                 java.io.IOException</pre>
<div class="block">Read containerInfo from a byte array
                The container Header array must be written by or of
                the same format as put together by writeHeaderFromArray.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Derby Standard error policy</dd>
<dd><code>java.io.IOException</code> - error in reading the header from file</dd>
</dl>
</li>
</ul>
<a name="writeHeader-java.lang.Object-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeHeader</h4>
<pre>protected&nbsp;void&nbsp;writeHeader(java.lang.Object&nbsp;identity,
                           byte[]&nbsp;pageData)
                    throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a>,
                           java.io.IOException</pre>
<div class="block">Write the container header to a page array (the first allocation page)</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Derby Standard error policy</dd>
<dd><code>java.io.IOException</code> - error in writing the header to file</dd>
</dl>
</li>
</ul>
<a name="writeHeader-java.lang.Object-org.apache.derby.io.StorageRandomAccessFile-boolean-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeHeader</h4>
<pre>protected&nbsp;void&nbsp;writeHeader(java.lang.Object&nbsp;identity,
                           <a href="../../../../../../../org/apache/derby/io/StorageRandomAccessFile.html" title="interface in org.apache.derby.io">StorageRandomAccessFile</a>&nbsp;file,
                           boolean&nbsp;create,
                           byte[]&nbsp;epage)
                    throws java.io.IOException,
                           <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Write the container header directly to file.

                Subclasses that can writes the container header is expected to
                manufacture a DataOutput stream which is used here.

                <BR> MT - single thread required - Enforced by caller</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Derby Standard error policy</dd>
<dd><code>java.io.IOException</code> - error in writing the header to file</dd>
</dl>
</li>
</ul>
<a name="writeAtOffset-org.apache.derby.io.StorageRandomAccessFile-byte:A-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeAtOffset</h4>
<pre>void&nbsp;writeAtOffset(<a href="../../../../../../../org/apache/derby/io/StorageRandomAccessFile.html" title="interface in org.apache.derby.io">StorageRandomAccessFile</a>&nbsp;file,
                   byte[]&nbsp;bytes,
                   long&nbsp;offset)
            throws java.io.IOException,
                   <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Write a sequence of bytes at the given offset in a file. This method
 is not thread safe, so the caller must make sure that no other thread
 is performing operations that may change current position in the file.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>file</code> - the file to write to</dd>
<dd><code>bytes</code> - the bytes to write</dd>
<dd><code>offset</code> - the offset to start writing at</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if an I/O error occurs while writing</dd>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Derby Standard error policy</dd>
</dl>
</li>
</ul>
<a name="getEmbryonicPage-java.io.DataInput-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEmbryonicPage</h4>
<pre>protected&nbsp;byte[]&nbsp;getEmbryonicPage(java.io.DataInput&nbsp;fileData)
                           throws java.io.IOException,
                                  <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Get an embryonic page from the dataInput stream.

                The embryonic page will be read
                in from the input stream (fileData), which is assumed to be 
                positioned at the beginning of the first allocation page.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - error in read the embryonic page from file</dd>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Derby Standard error policy</dd>
</dl>
</li>
</ul>
<a name="getEmbryonicPage-org.apache.derby.io.StorageRandomAccessFile-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEmbryonicPage</h4>
<pre>byte[]&nbsp;getEmbryonicPage(<a href="../../../../../../../org/apache/derby/io/StorageRandomAccessFile.html" title="interface in org.apache.derby.io">StorageRandomAccessFile</a>&nbsp;file,
                        long&nbsp;offset)
                 throws java.io.IOException,
                        <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Read an embryonic page (that is, a section of the first alloc page that
 is so large that we know all the borrowed space is included in it) from
 the specified offset in a <code>StorageRandomAccessFile</code>. This method
 is not thread safe, so the caller must make sure that no other thread
 is performing operations that may change current position in the file.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>file</code> - the file to read from</dd>
<dd><code>offset</code> - where to start reading (normally
 <code>FileContainer.FIRST_ALLOC_PAGE_OFFSET</code>)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a byte array containing the embryonic page</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if an I/O error occurs while reading</dd>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Derby Standard error policy</dd>
</dl>
</li>
</ul>
<a name="writeHeaderToArray-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeHeaderToArray</h4>
<pre>private&nbsp;void&nbsp;writeHeaderToArray(byte[]&nbsp;a)
                         throws java.io.IOException</pre>
<div class="block">Write containerInfo into a byte array
                The container Header thus put together can be read by readHeaderFromArray.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - error in writing the header</dd>
</dl>
</li>
</ul>
<a name="logCreateContainerInfo--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logCreateContainerInfo</h4>
<pre>protected&nbsp;<a href="../../../../../../../org/apache/derby/iapi/util/ByteArray.html" title="class in org.apache.derby.iapi.util">ByteArray</a>&nbsp;logCreateContainerInfo()
                                    throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Log all information on the container creation necessary to recreate the
                container during a load tran.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#logCreateContainerInfo--">logCreateContainerInfo</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainer</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Derby Standard error policy</dd>
</dl>
</li>
</ul>
<a name="createInfoFromLog-org.apache.derby.iapi.util.ByteArray-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createInfoFromLog</h4>
<pre>private&nbsp;void&nbsp;createInfoFromLog(<a href="../../../../../../../org/apache/derby/iapi/util/ByteArray.html" title="class in org.apache.derby.iapi.util">ByteArray</a>&nbsp;byteArray)
                        throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Set container properties from the passed in ByteArray, which is created
                by logCreateContainerInfo.  This information is used to recreate the
                container during recovery load tran.

                The following container properties are set:

                pageSize
                spareSpace
                minimumRecordSize
                isReusableRecordId
                initialPages</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="createInfoFromProp-java.util.Properties-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createInfoFromProp</h4>
<pre>private&nbsp;void&nbsp;createInfoFromProp(java.util.Properties&nbsp;createArgs)
                         throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Set container properties from the passed in createArgs.  
                The following container properties are set:

                pageSize
                spareSpace
                minimumRecordSize
                isReusableRecordId
                initialPages

                RESOLVE - in the future setting parameters should be overridable
                by sub-class, e.g. one implementation of Container may require a
                minimum page size of 4k.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="canUpdate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>canUpdate</h4>
<pre>protected&nbsp;boolean&nbsp;canUpdate()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#canUpdate--">BaseContainer</a></code></span></div>
<div class="block">Can the container be updated.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#canUpdate--">canUpdate</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainer</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the container can be updated, false otherwise.</dd>
</dl>
</li>
</ul>
<a name="deallocatePage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-org.apache.derby.impl.store.raw.data.BasePage-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deallocatePage</h4>
<pre>protected&nbsp;void&nbsp;deallocatePage(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
                              <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a>&nbsp;page)
                       throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Deallocate a page from the container.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#deallocatePage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-org.apache.derby.impl.store.raw.data.BasePage-">deallocatePage</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainer</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>handle</code> - the container handle doing the deallocation</dd>
<dd><code>page</code> - the page to be deallocated.  It is latched upon entry and
                will be unlatched by the caller of this function</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Derby Standard error policy</dd>
</dl>
</li>
</ul>
<a name="deallocatePagenum-org.apache.derby.impl.store.raw.data.BaseContainerHandle-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deallocatePagenum</h4>
<pre>private&nbsp;void&nbsp;deallocatePagenum(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
                               long&nbsp;pnum)
                        throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">deallocate the page from the alloc page</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="compressContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-org.apache.derby.impl.store.raw.data.BaseContainerHandle-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>compressContainer</h4>
<pre>protected&nbsp;void&nbsp;compressContainer(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;ntt,
                                 <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;allocHandle)
                          throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Compress free space from container.

          <BR> MT - thread aware - It is assumed that our caller (our super class)
          has already arranged a logical lock on page allocation to only allow a
          single thread through here.

      Compressing free space is done in allocation page units, working
      it's way from the end of the container to the beginning.  Each
      loop operates on the last allocation page in the container.

      Freeing space in the container page involves 2 transactions, an
      update to an allocation page, N data pages, and possibly the delete
      of the allocation page.
          The User Transaction (UT) initiated the compress call.
          The Nested Top Transaction (NTT) is the transaction started by RawStore
          inside the compress call.  This NTT is committed before compress returns.
          The NTT is used to access high traffic data structures such as the 
      AllocPage.

          This is outline of the algorithm used in compressing the container.

      Until a non free page is found loop, in each loop return to the OS
         all space at the end of the container occupied by free pages, including
         the allocation page itself if all of it's pages are free.  
      
          1) Find last 2 allocation pages in container (last if there is only one).
          2) invalidate the allocation information cached by the container.
                 Without the cache no page can be gotten from the container.  Pages
                 already in the page cache are not affected.  Thus by latching the 
                 allocPage and invalidating the allocation cache, this NTT blocks out 
                 all page gets from this container until it commits.
          3) the allocPage determines which pages can be released to the OS, 
         mark that in its data structure (the alloc extent).  Mark the 
         contiguous block of nallocated/free pages at the end of the file
         as unallocated.  This change is associated with the NTT.
      4) The NTT calls the OS to deallocate the space from the file.  Note
         that the system can handle being booted and asked to get an allocated
         page which is past end of file, it just extends the file automatically.
          5) If freeing all space on the alloc page, and there is more than one
         alloc page, then free the alloc page - this requires an update to the 
         previous alloc page which the loop has kept latched also.
      6) if the last alloc page was deleted, restart loop at #1

      All NTT latches are released before this routine returns.
          If we use an NTT, the caller has to commit the NTT to release the
          allocPage latch.  If we don't use an NTT, the allocPage latch is released
          as this routine returns.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#compressContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-org.apache.derby.impl.store.raw.data.BaseContainerHandle-">compressContainer</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainer</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ntt</code> - - the nested top transaction for the purpose of freeing space.
                                                If ntt is null, use the user transaction for allocation.
          #param allocHandle - the container handle opened by the ntt, 
                                                use this to latch the alloc page</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="getReusableRecordIdSequenceNumber--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReusableRecordIdSequenceNumber</h4>
<pre>public final&nbsp;long&nbsp;getReusableRecordIdSequenceNumber()</pre>
<div class="block">Get the reusable RecordId sequence number for the container.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#getReusableRecordIdSequenceNumber--">getReusableRecordIdSequenceNumber</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainer</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>reusable RecordId sequence number for the container.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#getReusableRecordIdSequenceNumber--"><code>BaseContainer.getReusableRecordIdSequenceNumber()</code></a></dd>
</dl>
</li>
</ul>
<a name="incrementReusableRecordIdSequenceNumber--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>incrementReusableRecordIdSequenceNumber</h4>
<pre>protected final&nbsp;void&nbsp;incrementReusableRecordIdSequenceNumber()</pre>
<div class="block">Increment the reusable RecordId version sequence number.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#incrementReusableRecordIdSequenceNumber--">incrementReusableRecordIdSequenceNumber</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainer</a></code></dd>
</dl>
</li>
</ul>
<a name="newPage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-org.apache.derby.iapi.store.raw.xact.RawTransaction-org.apache.derby.impl.store.raw.data.BaseContainerHandle-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newPage</h4>
<pre>protected&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a>&nbsp;newPage(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;userHandle,
                           <a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;ntt,
                           <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;allocHandle,
                           boolean&nbsp;isOverflow)
                    throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Create a new page in the container.

          <BR> MT - thread aware - It is assumed that our caller (our super class)
          has already arranged a logical lock on page allocation to only allow a
          single thread through here.

          Adding a new page involves 2 transactions and 2 pages.  
          The User Transaction (UT) initiated the addPage call and expects a
          latched page (owns by the UT) to be returned.
          The Nested Top Transaction (NTT) is the transaction started by RawStore
          inside an addPage call.  This NTT is committed before the page is
          returned.  The NTT is used to accessed high traffic data structure such
          as the AllocPage.

          This is outline of the algorithm used in adding a page:
          1) find or make an allocPage which can handle the addding of a new page.
                Latch the allocPage with the NTT.
          2) invalidate the allocation information cached by the container.
                Without the cache no page can be gotten from the container.  Pages
                already in the page cache is not affected.  Thus by latching the 
                allocPage and invalidating the allocation cache, this NTT blocks out 
                all page gets from this container until it commits.
          3) the allocPage determines which page can be allocated, mark that in its
                data structure (the alloc extent) and returns the page number of the
                new page.  This change is associated with the NTT.
          4) the NTT gets or creates the new page in the page cache (bypassing the
                lookup of the allocPage since that is already latched by the NTT and
                will deadlock).
          5) the NTT initializes the page (mark it is being a VALID page).
          6) the page latch is transfered to the UT from the NTT.
          7) the new page is returned, latched by UT

          If we use an NTT, the caller has to commit the NTT to release the
          allocPage latch.  If we don't use an NTT, the allocPage latch is released
          as this routine returns.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#newPage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-org.apache.derby.iapi.store.raw.xact.RawTransaction-org.apache.derby.impl.store.raw.data.BaseContainerHandle-boolean-">newPage</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainer</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>userHandle</code> - - the container handle opened by the user transaction, 
                                                use this to latch the new user page</dd>
<dd><code>ntt</code> - - the nested top transaction for the purpose of allocating the new page
                                                If ntt is null, use the user transaction for allocation.
          #param allocHandle - the container handle opened by the ntt, 
                                                use this to latch the alloc page</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="clearPreallocThreshold--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearPreallocThreshold</h4>
<pre>protected&nbsp;void&nbsp;clearPreallocThreshold()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#clearPreallocThreshold--">BaseContainer</a></code></span></div>
<div class="block">The container will have no pre-allocate threshold, i.e., if the
                implementation supports it, page preallocation will happen
                the next time a new page is allocated.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#clearPreallocThreshold--">clearPreallocThreshold</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainer</a></code></dd>
</dl>
</li>
</ul>
<a name="prepareForBulkLoad-org.apache.derby.impl.store.raw.data.BaseContainerHandle-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prepareForBulkLoad</h4>
<pre>protected&nbsp;void&nbsp;prepareForBulkLoad(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
                                  int&nbsp;numPage)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#prepareForBulkLoad-org.apache.derby.impl.store.raw.data.BaseContainerHandle-int-">BaseContainer</a></code></span></div>
<div class="block">The container will be grown vastly, prepare for it.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#prepareForBulkLoad-org.apache.derby.impl.store.raw.data.BaseContainerHandle-int-">prepareForBulkLoad</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainer</a></code></dd>
</dl>
</li>
</ul>
<a name="pageValid-org.apache.derby.impl.store.raw.data.BaseContainerHandle-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pageValid</h4>
<pre>private&nbsp;boolean&nbsp;pageValid(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
                          long&nbsp;pagenum)
                   throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="getLastPageNumber-org.apache.derby.impl.store.raw.data.BaseContainerHandle-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastPageNumber</h4>
<pre>protected&nbsp;long&nbsp;getLastPageNumber(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle)
                          throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="findAllocPageForAdd-org.apache.derby.impl.store.raw.data.BaseContainerHandle-org.apache.derby.iapi.store.raw.xact.RawTransaction-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findAllocPageForAdd</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html" title="class in org.apache.derby.impl.store.raw.data">AllocPage</a>&nbsp;findAllocPageForAdd(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;allocHandle,
                                      <a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;ntt,
                                      long&nbsp;lastAllocatedPage)
                               throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="findLastAllocPage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-org.apache.derby.iapi.store.raw.xact.RawTransaction-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findLastAllocPage</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html" title="class in org.apache.derby.impl.store.raw.data">AllocPage</a>&nbsp;findLastAllocPage(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
                                    <a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;tran)</pre>
<div class="block">Find the last alloc page, returns null if no alloc page is found</div>
</li>
</ul>
<a name="makeAllocPage-org.apache.derby.iapi.store.raw.xact.RawTransaction-org.apache.derby.impl.store.raw.data.BaseContainerHandle-long-long-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>makeAllocPage</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html" title="class in org.apache.derby.impl.store.raw.data">AllocPage</a>&nbsp;makeAllocPage(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;ntt,
                                <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
                                long&nbsp;pageNumber,
                                long&nbsp;pageOffset,
                                int&nbsp;containerInfoSize)
                         throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="initPage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-org.apache.derby.iapi.store.raw.PageKey-org.apache.derby.impl.store.raw.data.PageCreationArgs-long-boolean-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initPage</h4>
<pre>protected&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a>&nbsp;initPage(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;allochandle,
                            <a href="../../../../../../../org/apache/derby/iapi/store/raw/PageKey.html" title="class in org.apache.derby.iapi.store.raw">PageKey</a>&nbsp;pkey,
                            <a href="../../../../../../../org/apache/derby/impl/store/raw/data/PageCreationArgs.html" title="class in org.apache.derby.impl.store.raw.data">PageCreationArgs</a>&nbsp;createArgs,
                            long&nbsp;pageOffset,
                            boolean&nbsp;reuse,
                            boolean&nbsp;overflow)
                     throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Initialize a page</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>allochandle</code> - the contianer handle to initialize the page with - the ntt</dd>
<dd><code>pkey</code> - the page number of the page to be initialized</dd>
<dd><code>createArgs</code> - the arguments for page creation</dd>
<dd><code>reuse</code> - is true if we are reusing a page that has 
                                already been initialized once</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a latched page that has been initialized.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Derby Standard error policy</dd>
</dl>
</li>
</ul>
<a name="getUserPage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-long-boolean-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUserPage</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a>&nbsp;getUserPage(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
                             long&nbsp;pageNumber,
                             boolean&nbsp;overflowOK,
                             boolean&nbsp;wait)
                      throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Get a page in the container.    

                Get User page is the generic base routine for all user (client to raw
                store) getPage.  This routine coordinate with allocation/deallocation
                to ensure that no page can be gotten from the container while page is
                in the middle of being allocated or deallocated.
        This routine latches the page.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>handle</code> - the container handle</dd>
<dd><code>pageNumber</code> - the page number of the page to get</dd>
<dd><code>overflowOK</code> - if true then an overflow page is OK,
                                if false, then only non-overflow page is OK</dd>
<dd><code>wait</code> - if true then wait for a latch</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the latched page

                <BR> MT - thread safe</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="trackUnfilledPage-long-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>trackUnfilledPage</h4>
<pre>protected&nbsp;void&nbsp;trackUnfilledPage(long&nbsp;pagenumber,
                                 boolean&nbsp;unfilled)</pre>
</li>
</ul>
<a name="getPage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-long-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPage</h4>
<pre>protected&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a>&nbsp;getPage(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
                           long&nbsp;pageNumber,
                           boolean&nbsp;wait)
                    throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Get a valid (non-deallocated or free) page in the container.
                Overflow page is OK. Resulting page is latched.

                <BR> MT - thread safe</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#getPage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-long-boolean-">getPage</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainer</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="getAnyPage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAnyPage</h4>
<pre>protected&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a>&nbsp;getAnyPage(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
                              long&nbsp;pageNumber)
                       throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Get any old page - turn off all validation</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#getAnyPage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-long-">getAnyPage</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainer</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Derby Standard error policy</dd>
</dl>
</li>
</ul>
<a name="reCreatePageForRedoRecovery-org.apache.derby.impl.store.raw.data.BaseContainerHandle-int-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reCreatePageForRedoRecovery</h4>
<pre>protected&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a>&nbsp;reCreatePageForRedoRecovery(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
                                               int&nbsp;pageFormat,
                                               long&nbsp;pageNumber,
                                               long&nbsp;pageOffset)
                                        throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">ReCreate a page for rollforward recovery.  
 <p>
 During redo recovery it is possible for the system to try to redo
 the creation of a page (ie. going from non-existence to version 0).
 It first trys to read the page from disk, but a few different types
 of errors can occur:
     o the page does not exist at all on disk, this can happen during
       rollforward recovery applied to a backup where the file was
       copied and the page was added to the file during the time frame
       of the backup but after the physical file was copied.
     o space in the file exists, but it was never initalized.  This
       can happen if you happen to crash at just the right moment during
       the allocation process.  Also
       on some OS's it is possible to read from a part of the file that
       was not ever written - resulting in garbage from the store's 
       point of view (often the result is all 0's).  

 All these errors are easy to recover from as the system can easily 
 create a version 0 from scratch and write it to disk.

 Because the system does not sync allocation of data pages, it is also
 possible at this point that whlie writing the version 0 to disk to 
 create it we may encounter an out of disk space error (caught in this
 routine as a StandardException from the create() call.  We can't 
 recovery from this without help from outside, so the caught exception
 is nested and a new exception thrown which the recovery system will
 output to the user asking them to check their disk for space/errors.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#reCreatePageForRedoRecovery-org.apache.derby.impl.store.raw.data.BaseContainerHandle-int-long-long-">reCreatePageForRedoRecovery</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainer</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="getAllocPage-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllocPage</h4>
<pre>protected&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a>&nbsp;getAllocPage(long&nbsp;pageNumber)
                         throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Get an alloc page - only accessible to the raw store 
                (container and recovery)</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#getAllocPage-long-">getAllocPage</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainer</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Derby Standard error policy</dd>
</dl>
</li>
</ul>
<a name="getHeadPage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-long-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHeadPage</h4>
<pre>protected&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a>&nbsp;getHeadPage(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
                               long&nbsp;pageNumber,
                               boolean&nbsp;wait)
                        throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Get only a valid, non-overflow page.  If page number is either invalid
                or overflow, returns null</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#getHeadPage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-long-boolean-">getHeadPage</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainer</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Derby Standard error policy</dd>
</dl>
</li>
</ul>
<a name="getFirstHeadPage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFirstHeadPage</h4>
<pre>protected&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a>&nbsp;getFirstHeadPage(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
                                    boolean&nbsp;wait)
                             throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Get the first valid page in the container</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#getFirstHeadPage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-boolean-">getFirstHeadPage</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainer</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Derby Standard error policy</dd>
</dl>
</li>
</ul>
<a name="getNextHeadPage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-long-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextHeadPage</h4>
<pre>protected&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a>&nbsp;getNextHeadPage(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
                                   long&nbsp;pageNumber,
                                   boolean&nbsp;wait)
                            throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Get the next page in the container.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#getNextHeadPage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-long-boolean-">getNextHeadPage</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainer</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="getInsertablePage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-long-boolean-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInsertablePage</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a>&nbsp;getInsertablePage(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
                                   long&nbsp;pageNumber,
                                   boolean&nbsp;wait,
                                   boolean&nbsp;overflowOK)
                            throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="getPageForCompress-org.apache.derby.impl.store.raw.data.BaseContainerHandle-int-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPageForCompress</h4>
<pre>protected&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a>&nbsp;getPageForCompress(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
                                      int&nbsp;flag,
                                      long&nbsp;pageno)
                               throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Get candidate page to move a row for compressing the table.
 <p>
 The caller is moving rows from the end of the table toward the beginning,
 with the goal of freeing up a block of empty pages at the end of the
 container which can be returned to the OS.
 <p>
 On entry pageno will be latched by the caller.  Only return pages with
 numbers below pageno.  Attempting to return pageno will result in a
 latch/latch deadlock on the same thread.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#getPageForCompress-org.apache.derby.impl.store.raw.data.BaseContainerHandle-int-long-">getPageForCompress</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainer</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="getPageForInsert-org.apache.derby.impl.store.raw.data.BaseContainerHandle-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPageForInsert</h4>
<pre>protected&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a>&nbsp;getPageForInsert(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
                                    int&nbsp;flag)
                             throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Get a potentially suitable page for insert and latch it.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#getPageForInsert-org.apache.derby.impl.store.raw.data.BaseContainerHandle-int-">getPageForInsert</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainer</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="getLatchedPage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLatchedPage</h4>
<pre>protected&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a>&nbsp;getLatchedPage(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
                                  long&nbsp;pageNumber)
                           throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Get a latched page. Incase of backup page Latch is necessary to 
  prevent modification to the page when it is being written to the backup.
  Backup process relies on latches to get consistent snap
  shot of the page , user level table/page/row locks are NOT 
  acquired  by the online backup mechanism.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>handle</code> - the container handle used to latch the page</dd>
<dd><code>pageNumber</code> - the page number of the page to get</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the latched page</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="getUnfilledPageNumber-org.apache.derby.impl.store.raw.data.BaseContainerHandle-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUnfilledPageNumber</h4>
<pre>private&nbsp;long&nbsp;getUnfilledPageNumber(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
                                   long&nbsp;pagenum)
                            throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="getEstimatedRowCount-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEstimatedRowCount</h4>
<pre>public&nbsp;long&nbsp;getEstimatedRowCount(int&nbsp;flag)</pre>
<div class="block"><BR>MT - this routine is NOT MT-safe and clients don't need to provide
                synchronization.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#getEstimatedRowCount-int-">getEstimatedRowCount</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainer</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerHandle.html#getEstimatedRowCount-int-"><code>ContainerHandle.getEstimatedRowCount(int)</code></a></dd>
</dl>
</li>
</ul>
<a name="setEstimatedRowCount-long-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setEstimatedRowCount</h4>
<pre>public&nbsp;void&nbsp;setEstimatedRowCount(long&nbsp;count,
                                 int&nbsp;flag)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#setEstimatedRowCount-long-int-">setEstimatedRowCount</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainer</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerHandle.html#setEstimatedRowCount-long-int-"><code>ContainerHandle.setEstimatedRowCount(long, int)</code></a></dd>
</dl>
</li>
</ul>
<a name="updateEstimatedRowCount-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateEstimatedRowCount</h4>
<pre>protected&nbsp;void&nbsp;updateEstimatedRowCount(int&nbsp;delta)</pre>
<div class="block">Update estimated row count by page as it leaves the cache.
                The estimated row count is updated without logging!</div>
</li>
</ul>
<a name="getEstimatedPageCount-org.apache.derby.impl.store.raw.data.BaseContainerHandle-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEstimatedPageCount</h4>
<pre>public&nbsp;long&nbsp;getEstimatedPageCount(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
                                  int&nbsp;flag)
                           throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#getEstimatedPageCount-org.apache.derby.impl.store.raw.data.BaseContainerHandle-int-">getEstimatedPageCount</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainer</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerHandle.html#getEstimatedPageCount-int-"><code>ContainerHandle.getEstimatedPageCount(int)</code></a></dd>
</dl>
</li>
</ul>
<a name="readPage-long-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readPage</h4>
<pre>protected abstract&nbsp;void&nbsp;readPage(long&nbsp;pageNumber,
                                 byte[]&nbsp;pageData)
                          throws java.io.IOException,
                                 <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Read a page into the supplied array.

                <BR> MT - thread safe</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - error reading page</dd>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - standard Derby error message</dd>
</dl>
</li>
</ul>
<a name="writePage-long-byte:A-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writePage</h4>
<pre>protected abstract&nbsp;void&nbsp;writePage(long&nbsp;pageNumber,
                                  byte[]&nbsp;pageData,
                                  boolean&nbsp;syncPage)
                           throws java.io.IOException,
                                  <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Write a page from the supplied array.

                <BR> MT - thread safe</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - error writing page</dd>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="decryptPage-byte:A-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decryptPage</h4>
<pre>protected&nbsp;void&nbsp;decryptPage(byte[]&nbsp;pageData,
                           int&nbsp;pageSize)
                    throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Decrypts a page

                <BR>MT - MT safe.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="encryptPage-byte:A-int-byte:A-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>encryptPage</h4>
<pre>protected&nbsp;byte[]&nbsp;encryptPage(byte[]&nbsp;pageData,
                             int&nbsp;pageSize,
                             byte[]&nbsp;encryptionBuffer,
                             boolean&nbsp;newEngine)
                      throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Encrypts a page.

                <BR> MT - not safe, call within synchronized block and only use the
                returned byte array withing synchronized block.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="getEncryptionBuffer--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEncryptionBuffer</h4>
<pre>protected&nbsp;byte[]&nbsp;getEncryptionBuffer()</pre>
<div class="block">Get encryption buffer.
  MT - not safe, call within synchronized block and only use the
  returned byte array withing synchronized block.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>byte array to be used for encryping a page.</dd>
</dl>
</li>
</ul>
<a name="preAllocate-long-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>preAllocate</h4>
<pre>protected abstract&nbsp;int&nbsp;preAllocate(long&nbsp;lastPreallocPagenum,
                                   int&nbsp;preAllocSize)</pre>
<div class="block">preAllocate writes out the preallocated pages to disk if necessary.

                <BR>Make sure the container is large enough and the
                pages are well formatted.  The only reason to do this is to save some
                I/O during page initialization.  Once the initPage log record is
                written, it is expected that the page really do exist and is well
                formed or recovery will fail.  However, we can gain some performance by
                writing a bunch of pages at a time rather than one at a time.

                <BR>If it doesn't make sense for the the implementation to have 
                pre-allocation, just return 0. 

                <BR>If the container is not being logged, don't actually do anything,
                just return 0.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>lastPreallocPagenum</code> - the last preallocated page number as known
                                by the allocation page</dd>
<dd><code>preAllocSize</code> - try to preallocate this page number of pages.
                                Since only the container knows how many pages are actually on
                                disk, it may determine that certain number of pages that the
                                allocation page thinks need to be preallocated is already
                                allocated, in those case, act as if the preallocation is
                                successful.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>number of successfully preallocated page, or 0 if
                                no page has been preallocated</dd>
</dl>
</li>
</ul>
<a name="doPreAllocatePages-long-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doPreAllocatePages</h4>
<pre>protected&nbsp;int&nbsp;doPreAllocatePages(long&nbsp;lastPreallocPagenum,
                                 int&nbsp;preAllocSize)</pre>
<div class="block">Preallocate the pages - actually doing it, called by subclass only</div>
</li>
</ul>
<a name="getPageSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPageSize</h4>
<pre>protected&nbsp;int&nbsp;getPageSize()</pre>
</li>
</ul>
<a name="getSpareSpace--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSpareSpace</h4>
<pre>protected&nbsp;int&nbsp;getSpareSpace()</pre>
</li>
</ul>
<a name="getMinimumRecordSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMinimumRecordSize</h4>
<pre>protected&nbsp;int&nbsp;getMinimumRecordSize()</pre>
</li>
</ul>
<a name="switchToMultiInsertPageMode-org.apache.derby.impl.store.raw.data.BaseContainerHandle-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>switchToMultiInsertPageMode</h4>
<pre>private&nbsp;void&nbsp;switchToMultiInsertPageMode(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle)
                                  throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="getLastInsertedPage--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastInsertedPage</h4>
<pre>private&nbsp;long&nbsp;getLastInsertedPage()</pre>
</li>
</ul>
<a name="getLastUnfilledPage--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastUnfilledPage</h4>
<pre>private&nbsp;long&nbsp;getLastUnfilledPage()</pre>
</li>
</ul>
<a name="initializeLastInsertedPage-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initializeLastInsertedPage</h4>
<pre>private&nbsp;void&nbsp;initializeLastInsertedPage(int&nbsp;size)</pre>
</li>
</ul>
<a name="setLastInsertedPage-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLastInsertedPage</h4>
<pre>private&nbsp;void&nbsp;setLastInsertedPage(long&nbsp;val)</pre>
</li>
</ul>
<a name="setLastUnfilledPage-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLastUnfilledPage</h4>
<pre>private&nbsp;void&nbsp;setLastUnfilledPage(long&nbsp;val)</pre>
</li>
</ul>
<a name="letGo-org.apache.derby.impl.store.raw.data.BaseContainerHandle-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>letGo</h4>
<pre>protected&nbsp;void&nbsp;letGo(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle)</pre>
<div class="block">The container is kept by the find() in File.openContainer.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#letGo-org.apache.derby.impl.store.raw.data.BaseContainerHandle-">letGo</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainer</a></code></dd>
</dl>
</li>
</ul>
<a name="latchPage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-org.apache.derby.impl.store.raw.data.BasePage-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>latchPage</h4>
<pre>protected&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a>&nbsp;latchPage(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
                             <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a>&nbsp;foundPage,
                             boolean&nbsp;wait)
                      throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#latchPage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-org.apache.derby.impl.store.raw.data.BasePage-boolean-">latchPage</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainer</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="backupContainer-org.apache.derby.impl.store.raw.data.BaseContainerHandle-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>backupContainer</h4>
<pre>protected abstract&nbsp;void&nbsp;backupContainer(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;handle,
                                        java.lang.String&nbsp;backupLocation)
                                 throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">backup the container.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html#backupContainer-org.apache.derby.impl.store.raw.data.BaseContainerHandle-java.lang.String-">backupContainer</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainer.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainer</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>handle</code> - the container handle.</dd>
<dd><code>backupLocation</code> - location of the backup container.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="getContextService--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getContextService</h4>
<pre>static&nbsp;<a href="../../../../../../../org/apache/derby/iapi/services/context/ContextService.html" title="class in org.apache.derby.iapi.services.context">ContextService</a>&nbsp;getContextService()</pre>
<div class="block">Privileged lookup of the ContextService. Must be limited to
 package visibility so that user code
 can't call this entry point.</div>
</li>
</ul>
<a name="getServiceModule-java.lang.Object-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getServiceModule</h4>
<pre>private static&nbsp;java.lang.Object&nbsp;getServiceModule(java.lang.Object&nbsp;serviceModule,
                                                 java.lang.String&nbsp;factoryInterface)</pre>
<div class="block">Privileged module lookup. Must be private so that user code
 can't call this entry point.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Built on Mon 2017-07-03 23:03:59+0530, from revision Unversioned directory</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../org/apache/derby/impl/store/raw/data/EncryptOrDecryptData.html" title="class in org.apache.derby.impl.store.raw.data"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../org/apache/derby/impl/store/raw/data/InitPageOperation.html" title="class in org.apache.derby.impl.store.raw.data"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/derby/impl/store/raw/data/FileContainer.html" target="_top">Frames</a></li>
<li><a href="FileContainer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Apache Derby V10.13 Internals - <i>Copyright &copy; 2004,2016 The Apache Software Foundation. All Rights Reserved.</i></small></p>
</body>
</html>
