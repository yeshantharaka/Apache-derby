<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_66) on Mon Jul 03 23:05:17 IST 2017 -->
<title>AllocExtent (Apache Derby V10.13 Internals)</title>
<meta name="date" content="2017-07-03">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="AllocExtent (Apache Derby V10.13 Internals)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":9,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocationCache.html" title="class in org.apache.derby.impl.store.raw.data"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html" title="class in org.apache.derby.impl.store.raw.data"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/derby/impl/store/raw/data/AllocExtent.html" target="_top">Frames</a></li>
<li><a href="AllocExtent.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.derby.impl.store.raw.data</div>
<h2 title="Class AllocExtent" class="title">Class AllocExtent</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.derby.impl.store.raw.data.AllocExtent</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.io.Externalizable, java.io.Serializable</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">AllocExtent</span>
extends java.lang.Object
implements java.io.Externalizable</pre>
<div class="block">An allocation extent row manages the page status of page in the extent.
        AllocExtent is externalizable and is written to the AllocPage directly,
        without being converted to a row first.
        <P>
        <PRE></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html" title="class in org.apache.derby.impl.store.raw.data"><code>AllocPage</code></a>, 
<a href="../../../../../../../serialized-form.html#org.apache.derby.impl.store.raw.data.AllocExtent">Serialized Form</a></dd>
<table cellpadding=2 cellspacing=2><tr><td>Format ID</td><td>none, format implied by AllocPage's format</td></tr>
<tr><td>Purpose</td><td>manage page status of page in extent</td></tr>
<tr><td>Upgrade</td><td></td></tr>
<tr><td>Disk Layout</td><td>extentOffset(long) the begin physical byte offset of the first page of this extent
		extentStart(long) the first logical page mananged by this extent.
		extentEnd(long) the last page this extent can ever hope to manage 
		extentLength(int) the number of pages allocated in this extent
		extentStatus(int) status bits for the whole extent.
				HAS_DEALLOCATED - most likely, this extent has a deallocated 
                        page somewhere
						If !HAD_DEALLOCATED, the extent has no deallocated page
				HAS_FREE - most likely, this extent has a free page somewhere
						If !HAS_FREE, there is no free page in the extent
				ALL_FREE - most likely, this extent only has free pages, good 
                        candidate for shrinking the file.
						If !ALL_FREE, the extent is not all free
				HAS_UNFILLED_PAGES - most likely, this extent has unfilled pages.
						if !HAS_UNFILLED_PAGES, all pages are filled
				KEEP_UNFILLED_PAGES - this extent keeps track of unfilled pages
						(post v1.3).  If not set, this extent has no notion of
						unfilled page and has no unFilledPage bitmap.
				NO_DEALLOC_PAGE_MAP - this extents do not have a dealloc and a
						free page bit maps.  Prior to 2.0, there are 2 bit
						maps, a deallocate page bit map and a free page bit
						map.  Cloudscape 2.0 and later merged the dealloc page
						bit map into the free page bit map.
				RETIRED - this extent contains only 'retired' pages, never use 
                        any page from this extent.  The pages don't actually 
                        exist, i.e., it maps to nothing (physicalOffset is 
                        garbage).  The purpose of this extent is to blot out a 
                        range of logical page numbers that no longer exists 
                        for this container.  Use this to reuse a physical page
                        when a logical page has exhausted all recordId or for
                        logical pages that has been shrunk out.
		preAllocLength(int)  the number of pages that have been preallocated
		reserved1(int)
		reserved2(long)	reserved for future use
		reserved3(long)	reserved for future use
		FreePages(bit)	bitmap of free pages
				Bit[i] is ON iff page i is free for immediate (re)use.
		[
		    on disk version before 2.0
				deAllocPages(bit) bitmap of deallocated pages
				Bit[i] is ON iff page i has been deallocated.
		]
		unFilledPages(bit)	bitmap of pages that has free space
				Bit[i] is ON if page i is likely to be < 1/2 full

		org.apache.derby.iapi.services.io.FormatableBitSet is used to store the bit map.  
            FormatableBitSet is an externalizable class.</td></tr></table></dt>

</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#ALL_FREE">ALL_FREE</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#ALLOCATED_PAGE">ALLOCATED_PAGE</a></span></code>
<div class="block">public Per Page status</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#DEALLOCATED_PAGE">DEALLOCATED_PAGE</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#extentEnd">extentEnd</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#extentLength">extentLength</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#extentOffset">extentOffset</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#extentStart">extentStart</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#extentStatus">extentStatus</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#FREE_PAGE">FREE_PAGE</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) <a href="../../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#freePages">freePages</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#HAS_DEALLOCATED">HAS_DEALLOCATED</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#HAS_FREE">HAS_FREE</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#HAS_UNFILLED_PAGES">HAS_UNFILLED_PAGES</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#KEEP_UNFILLED_PAGES">KEEP_UNFILLED_PAGES</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#NO_DEALLOC_PAGE_MAP">NO_DEALLOC_PAGE_MAP</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#preAllocLength">preAllocLength</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#reserved1">reserved1</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#reserved2">reserved2</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#reserved3">reserved3</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#RETIRED">RETIRED</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="../../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#unFilledPages">unFilledPages</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#AllocExtent--">AllocExtent</a></span>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#AllocExtent-org.apache.derby.impl.store.raw.data.AllocExtent-">AllocExtent</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html" title="class in org.apache.derby.impl.store.raw.data">AllocExtent</a>&nbsp;original)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#AllocExtent-long-long-int-int-int-">AllocExtent</a></span>(long&nbsp;offset,
           long&nbsp;start,
           int&nbsp;length,
           int&nbsp;pagesize,
           int&nbsp;maxlength)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#allocPage-long-">allocPage</a></span>(long&nbsp;pagenum)</code>
<div class="block">Allocate this page - this is called underneath the log record</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#canAddFreePage-long-">canAddFreePage</a></span>(long&nbsp;lastAllocatedPage)</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#checkInRange-long-">checkInRange</a></span>(long&nbsp;pagenum)</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#compress-org.apache.derby.impl.store.raw.data.BaseContainerHandle-org.apache.derby.iapi.store.raw.xact.RawTransaction-org.apache.derby.impl.store.raw.data.AllocPage-">compress</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;owner,
        <a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;ntt,
        <a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html" title="class in org.apache.derby.impl.store.raw.data">AllocPage</a>&nbsp;alloc_page)</code>
<div class="block">Compress free pages at end of this extent.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#compressPages-int-int-">compressPages</a></span>(int&nbsp;new_highest_page,
             int&nbsp;num_pages_truncated)</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#deallocPage-long-">deallocPage</a></span>(long&nbsp;pagenum)</code>
<div class="block">Deallocate logical page pagenum - this is called underneath the log record.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#getAllocatedPageCount--">getAllocatedPageCount</a></span>()</code>
<div class="block">Get the number of used page in this extent</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#getExtentEnd--">getExtentEnd</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#getFirstPagenum--">getFirstPagenum</a></span>()</code>
<div class="block">Get the first logical page number managed by this extent.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#getFreePageNumber-long-">getFreePageNumber</a></span>(long&nbsp;pnum)</code>
<div class="block">Get a page number that is free</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#getLastPagenum--">getLastPagenum</a></span>()</code>
<div class="block">Get the last logical page number managed by this extent.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#getLastPreallocPagenum--">getLastPreallocPagenum</a></span>()</code>
<div class="block">get the last preallocated pagenumber managed by this alloc page</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#getLastValidPageNumber--">getLastValidPageNumber</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#getNextValidPageNumber-long-">getNextValidPageNumber</a></span>(long&nbsp;prevPageNumber)</code>&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#getPagenum-int-">getPagenum</a></span>(int&nbsp;bit_pos)</code>
<div class="block">translate bit position in map to page number.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#getPageOffset-long-int-boolean-">getPageOffset</a></span>(long&nbsp;pagenum,
             int&nbsp;pagesize,
             boolean&nbsp;deallocOK)</code>
<div class="block">Get the physical offset of pagenum.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#getPageStatus-long-">getPageStatus</a></span>(long&nbsp;pagenum)</code>
<div class="block">Return the status of a particular page</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#getTotalPageCount--">getTotalPageCount</a></span>()</code>
<div class="block">Get the total number of pages in this extent</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#getUnfilledPageCount--">getUnfilledPageCount</a></span>()</code>
<div class="block">Get the number of unfilled pages in this extent</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#getUnfilledPageNumber-long-">getUnfilledPageNumber</a></span>(long&nbsp;pagenum)</code>
<div class="block">Get a page number that is unfilled, pagenum is the last page that was
                rejected.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#isRetired--">isRetired</a></span>()</code>
<div class="block">Return the status of this extent</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#MAX_RANGE-int-">MAX_RANGE</a></span>(int&nbsp;availspace)</code>
<div class="block">Statically calculates how many pages this extent can manage given the
                availspace number of bytes to store this extent in

                if read/writeExternal changes, this must change too</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#mayHaveFreePage--">mayHaveFreePage</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#readExternal-java.io.ObjectInput-">readExternal</a></span>(java.io.ObjectInput&nbsp;in)</code>&nbsp;</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#setExtentFreePageStatus-boolean-">setExtentFreePageStatus</a></span>(boolean&nbsp;hasFree)</code>&nbsp;</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#setLastPreallocPagenum-long-">setLastPreallocPagenum</a></span>(long&nbsp;preAllocPagenum)</code>
<div class="block">preallocated N pages, passed in the last preallocated page number.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#toDebugString--">toDebugString</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#trackUnfilledPage-long-boolean-">trackUnfilledPage</a></span>(long&nbsp;pagenumber,
                 boolean&nbsp;unfilled)</code>&nbsp;</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#undoCompressPages-int-int-">undoCompressPages</a></span>(int&nbsp;new_highest_page,
                 int&nbsp;num_pages_truncated)</code>
<div class="block">Undo the compress space operation.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#updateUnfilledPageInfo-org.apache.derby.impl.store.raw.data.AllocExtent-">updateUnfilledPageInfo</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html" title="class in org.apache.derby.impl.store.raw.data">AllocExtent</a>&nbsp;inputExtent)</code>&nbsp;</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html#writeExternal-java.io.ObjectOutput-">writeExternal</a></span>(java.io.ObjectOutput&nbsp;out)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="extentOffset">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>extentOffset</h4>
<pre>private&nbsp;long extentOffset</pre>
</li>
</ul>
<a name="extentStart">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>extentStart</h4>
<pre>private&nbsp;long extentStart</pre>
</li>
</ul>
<a name="extentEnd">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>extentEnd</h4>
<pre>private&nbsp;long extentEnd</pre>
</li>
</ul>
<a name="extentLength">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>extentLength</h4>
<pre>private&nbsp;int extentLength</pre>
</li>
</ul>
<a name="extentStatus">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>extentStatus</h4>
<pre>int extentStatus</pre>
</li>
</ul>
<a name="preAllocLength">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>preAllocLength</h4>
<pre>private&nbsp;int preAllocLength</pre>
</li>
</ul>
<a name="reserved1">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reserved1</h4>
<pre>private&nbsp;int reserved1</pre>
</li>
</ul>
<a name="reserved2">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reserved2</h4>
<pre>private&nbsp;long reserved2</pre>
</li>
</ul>
<a name="reserved3">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reserved3</h4>
<pre>private&nbsp;long reserved3</pre>
</li>
</ul>
<a name="HAS_DEALLOCATED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>HAS_DEALLOCATED</h4>
<pre>private static final&nbsp;int HAS_DEALLOCATED</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.AllocExtent.HAS_DEALLOCATED">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="HAS_FREE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>HAS_FREE</h4>
<pre>private static final&nbsp;int HAS_FREE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.AllocExtent.HAS_FREE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="ALL_FREE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ALL_FREE</h4>
<pre>private static final&nbsp;int ALL_FREE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.AllocExtent.ALL_FREE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="HAS_UNFILLED_PAGES">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>HAS_UNFILLED_PAGES</h4>
<pre>private static final&nbsp;int HAS_UNFILLED_PAGES</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.AllocExtent.HAS_UNFILLED_PAGES">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="KEEP_UNFILLED_PAGES">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KEEP_UNFILLED_PAGES</h4>
<pre>private static final&nbsp;int KEEP_UNFILLED_PAGES</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.AllocExtent.KEEP_UNFILLED_PAGES">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="NO_DEALLOC_PAGE_MAP">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NO_DEALLOC_PAGE_MAP</h4>
<pre>private static final&nbsp;int NO_DEALLOC_PAGE_MAP</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.AllocExtent.NO_DEALLOC_PAGE_MAP">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="RETIRED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RETIRED</h4>
<pre>private static final&nbsp;int RETIRED</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.AllocExtent.RETIRED">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="ALLOCATED_PAGE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ALLOCATED_PAGE</h4>
<pre>protected static final&nbsp;int ALLOCATED_PAGE</pre>
<div class="block">public Per Page status</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.AllocExtent.ALLOCATED_PAGE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="DEALLOCATED_PAGE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEALLOCATED_PAGE</h4>
<pre>protected static final&nbsp;int DEALLOCATED_PAGE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.AllocExtent.DEALLOCATED_PAGE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="FREE_PAGE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FREE_PAGE</h4>
<pre>protected static final&nbsp;int FREE_PAGE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.AllocExtent.FREE_PAGE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="freePages">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>freePages</h4>
<pre><a href="../../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a> freePages</pre>
</li>
</ul>
<a name="unFilledPages">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>unFilledPages</h4>
<pre><a href="../../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a> unFilledPages</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="AllocExtent-long-long-int-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>AllocExtent</h4>
<pre>protected&nbsp;AllocExtent(long&nbsp;offset,
                      long&nbsp;start,
                      int&nbsp;length,
                      int&nbsp;pagesize,
                      int&nbsp;maxlength)</pre>
</li>
</ul>
<a name="AllocExtent-org.apache.derby.impl.store.raw.data.AllocExtent-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>AllocExtent</h4>
<pre>protected&nbsp;AllocExtent(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html" title="class in org.apache.derby.impl.store.raw.data">AllocExtent</a>&nbsp;original)</pre>
</li>
</ul>
<a name="AllocExtent--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AllocExtent</h4>
<pre>public&nbsp;AllocExtent()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="MAX_RANGE-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MAX_RANGE</h4>
<pre>protected static&nbsp;int&nbsp;MAX_RANGE(int&nbsp;availspace)</pre>
<div class="block">Statically calculates how many pages this extent can manage given the
                availspace number of bytes to store this extent in

                if read/writeExternal changes, this must change too</div>
</li>
</ul>
<a name="writeExternal-java.io.ObjectOutput-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeExternal</h4>
<pre>public&nbsp;void&nbsp;writeExternal(java.io.ObjectOutput&nbsp;out)
                   throws java.io.IOException</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>writeExternal</code>&nbsp;in interface&nbsp;<code>java.io.Externalizable</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="readExternal-java.io.ObjectInput-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readExternal</h4>
<pre>public&nbsp;void&nbsp;readExternal(java.io.ObjectInput&nbsp;in)
                  throws java.io.IOException,
                         java.lang.ClassNotFoundException</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>readExternal</code>&nbsp;in interface&nbsp;<code>java.io.Externalizable</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dd><code>java.lang.ClassNotFoundException</code></dd>
</dl>
</li>
</ul>
<a name="allocPage-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allocPage</h4>
<pre>protected&nbsp;void&nbsp;allocPage(long&nbsp;pagenum)
                  throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Allocate this page - this is called underneath the log record</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="deallocPage-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deallocPage</h4>
<pre>protected&nbsp;void&nbsp;deallocPage(long&nbsp;pagenum)
                    throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Deallocate logical page pagenum - this is called underneath the log record.
                pagenum must be a page managed by this extent and it must be valid</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="compress-org.apache.derby.impl.store.raw.data.BaseContainerHandle-org.apache.derby.iapi.store.raw.xact.RawTransaction-org.apache.derby.impl.store.raw.data.AllocPage-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>compress</h4>
<pre>protected&nbsp;int&nbsp;compress(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;owner,
                       <a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;ntt,
                       <a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html" title="class in org.apache.derby.impl.store.raw.data">AllocPage</a>&nbsp;alloc_page)
                throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Compress free pages at end of this extent.
 <p>
 Search backward from end of extent and prepare data structures
 to return pages at end of extent to the OS. Returns the lowest
 page that can be returned to the OS.
 <p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Return bit of page where all pages that follow can
         be returned to the OS.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="compressPages-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>compressPages</h4>
<pre>protected&nbsp;void&nbsp;compressPages(int&nbsp;new_highest_page,
                             int&nbsp;num_pages_truncated)</pre>
</li>
</ul>
<a name="undoCompressPages-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>undoCompressPages</h4>
<pre>protected&nbsp;void&nbsp;undoCompressPages(int&nbsp;new_highest_page,
                                 int&nbsp;num_pages_truncated)</pre>
<div class="block">Undo the compress space operation.
 <p>
 Undo of this operation doesn't really "undo" the operation, it just
 makes sure the data structures are ok after the undo.  We are 
 guaranteed at the point of the transaction doing the 
 Undo of the compress space operation fixes up the bit maps to
 only point at pages within the new_highest_page range.
 <p>
 Prior to logging the compress space operation all pages greater 
 than 
 There are only 2 possibilities at this point:
 1) the truncate of pages greater than new_highest_page happened before
    the abort took place.  W
 2)</div>
</li>
</ul>
<a name="getExtentEnd--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExtentEnd</h4>
<pre>protected&nbsp;long&nbsp;getExtentEnd()</pre>
</li>
</ul>
<a name="getFreePageNumber-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFreePageNumber</h4>
<pre>protected&nbsp;long&nbsp;getFreePageNumber(long&nbsp;pnum)</pre>
<div class="block">Get a page number that is free</div>
</li>
</ul>
<a name="getPageOffset-long-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPageOffset</h4>
<pre>protected&nbsp;long&nbsp;getPageOffset(long&nbsp;pagenum,
                             int&nbsp;pagesize,
                             boolean&nbsp;deallocOK)
                      throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Get the physical offset of pagenum.
                If deallocOK is true, then even if pagenum is deallocated, it is OK.
                If deallocOK is false, then an exception is thrown if pagenum is
                deallocated.

                An exception is always thrown if pagenum is a free page</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="isRetired--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRetired</h4>
<pre>protected&nbsp;boolean&nbsp;isRetired()</pre>
<div class="block">Return the status of this extent</div>
</li>
</ul>
<a name="mayHaveFreePage--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mayHaveFreePage</h4>
<pre>private&nbsp;boolean&nbsp;mayHaveFreePage()</pre>
</li>
</ul>
<a name="setExtentFreePageStatus-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setExtentFreePageStatus</h4>
<pre>private&nbsp;void&nbsp;setExtentFreePageStatus(boolean&nbsp;hasFree)</pre>
</li>
</ul>
<a name="canAddFreePage-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>canAddFreePage</h4>
<pre>protected&nbsp;boolean&nbsp;canAddFreePage(long&nbsp;lastAllocatedPage)</pre>
</li>
</ul>
<a name="getPageStatus-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPageStatus</h4>
<pre>protected&nbsp;int&nbsp;getPageStatus(long&nbsp;pagenum)</pre>
<div class="block">Return the status of a particular page</div>
</li>
</ul>
<a name="getFirstPagenum--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFirstPagenum</h4>
<pre>protected&nbsp;long&nbsp;getFirstPagenum()</pre>
<div class="block">Get the first logical page number managed by this extent.</div>
</li>
</ul>
<a name="getLastPagenum--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastPagenum</h4>
<pre>protected&nbsp;long&nbsp;getLastPagenum()</pre>
<div class="block">Get the last logical page number managed by this extent.</div>
</li>
</ul>
<a name="getPagenum-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPagenum</h4>
<pre>protected&nbsp;long&nbsp;getPagenum(int&nbsp;bit_pos)</pre>
<div class="block">translate bit position in map to page number.
 <p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The page number of this "bit" in the extent map.</dd>
</dl>
</li>
</ul>
<a name="getLastPreallocPagenum--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastPreallocPagenum</h4>
<pre>protected&nbsp;long&nbsp;getLastPreallocPagenum()</pre>
<div class="block">get the last preallocated pagenumber managed by this alloc page</div>
</li>
</ul>
<a name="setLastPreallocPagenum-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLastPreallocPagenum</h4>
<pre>protected&nbsp;void&nbsp;setLastPreallocPagenum(long&nbsp;preAllocPagenum)</pre>
<div class="block">preallocated N pages, passed in the last preallocated page number.</div>
</li>
</ul>
<a name="getNextValidPageNumber-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextValidPageNumber</h4>
<pre>protected&nbsp;long&nbsp;getNextValidPageNumber(long&nbsp;prevPageNumber)</pre>
</li>
</ul>
<a name="getLastValidPageNumber--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastValidPageNumber</h4>
<pre>protected&nbsp;long&nbsp;getLastValidPageNumber()</pre>
</li>
</ul>
<a name="checkInRange-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkInRange</h4>
<pre>private&nbsp;void&nbsp;checkInRange(long&nbsp;pagenum)</pre>
</li>
</ul>
<a name="updateUnfilledPageInfo-org.apache.derby.impl.store.raw.data.AllocExtent-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateUnfilledPageInfo</h4>
<pre>protected&nbsp;void&nbsp;updateUnfilledPageInfo(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html" title="class in org.apache.derby.impl.store.raw.data">AllocExtent</a>&nbsp;inputExtent)</pre>
</li>
</ul>
<a name="trackUnfilledPage-long-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>trackUnfilledPage</h4>
<pre>protected&nbsp;boolean&nbsp;trackUnfilledPage(long&nbsp;pagenumber,
                                    boolean&nbsp;unfilled)</pre>
</li>
</ul>
<a name="getUnfilledPageNumber-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUnfilledPageNumber</h4>
<pre>protected&nbsp;long&nbsp;getUnfilledPageNumber(long&nbsp;pagenum)</pre>
<div class="block">Get a page number that is unfilled, pagenum is the last page that was
                rejected.</div>
</li>
</ul>
<a name="getAllocatedPageCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllocatedPageCount</h4>
<pre>protected&nbsp;int&nbsp;getAllocatedPageCount()</pre>
<div class="block">Get the number of used page in this extent</div>
</li>
</ul>
<a name="getUnfilledPageCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUnfilledPageCount</h4>
<pre>protected&nbsp;int&nbsp;getUnfilledPageCount()</pre>
<div class="block">Get the number of unfilled pages in this extent</div>
</li>
</ul>
<a name="getTotalPageCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTotalPageCount</h4>
<pre>protected&nbsp;int&nbsp;getTotalPageCount()</pre>
<div class="block">Get the total number of pages in this extent</div>
</li>
</ul>
<a name="toDebugString--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>toDebugString</h4>
<pre>protected&nbsp;java.lang.String&nbsp;toDebugString()</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Built on Mon 2017-07-03 23:03:59+0530, from revision Unversioned directory</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocationCache.html" title="class in org.apache.derby.impl.store.raw.data"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html" title="class in org.apache.derby.impl.store.raw.data"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/derby/impl/store/raw/data/AllocExtent.html" target="_top">Frames</a></li>
<li><a href="AllocExtent.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Apache Derby V10.13 Internals - <i>Copyright &copy; 2004,2016 The Apache Software Foundation. All Rights Reserved.</i></small></p>
</body>
</html>
