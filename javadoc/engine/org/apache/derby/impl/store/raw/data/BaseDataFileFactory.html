<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_66) on Mon Jul 03 23:05:18 IST 2017 -->
<title>BaseDataFileFactory (Apache Derby V10.13 Internals)</title>
<meta name="date" content="2017-07-03">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="BaseDataFileFactory (Apache Derby V10.13 Internals)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":9,"i6":9,"i7":9,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10,"i34":10,"i35":10,"i36":9,"i37":10,"i38":10,"i39":10,"i40":10,"i41":10,"i42":10,"i43":10,"i44":10,"i45":10,"i46":10,"i47":9,"i48":10,"i49":10,"i50":10,"i51":10,"i52":10,"i53":10,"i54":10,"i55":10,"i56":10,"i57":10,"i58":10,"i59":10,"i60":10,"i61":10,"i62":10,"i63":10,"i64":10,"i65":10,"i66":10,"i67":10,"i68":10,"i69":10,"i70":10,"i71":10,"i72":10,"i73":10,"i74":10,"i75":10,"i76":10,"i77":9,"i78":10,"i79":10,"i80":10,"i81":10,"i82":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactoryJ4.html" title="class in org.apache.derby.impl.store.raw.data"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html" target="_top">Frames</a></li>
<li><a href="BaseDataFileFactory.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.derby.impl.store.raw.data</div>
<h2 title="Class BaseDataFileFactory" class="title">Class BaseDataFileFactory</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.derby.impl.store.raw.data.BaseDataFileFactory</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.security.PrivilegedExceptionAction&lt;java.lang.Object&gt;, <a href="../../../../../../../org/apache/derby/iapi/services/cache/CacheableFactory.html" title="interface in org.apache.derby.iapi.services.cache">CacheableFactory</a>, <a href="../../../../../../../org/apache/derby/iapi/services/monitor/ModuleControl.html" title="interface in org.apache.derby.iapi.services.monitor">ModuleControl</a>, <a href="../../../../../../../org/apache/derby/iapi/services/monitor/ModuleSupportable.html" title="interface in org.apache.derby.iapi.services.monitor">ModuleSupportable</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Corruptable.html" title="interface in org.apache.derby.iapi.store.raw">Corruptable</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactoryJ4.html" title="class in org.apache.derby.impl.store.raw.data">BaseDataFileFactoryJ4</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">BaseDataFileFactory</span>
extends java.lang.Object
implements <a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a>, <a href="../../../../../../../org/apache/derby/iapi/services/cache/CacheableFactory.html" title="interface in org.apache.derby.iapi.services.cache">CacheableFactory</a>, <a href="../../../../../../../org/apache/derby/iapi/services/monitor/ModuleControl.html" title="interface in org.apache.derby.iapi.services.monitor">ModuleControl</a>, <a href="../../../../../../../org/apache/derby/iapi/services/monitor/ModuleSupportable.html" title="interface in org.apache.derby.iapi.services.monitor">ModuleSupportable</a>, java.security.PrivilegedExceptionAction&lt;java.lang.Object&gt;</pre>
<div class="block">Provides the abstract class with most of the implementation of DataFactory and
ModuleControl shared by all the different filesystem implementations.
<p>
RESOLVE (mikem - 2/19/98) -
Currently only getContainerClass() is abstract, there are probably more 
routines which should be abstract.  Also the other implementations should 
probably inherit from the abstract class, rather than from the DataFileFactory
class.  Also there probably should be a generic directory and the rest of the
filesystem implementations parallel to it.
I wanted to limit the changes going into the branch and then fix 
inheritance stuff in main.
<p>
The code in this class was moved over from DataFileFactory.java and then
that file was made to inherit from this one.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#actionCode">actionCode</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/io/StorageFile.html" title="interface in org.apache.derby.io">StorageFile</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#actionFile">actionFile</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.io.File</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#backupRoot">backupRoot</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.String[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#bfilelist">bfilelist</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#BOOT_ACTION">BOOT_ACTION</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/iapi/services/cache/CacheManager.html" title="interface in org.apache.derby.iapi.services.cache">CacheManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#containerCache">containerCache</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#containerId">containerId</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#databaseDirectory">databaseDirectory</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#databaseEncrypted">databaseEncrypted</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#dataDirectory">dataDirectory</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#dataNotSyncedAtAllocation">dataNotSyncedAtAllocation</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#dataNotSyncedAtCheckpoint">dataNotSyncedAtCheckpoint</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#DELETE_IF_EXISTS_ACTION">DELETE_IF_EXISTS_ACTION</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.Hashtable&lt;<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>,java.lang.Object[]&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#droppedTableStubInfo">droppedTableStubInfo</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/io/StorageFile.html" title="interface in org.apache.derby.io">StorageFile</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#exFileLock">exFileLock</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/iapi/store/access/FileResource.html" title="interface in org.apache.derby.iapi.store.access">FileResource</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#fileHandler">fileHandler</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/io/StorageRandomAccessFile.html" title="interface in org.apache.derby.io">StorageRandomAccessFile</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#fileLockOnDB">fileLockOnDB</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#FIND_MAX_CONTAINER_ID_ACTION">FIND_MAX_CONTAINER_ID_ACTION</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.lang.Object</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#freezeSemaphore">freezeSemaphore</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#GET_ALTERNATE_CONTAINER_PATH_ACTION">GET_ALTERNATE_CONTAINER_PATH_ACTION</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#GET_CONTAINER_NAMES_ACTION">GET_CONTAINER_NAMES_ACTION</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#GET_CONTAINER_PATH_ACTION">GET_CONTAINER_PATH_ACTION</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#GET_LOCK_ON_DB_ACTION">GET_LOCK_ON_DB_ACTION</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#GET_PATH_ACTION">GET_PATH_ACTION</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/catalog/UUID.html" title="interface in org.apache.derby.catalog">UUID</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#identifier">identifier</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#inCreateNoLog">inCreateNoLog</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#isCorrupt">isCorrupt</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#isFrozen">isFrozen</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/iapi/services/stream/HeaderPrintWriter.html" title="interface in org.apache.derby.iapi.services.stream">HeaderPrintWriter</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#istream">istream</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#jarCPath">jarCPath</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/iapi/services/info/ProductVersionHolder.html" title="class in org.apache.derby.iapi.services.info">ProductVersionHolder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#jbmsVersion">jbmsVersion</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#jvmVersion">jvmVersion</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#LINE">LINE</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html" title="interface in org.apache.derby.iapi.store.raw.log">LogFactory</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#logFactory">logFactory</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocationActions.html" title="interface in org.apache.derby.impl.store.raw.data">AllocationActions</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#loggableAllocActions">loggableAllocActions</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/impl/store/raw/data/PageActions.html" title="interface in org.apache.derby.impl.store.raw.data">PageActions</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#loggablePageActions">loggablePageActions</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/catalog/UUID.html" title="interface in org.apache.derby.catalog">UUID</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#myUUID">myUUID</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#nextContainerId">nextContainerId</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#osInfo">osInfo</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/iapi/services/cache/CacheManager.html" title="interface in org.apache.derby.iapi.services.cache">CacheManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#pageCache">pageCache</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#POST_RECOVERY_REMOVE_ACTION">POST_RECOVERY_REMOVE_ACTION</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.Hashtable&lt;java.lang.String,<a href="../../../../../../../org/apache/derby/io/StorageFile.html" title="interface in org.apache.derby.io">StorageFile</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#postRecoveryRemovedFiles">postRecoveryRemovedFiles</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/iapi/store/raw/RawStoreFactory.html" title="interface in org.apache.derby.iapi.store.raw">RawStoreFactory</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#rawStoreFactory">rawStoreFactory</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#readOnly">readOnly</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#RELEASE_LOCK_ON_DB_ACTION">RELEASE_LOCK_ON_DB_ACTION</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#REMOVE_STUBS_ACTION">REMOVE_STUBS_ACTION</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#REMOVE_TEMP_DIRECTORY_ACTION">REMOVE_TEMP_DIRECTORY_ACTION</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#removeStubsOK">removeStubsOK</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#RESTORE_DATA_DIRECTORY_ACTION">RESTORE_DATA_DIRECTORY_ACTION</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) <a href="../../../../../../../org/apache/derby/io/StorageFactory.html" title="interface in org.apache.derby.io">StorageFactory</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#storageFactory">storageFactory</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#stub">stub</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#supportsRandomAccess">supportsRandomAccess</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#throwDBlckException">throwDBlckException</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/iapi/store/raw/UndoHandler.html" title="interface in org.apache.derby.iapi.store.raw">UndoHandler</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#undo_handler">undo_handler</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/iapi/services/uuid/UUIDFactory.html" title="interface in org.apache.derby.iapi.services.uuid">UUIDFactory</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#uuidFactory">uuidFactory</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) <a href="../../../../../../../org/apache/derby/io/WritableStorageFactory.html" title="interface in org.apache.derby.io">WritableStorageFactory</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#writableStorageFactory">writableStorageFactory</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#writersInProgress">writersInProgress</a></span></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.apache.derby.iapi.store.raw.data.DataFactory">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;org.apache.derby.iapi.store.raw.data.<a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></h3>
<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#DB_EX_LOCKFILE_NAME">DB_EX_LOCKFILE_NAME</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#DB_LOCKFILE_NAME">DB_LOCKFILE_NAME</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#MODULE">MODULE</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#TEMP_SEGMENT_NAME">TEMP_SEGMENT_NAME</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#BaseDataFileFactory--">BaseDataFileFactory</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#addAndLoadStreamContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-long-java.util.Properties-org.apache.derby.iapi.store.access.RowSource-">addAndLoadStreamContainer</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t,
                         long&nbsp;segmentId,
                         java.util.Properties&nbsp;tableProperties,
                         <a href="../../../../../../../org/apache/derby/iapi/store/access/RowSource.html" title="interface in org.apache.derby.iapi.store.access">RowSource</a>&nbsp;rowSource)</code>
<div class="block">Add and load a stream container</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#addContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-long-long-int-java.util.Properties-int-">addContainer</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t,
            long&nbsp;segmentId,
            long&nbsp;input_containerid,
            int&nbsp;mode,
            java.util.Properties&nbsp;tableProperties,
            int&nbsp;temporaryFlag)</code>
<div class="block">Add a container with a specified page size to a segment.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#backupDataFiles-org.apache.derby.iapi.store.raw.Transaction-java.io.File-">backupDataFiles</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a>&nbsp;rt,
               java.io.File&nbsp;backupDir)</code>
<div class="block">Back up the data segment of the database.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#boot-boolean-java.util.Properties-">boot</a></span>(boolean&nbsp;create,
    java.util.Properties&nbsp;startParams)</code>
<div class="block">Boot this module with the given properties.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#bootLogFactory-boolean-java.util.Properties-">bootLogFactory</a></span>(boolean&nbsp;create,
              java.util.Properties&nbsp;startParams)</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>private static java.lang.Object</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#bootServiceModule-boolean-java.lang.Object-java.lang.String-java.util.Properties-">bootServiceModule</a></span>(boolean&nbsp;create,
                 java.lang.Object&nbsp;serviceModule,
                 java.lang.String&nbsp;factoryInterface,
                 java.util.Properties&nbsp;properties)</code>
<div class="block">Privileged startup.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#buildJvmVersion--">buildJvmVersion</a></span>()</code>
<div class="block">Return values of system properties that identify the JVM.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#buildOSinfo--">buildOSinfo</a></span>()</code>
<div class="block">Return values of system properties that identify the OS.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#canSupport-java.util.Properties-">canSupport</a></span>(java.util.Properties&nbsp;startParams)</code>
<div class="block">See if this implementation can support any attributes that are listed in properties.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#checkpoint--">checkpoint</a></span>()</code>
<div class="block">Implement checkpoint operation, write/sync all pages in cache.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#createFinished--">createFinished</a></span>()</code>
<div class="block">Database creation finished</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#databaseEncrypted--">databaseEncrypted</a></span>()</code>
<div class="block">Returns if data base is in encrypted mode.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#decrypt-byte:A-int-int-byte:A-int-">decrypt</a></span>(byte[]&nbsp;ciphertext,
       int&nbsp;offset,
       int&nbsp;length,
       byte[]&nbsp;cleartext,
       int&nbsp;outputOffset)</code>
<div class="block">Decrypt cleartext from ciphertext.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#decryptAllContainers-org.apache.derby.iapi.store.raw.xact.RawTransaction-">decryptAllContainers</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t)</code>
<div class="block">Decrypts all the containers in the data segment.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#dropContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-org.apache.derby.iapi.store.raw.ContainerKey-">dropContainer</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t,
             <a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;ckey)</code>
<div class="block">Drop a container.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#dropStreamContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-long-long-">dropStreamContainer</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t,
                   long&nbsp;segmentId,
                   long&nbsp;containerId)</code>
<div class="block">Drop a stream container.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#encrypt-byte:A-int-int-byte:A-int-boolean-">encrypt</a></span>(byte[]&nbsp;cleartext,
       int&nbsp;offset,
       int&nbsp;length,
       byte[]&nbsp;ciphertext,
       int&nbsp;outputOffset,
       boolean&nbsp;newEngine)</code>
<div class="block">Encrypt cleartext into ciphertext.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#encryptAllContainers-org.apache.derby.iapi.store.raw.xact.RawTransaction-">encryptAllContainers</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t)</code>
<div class="block">Encrypt all the containers in the data segment.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#fileToRemove-org.apache.derby.io.StorageFile-boolean-">fileToRemove</a></span>(<a href="../../../../../../../org/apache/derby/io/StorageFile.html" title="interface in org.apache.derby.io">StorageFile</a>&nbsp;file,
            boolean&nbsp;remove)</code>
<div class="block">Add a file to the list of files to be removed post recovery.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#findMaxContainerId--">findMaxContainerId</a></span>()</code>
<div class="block">Find the largest containerid is seg 0.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#flush-org.apache.derby.iapi.store.raw.log.LogInstant-">flush</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant)</code>
<div class="block">Ask the log factory to flush up to this log instant.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#freezePersistentStore--">freezePersistentStore</a></span>()</code>
<div class="block">Backup restore - stop writing dirty pages or container to disk</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/io/StorageFile.html" title="interface in org.apache.derby.io">StorageFile</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#getAlternateContainerPath-org.apache.derby.iapi.store.raw.ContainerKey-boolean-">getAlternateContainerPath</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;containerId,
                         boolean&nbsp;stub)</code>
<div class="block">Return an alternate path to container file relative to the root directory.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>(package private) <a href="../../../../../../../org/apache/derby/iapi/services/cache/CacheManager.html" title="interface in org.apache.derby.iapi.services.cache">CacheManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#getContainerCache--">getContainerCache</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>(package private) java.lang.String[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#getContainerNames--">getContainerNames</a></span>()</code>
<div class="block">get all the names of the files in seg 0.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/io/StorageFile.html" title="interface in org.apache.derby.io">StorageFile</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#getContainerPath-org.apache.derby.iapi.store.raw.ContainerKey-boolean-">getContainerPath</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;containerId,
                boolean&nbsp;stub)</code>
<div class="block">Return the path to a container file.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/io/StorageFile.html" title="interface in org.apache.derby.io">StorageFile</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#getContainerPath-org.apache.derby.iapi.store.raw.ContainerKey-boolean-int-">getContainerPath</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;containerId,
                boolean&nbsp;stub,
                int&nbsp;code)</code>&nbsp;</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#getEncryptionBlockSize--">getEncryptionBlockSize</a></span>()</code>
<div class="block">Returns the encryption block size used by the algorithm at time of
                creation of an encrypted database</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/access/FileResource.html" title="interface in org.apache.derby.iapi.store.access">FileResource</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#getFileHandler--">getFileHandler</a></span>()</code>
<div class="block">Get an object to handle non-transactional files.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/catalog/UUID.html" title="interface in org.apache.derby.catalog">UUID</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#getIdentifier--">getIdentifier</a></span>()</code>
<div class="block">Return my unique identifier</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#getIntParameter-java.lang.String-java.util.Properties-int-int-int-">getIntParameter</a></span>(java.lang.String&nbsp;parameterName,
               java.util.Properties&nbsp;properties,
               int&nbsp;defaultValue,
               int&nbsp;minimumValue,
               int&nbsp;maximumValue)</code>&nbsp;</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#getJBMSLockOnDB-org.apache.derby.catalog.UUID-org.apache.derby.iapi.services.uuid.UUIDFactory-java.lang.String-">getJBMSLockOnDB</a></span>(<a href="../../../../../../../org/apache/derby/catalog/UUID.html" title="interface in org.apache.derby.catalog">UUID</a>&nbsp;myUUID,
               <a href="../../../../../../../org/apache/derby/iapi/services/uuid/UUIDFactory.html" title="interface in org.apache.derby.iapi.services.uuid">UUIDFactory</a>&nbsp;uuidFactory,
               java.lang.String&nbsp;databaseDirectory)</code>
<div class="block">check to see if we are the only JBMS opened against this database.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>(package private) <a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html" title="interface in org.apache.derby.iapi.store.raw.log">LogFactory</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#getLogFactory--">getLogFactory</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocationActions.html" title="interface in org.apache.derby.impl.store.raw.data">AllocationActions</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#getLoggableAllocationActions--">getLoggableAllocationActions</a></span>()</code>
<div class="block">Get the loggable allocation action associated with this implementation</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/impl/store/raw/data/PageActions.html" title="interface in org.apache.derby.impl.store.raw.data">PageActions</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#getLoggablePageActions--">getLoggablePageActions</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#getMaxContainerId--">getMaxContainerId</a></span>()</code>
<div class="block">Return an id which can be used to create a container.</div>
</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code>private static <a href="../../../../../../../org/apache/derby/iapi/services/monitor/ModuleFactory.html" title="interface in org.apache.derby.iapi.services.monitor">ModuleFactory</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#getMonitor--">getMonitor</a></span>()</code>
<div class="block">Privileged Monitor lookup.</div>
</td>
</tr>
<tr id="i37" class="rowColor">
<td class="colFirst"><code>(package private) long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#getNextId--">getNextId</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i38" class="altColor">
<td class="colFirst"><code>(package private) <a href="../../../../../../../org/apache/derby/iapi/services/cache/CacheManager.html" title="interface in org.apache.derby.iapi.services.cache">CacheManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#getPageCache--">getPageCache</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i39" class="rowColor">
<td class="colFirst"><code>(package private) <a href="../../../../../../../org/apache/derby/iapi/store/raw/RawStoreFactory.html" title="interface in org.apache.derby.iapi.store.raw">RawStoreFactory</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#getRawStoreFactory--">getRawStoreFactory</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i40" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#getRootDirectory--">getRootDirectory</a></span>()</code>
<div class="block">
 Get the root directory of the data storage area.</div>
</td>
</tr>
<tr id="i41" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/io/StorageFactory.html" title="interface in org.apache.derby.io">StorageFactory</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#getStorageFactory--">getStorageFactory</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i42" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#getVersionedName-java.lang.String-long-">getVersionedName</a></span>(java.lang.String&nbsp;name,
                long&nbsp;generationId)</code>&nbsp;</td>
</tr>
<tr id="i43" class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#handleServiceType-java.lang.String-">handleServiceType</a></span>(java.lang.String&nbsp;type)</code>
<div class="block">Does this factory support this service type.</div>
</td>
</tr>
<tr id="i44" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#idle--">idle</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i45" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#insertUndoNotify-org.apache.derby.iapi.store.raw.xact.RawTransaction-org.apache.derby.iapi.store.raw.PageKey-">insertUndoNotify</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;rxact,
                <a href="../../../../../../../org/apache/derby/iapi/store/raw/PageKey.html" title="class in org.apache.derby.iapi.store.raw">PageKey</a>&nbsp;page_key)</code>
<div class="block">Notify through set handler that an undo of an insert has happened.</div>
</td>
</tr>
<tr id="i46" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#isReadOnly--">isReadOnly</a></span>()</code>
<div class="block">Is the store read-only.</div>
</td>
</tr>
<tr id="i47" class="rowColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#jarClassPath-java.lang.Class-">jarClassPath</a></span>(java.lang.Class&nbsp;cls)</code>
<div class="block">Return a jar file by asking the class's 
 class loader for the location where the class was loaded from.</div>
</td>
</tr>
<tr id="i48" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#logMsg-java.lang.String-">logMsg</a></span>(java.lang.String&nbsp;msg)</code>&nbsp;</td>
</tr>
<tr id="i49" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#luceneLoaded--">luceneLoaded</a></span>()</code>
<div class="block">Return true if the Lucene plugin is loaded</div>
</td>
</tr>
<tr id="i50" class="altColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#markCorrupt-org.apache.derby.iapi.error.StandardException-">markCorrupt</a></span>(<a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a>&nbsp;originalError)</code>
<div class="block">Really this is just a convience routine for callers that might not
                have access to a log factory.</div>
</td>
</tr>
<tr id="i51" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/services/cache/Cacheable.html" title="interface in org.apache.derby.iapi.services.cache">Cacheable</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#newCacheable-org.apache.derby.iapi.services.cache.CacheManager-">newCacheable</a></span>(<a href="../../../../../../../org/apache/derby/iapi/services/cache/CacheManager.html" title="interface in org.apache.derby.iapi.services.cache">CacheManager</a>&nbsp;cm)</code>&nbsp;</td>
</tr>
<tr id="i52" class="altColor">
<td class="colFirst"><code>(package private) <a href="../../../../../../../org/apache/derby/iapi/services/cache/Cacheable.html" title="interface in org.apache.derby.iapi.services.cache">Cacheable</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#newContainerObject--">newContainerObject</a></span>()</code>
<div class="block">Produces new container objects.</div>
</td>
</tr>
<tr id="i53" class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/iapi/services/cache/Cacheable.html" title="interface in org.apache.derby.iapi.services.cache">Cacheable</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#newRAFContainer-org.apache.derby.impl.store.raw.data.BaseDataFileFactory-">newRAFContainer</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html" title="class in org.apache.derby.impl.store.raw.data">BaseDataFileFactory</a>&nbsp;factory)</code>
<div class="block">Creates a RAFContainer object.</div>
</td>
</tr>
<tr id="i54" class="altColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw">ContainerHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#openContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-org.apache.derby.iapi.store.raw.ContainerKey-org.apache.derby.iapi.store.raw.LockingPolicy-int-">openContainer</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t,
             <a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;containerId,
             <a href="../../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw">LockingPolicy</a>&nbsp;locking,
             int&nbsp;mode)</code>
<div class="block">Open a container that is not droped.</div>
</td>
</tr>
<tr id="i55" class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/iapi/store/raw/data/RawContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw.data">RawContainerHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#openContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-org.apache.derby.iapi.store.raw.ContainerKey-org.apache.derby.iapi.store.raw.LockingPolicy-int-boolean-">openContainer</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t,
             <a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;identity,
             <a href="../../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw">LockingPolicy</a>&nbsp;locking,
             int&nbsp;mode,
             boolean&nbsp;droppedOK)</code>&nbsp;</td>
</tr>
<tr id="i56" class="altColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/RawContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw.data">RawContainerHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#openDroppedContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-org.apache.derby.iapi.store.raw.ContainerKey-org.apache.derby.iapi.store.raw.LockingPolicy-int-">openDroppedContainer</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t,
                    <a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;containerId,
                    <a href="../../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw">LockingPolicy</a>&nbsp;locking,
                    int&nbsp;mode)</code>
<div class="block">Open a container that may have been dropped.</div>
</td>
</tr>
<tr id="i57" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/StreamContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw">StreamContainerHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#openStreamContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-long-long-boolean-">openStreamContainer</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t,
                   long&nbsp;segmentId,
                   long&nbsp;containerId,
                   boolean&nbsp;hold)</code>
<div class="block">open an exsisting streamContainer</div>
</td>
</tr>
<tr id="i58" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#postRecovery--">postRecovery</a></span>()</code>
<div class="block">Called after recovery is performed.</div>
</td>
</tr>
<tr id="i59" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#privGetJBMSLockOnDB--">privGetJBMSLockOnDB</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i60" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#privReleaseJBMSLockOnDB--">privReleaseJBMSLockOnDB</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i61" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#privRestoreDataDirectory--">privRestoreDataDirectory</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i62" class="altColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#random--">random</a></span>()</code>
<div class="block">return a secure random number</div>
</td>
</tr>
<tr id="i63" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#reclaimSpace-org.apache.derby.iapi.services.daemon.Serviceable-org.apache.derby.iapi.services.context.ContextManager-">reclaimSpace</a></span>(<a href="../../../../../../../org/apache/derby/iapi/services/daemon/Serviceable.html" title="interface in org.apache.derby.iapi.services.daemon">Serviceable</a>&nbsp;work,
            <a href="../../../../../../../org/apache/derby/iapi/services/context/ContextManager.html" title="class in org.apache.derby.iapi.services.context">ContextManager</a>&nbsp;contextMgr)</code>
<div class="block">Reclaim space used by this factory.</div>
</td>
</tr>
<tr id="i64" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#reCreateContainerForRedoRecovery-org.apache.derby.iapi.store.raw.xact.RawTransaction-long-long-org.apache.derby.iapi.util.ByteArray-">reCreateContainerForRedoRecovery</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t,
                                long&nbsp;segmentId,
                                long&nbsp;containerId,
                                <a href="../../../../../../../org/apache/derby/iapi/util/ByteArray.html" title="class in org.apache.derby.iapi.util">ByteArray</a>&nbsp;containerInfo)</code>
<div class="block">re-Create a container during redo recovery.</div>
</td>
</tr>
<tr id="i65" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#releaseJBMSLockOnDB--">releaseJBMSLockOnDB</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i66" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#removeDroppedContainerFileStubs-org.apache.derby.iapi.store.raw.log.LogInstant-">removeDroppedContainerFileStubs</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;redoLWM)</code>
<div class="block">Delete the stub files that are not required for recovery.</div>
</td>
</tr>
<tr id="i67" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#removeOldVersionOfContainers--">removeOldVersionOfContainers</a></span>()</code>
<div class="block">Removes old versions of the containers after a cryptographic operation
 on the database.</div>
</td>
</tr>
<tr id="i68" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#removeStubs--">removeStubs</a></span>()</code>
<div class="block">Remove stubs in this database.</div>
</td>
</tr>
<tr id="i69" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#removeStubsOK--">removeStubsOK</a></span>()</code>
<div class="block">Tell the data factory it is OK to remove committed deleted containers
                when the data factory shuts down.</div>
</td>
</tr>
<tr id="i70" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#removeTempDirectory--">removeTempDirectory</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i71" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#restoreDataDirectory-java.lang.String-">restoreDataDirectory</a></span>(java.lang.String&nbsp;backupPath)</code>
<div class="block">removes the data directory(seg*) from database home directory and
 restores it from backup location.</div>
</td>
</tr>
<tr id="i72" class="altColor">
<td class="colFirst"><code>java.lang.Object</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#run--">run</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i73" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#setDatabaseEncrypted-boolean-">setDatabaseEncrypted</a></span>(boolean&nbsp;isEncrypted)</code>
<div class="block">Sets whether the database is encrypted.</div>
</td>
</tr>
<tr id="i74" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#setRawStoreFactory-org.apache.derby.iapi.store.raw.RawStoreFactory-boolean-java.util.Properties-">setRawStoreFactory</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/RawStoreFactory.html" title="interface in org.apache.derby.iapi.store.raw">RawStoreFactory</a>&nbsp;rsf,
                  boolean&nbsp;create,
                  java.util.Properties&nbsp;startParams)</code>
<div class="block">make data factory aware of which raw store factory it belongs to
                Also need to boot the LogFactory</div>
</td>
</tr>
<tr id="i75" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#setUndoInsertEventHandler-org.apache.derby.iapi.store.raw.UndoHandler-">setUndoInsertEventHandler</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/UndoHandler.html" title="interface in org.apache.derby.iapi.store.raw">UndoHandler</a>&nbsp;input_undo_handle)</code>
<div class="block">Register a handler class for insert undo events.</div>
</td>
</tr>
<tr id="i76" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#setupCacheCleaner-org.apache.derby.iapi.services.daemon.DaemonService-">setupCacheCleaner</a></span>(<a href="../../../../../../../org/apache/derby/iapi/services/daemon/DaemonService.html" title="interface in org.apache.derby.iapi.services.daemon">DaemonService</a>&nbsp;daemon)</code>
<div class="block">Set up the cache cleaner for the container cache and the page cache.</div>
</td>
</tr>
<tr id="i77" class="rowColor">
<td class="colFirst"><code>private static java.lang.Object</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#startSystemModule-java.lang.String-">startSystemModule</a></span>(java.lang.String&nbsp;factoryInterface)</code>
<div class="block">Privileged startup.</div>
</td>
</tr>
<tr id="i78" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#stop--">stop</a></span>()</code>
<div class="block">Stop the module.</div>
</td>
</tr>
<tr id="i79" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#stubFileToRemoveAfterCheckPoint-org.apache.derby.io.StorageFile-org.apache.derby.iapi.store.raw.log.LogInstant-java.lang.Object-">stubFileToRemoveAfterCheckPoint</a></span>(<a href="../../../../../../../org/apache/derby/io/StorageFile.html" title="interface in org.apache.derby.io">StorageFile</a>&nbsp;file,
                               <a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;logInstant,
                               java.lang.Object&nbsp;identity)</code>
<div class="block">keeps track of information about the stub files of the  committed deleted
 containers.</div>
</td>
</tr>
<tr id="i80" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#unfreezePersistentStore--">unfreezePersistentStore</a></span>()</code>
<div class="block">Backup restore - start writing dirty pages or container to disk</div>
</td>
</tr>
<tr id="i81" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#writeFinished--">writeFinished</a></span>()</code>
<div class="block">Backup restore - write finished, if this is the last writer, allow the
 persistent store to proceed.</div>
</td>
</tr>
<tr id="i82" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html#writeInProgress--">writeInProgress</a></span>()</code>
<div class="block">Backup restore - don't allow the persistent store to be frozen - or if
 it is already frozen, block.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="storageFactory">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>storageFactory</h4>
<pre><a href="../../../../../../../org/apache/derby/io/StorageFactory.html" title="interface in org.apache.derby.io">StorageFactory</a> storageFactory</pre>
</li>
</ul>
<a name="writableStorageFactory">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writableStorageFactory</h4>
<pre><a href="../../../../../../../org/apache/derby/io/WritableStorageFactory.html" title="interface in org.apache.derby.io">WritableStorageFactory</a> writableStorageFactory</pre>
</li>
</ul>
<a name="nextContainerId">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nextContainerId</h4>
<pre>private&nbsp;long nextContainerId</pre>
</li>
</ul>
<a name="databaseEncrypted">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>databaseEncrypted</h4>
<pre>private&nbsp;boolean databaseEncrypted</pre>
</li>
</ul>
<a name="pageCache">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pageCache</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/iapi/services/cache/CacheManager.html" title="interface in org.apache.derby.iapi.services.cache">CacheManager</a> pageCache</pre>
</li>
</ul>
<a name="containerCache">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>containerCache</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/iapi/services/cache/CacheManager.html" title="interface in org.apache.derby.iapi.services.cache">CacheManager</a> containerCache</pre>
</li>
</ul>
<a name="logFactory">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logFactory</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html" title="interface in org.apache.derby.iapi.store.raw.log">LogFactory</a> logFactory</pre>
</li>
</ul>
<a name="jbmsVersion">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>jbmsVersion</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/iapi/services/info/ProductVersionHolder.html" title="class in org.apache.derby.iapi.services.info">ProductVersionHolder</a> jbmsVersion</pre>
</li>
</ul>
<a name="jvmVersion">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>jvmVersion</h4>
<pre>private&nbsp;java.lang.String jvmVersion</pre>
</li>
</ul>
<a name="osInfo">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>osInfo</h4>
<pre>private&nbsp;java.lang.String osInfo</pre>
</li>
</ul>
<a name="jarCPath">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>jarCPath</h4>
<pre>private&nbsp;java.lang.String jarCPath</pre>
</li>
</ul>
<a name="rawStoreFactory">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rawStoreFactory</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/RawStoreFactory.html" title="interface in org.apache.derby.iapi.store.raw">RawStoreFactory</a> rawStoreFactory</pre>
</li>
</ul>
<a name="dataDirectory">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dataDirectory</h4>
<pre>private&nbsp;java.lang.String dataDirectory</pre>
</li>
</ul>
<a name="throwDBlckException">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>throwDBlckException</h4>
<pre>private&nbsp;boolean throwDBlckException</pre>
</li>
</ul>
<a name="identifier">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>identifier</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/catalog/UUID.html" title="interface in org.apache.derby.catalog">UUID</a> identifier</pre>
</li>
</ul>
<a name="freezeSemaphore">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>freezeSemaphore</h4>
<pre>private final&nbsp;java.lang.Object freezeSemaphore</pre>
</li>
</ul>
<a name="isFrozen">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isFrozen</h4>
<pre>private&nbsp;boolean isFrozen</pre>
</li>
</ul>
<a name="writersInProgress">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writersInProgress</h4>
<pre>private&nbsp;int writersInProgress</pre>
</li>
</ul>
<a name="removeStubsOK">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeStubsOK</h4>
<pre>private&nbsp;boolean removeStubsOK</pre>
</li>
</ul>
<a name="isCorrupt">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isCorrupt</h4>
<pre>private&nbsp;boolean isCorrupt</pre>
</li>
</ul>
<a name="inCreateNoLog">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inCreateNoLog</h4>
<pre>private&nbsp;boolean inCreateNoLog</pre>
</li>
</ul>
<a name="fileLockOnDB">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fileLockOnDB</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/io/StorageRandomAccessFile.html" title="interface in org.apache.derby.io">StorageRandomAccessFile</a> fileLockOnDB</pre>
</li>
</ul>
<a name="exFileLock">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>exFileLock</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/io/StorageFile.html" title="interface in org.apache.derby.io">StorageFile</a> exFileLock</pre>
</li>
</ul>
<a name="istream">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>istream</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/iapi/services/stream/HeaderPrintWriter.html" title="interface in org.apache.derby.iapi.services.stream">HeaderPrintWriter</a> istream</pre>
</li>
</ul>
<a name="LINE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LINE</h4>
<pre>private static final&nbsp;java.lang.String LINE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.BaseDataFileFactory.LINE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="dataNotSyncedAtAllocation">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dataNotSyncedAtAllocation</h4>
<pre>boolean dataNotSyncedAtAllocation</pre>
</li>
</ul>
<a name="dataNotSyncedAtCheckpoint">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dataNotSyncedAtCheckpoint</h4>
<pre>boolean dataNotSyncedAtCheckpoint</pre>
</li>
</ul>
<a name="loggablePageActions">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loggablePageActions</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/raw/data/PageActions.html" title="interface in org.apache.derby.impl.store.raw.data">PageActions</a> loggablePageActions</pre>
</li>
</ul>
<a name="loggableAllocActions">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loggableAllocActions</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocationActions.html" title="interface in org.apache.derby.impl.store.raw.data">AllocationActions</a> loggableAllocActions</pre>
</li>
</ul>
<a name="readOnly">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readOnly</h4>
<pre>private&nbsp;boolean readOnly</pre>
</li>
</ul>
<a name="supportsRandomAccess">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>supportsRandomAccess</h4>
<pre>private&nbsp;boolean supportsRandomAccess</pre>
</li>
</ul>
<a name="fileHandler">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fileHandler</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/access/FileResource.html" title="interface in org.apache.derby.iapi.store.access">FileResource</a> fileHandler</pre>
</li>
</ul>
<a name="droppedTableStubInfo">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>droppedTableStubInfo</h4>
<pre>private&nbsp;java.util.Hashtable&lt;<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>,java.lang.Object[]&gt; droppedTableStubInfo</pre>
</li>
</ul>
<a name="postRecoveryRemovedFiles">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>postRecoveryRemovedFiles</h4>
<pre>private&nbsp;java.util.Hashtable&lt;java.lang.String,<a href="../../../../../../../org/apache/derby/io/StorageFile.html" title="interface in org.apache.derby.io">StorageFile</a>&gt; postRecoveryRemovedFiles</pre>
</li>
</ul>
<a name="actionCode">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>actionCode</h4>
<pre>private&nbsp;int actionCode</pre>
</li>
</ul>
<a name="REMOVE_TEMP_DIRECTORY_ACTION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>REMOVE_TEMP_DIRECTORY_ACTION</h4>
<pre>private static final&nbsp;int REMOVE_TEMP_DIRECTORY_ACTION</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.BaseDataFileFactory.REMOVE_TEMP_DIRECTORY_ACTION">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="GET_CONTAINER_PATH_ACTION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>GET_CONTAINER_PATH_ACTION</h4>
<pre>private static final&nbsp;int GET_CONTAINER_PATH_ACTION</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.BaseDataFileFactory.GET_CONTAINER_PATH_ACTION">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="GET_ALTERNATE_CONTAINER_PATH_ACTION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>GET_ALTERNATE_CONTAINER_PATH_ACTION</h4>
<pre>private static final&nbsp;int GET_ALTERNATE_CONTAINER_PATH_ACTION</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.BaseDataFileFactory.GET_ALTERNATE_CONTAINER_PATH_ACTION">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="FIND_MAX_CONTAINER_ID_ACTION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FIND_MAX_CONTAINER_ID_ACTION</h4>
<pre>private static final&nbsp;int FIND_MAX_CONTAINER_ID_ACTION</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.BaseDataFileFactory.FIND_MAX_CONTAINER_ID_ACTION">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="DELETE_IF_EXISTS_ACTION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DELETE_IF_EXISTS_ACTION</h4>
<pre>private static final&nbsp;int DELETE_IF_EXISTS_ACTION</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.BaseDataFileFactory.DELETE_IF_EXISTS_ACTION">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="GET_PATH_ACTION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>GET_PATH_ACTION</h4>
<pre>private static final&nbsp;int GET_PATH_ACTION</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.BaseDataFileFactory.GET_PATH_ACTION">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="POST_RECOVERY_REMOVE_ACTION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>POST_RECOVERY_REMOVE_ACTION</h4>
<pre>private static final&nbsp;int POST_RECOVERY_REMOVE_ACTION</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.BaseDataFileFactory.POST_RECOVERY_REMOVE_ACTION">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="REMOVE_STUBS_ACTION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>REMOVE_STUBS_ACTION</h4>
<pre>private static final&nbsp;int REMOVE_STUBS_ACTION</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.BaseDataFileFactory.REMOVE_STUBS_ACTION">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="BOOT_ACTION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BOOT_ACTION</h4>
<pre>private static final&nbsp;int BOOT_ACTION</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.BaseDataFileFactory.BOOT_ACTION">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="GET_LOCK_ON_DB_ACTION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>GET_LOCK_ON_DB_ACTION</h4>
<pre>private static final&nbsp;int GET_LOCK_ON_DB_ACTION</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.BaseDataFileFactory.GET_LOCK_ON_DB_ACTION">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="RELEASE_LOCK_ON_DB_ACTION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RELEASE_LOCK_ON_DB_ACTION</h4>
<pre>private static final&nbsp;int RELEASE_LOCK_ON_DB_ACTION</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.BaseDataFileFactory.RELEASE_LOCK_ON_DB_ACTION">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="RESTORE_DATA_DIRECTORY_ACTION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RESTORE_DATA_DIRECTORY_ACTION</h4>
<pre>private static final&nbsp;int RESTORE_DATA_DIRECTORY_ACTION</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.BaseDataFileFactory.RESTORE_DATA_DIRECTORY_ACTION">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="GET_CONTAINER_NAMES_ACTION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>GET_CONTAINER_NAMES_ACTION</h4>
<pre>private static final&nbsp;int GET_CONTAINER_NAMES_ACTION</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.BaseDataFileFactory.GET_CONTAINER_NAMES_ACTION">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="containerId">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>containerId</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a> containerId</pre>
</li>
</ul>
<a name="stub">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stub</h4>
<pre>private&nbsp;boolean stub</pre>
</li>
</ul>
<a name="actionFile">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>actionFile</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/io/StorageFile.html" title="interface in org.apache.derby.io">StorageFile</a> actionFile</pre>
</li>
</ul>
<a name="myUUID">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>myUUID</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/catalog/UUID.html" title="interface in org.apache.derby.catalog">UUID</a> myUUID</pre>
</li>
</ul>
<a name="uuidFactory">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>uuidFactory</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/iapi/services/uuid/UUIDFactory.html" title="interface in org.apache.derby.iapi.services.uuid">UUIDFactory</a> uuidFactory</pre>
</li>
</ul>
<a name="databaseDirectory">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>databaseDirectory</h4>
<pre>private&nbsp;java.lang.String databaseDirectory</pre>
</li>
</ul>
<a name="backupRoot">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>backupRoot</h4>
<pre>private&nbsp;java.io.File backupRoot</pre>
</li>
</ul>
<a name="bfilelist">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bfilelist</h4>
<pre>private&nbsp;java.lang.String[] bfilelist</pre>
</li>
</ul>
<a name="undo_handler">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>undo_handler</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/UndoHandler.html" title="interface in org.apache.derby.iapi.store.raw">UndoHandler</a> undo_handler</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="BaseDataFileFactory--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>BaseDataFileFactory</h4>
<pre>public&nbsp;BaseDataFileFactory()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="canSupport-java.util.Properties-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>canSupport</h4>
<pre>public&nbsp;boolean&nbsp;canSupport(java.util.Properties&nbsp;startParams)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/services/monitor/ModuleSupportable.html#canSupport-java.util.Properties-">ModuleSupportable</a></code></span></div>
<div class="block">See if this implementation can support any attributes that are listed in properties.
                This call may be made on a newly created instance before the
                boot() method has been called, or after the boot method has
                been called for a running module.
                <P>
                The module can check for attributes in the properties to
                see if it can fulfill the required behaviour. E.g. the raw
                store may define an attribute called RawStore.Recoverable.
                If a temporary raw store is required the property RawStore.recoverable=false
                would be added to the properties before calling bootServiceModule. If a
                raw store cannot support this attribute its canSupport method would
                return null. Also see the Monitor class's prologue to see how the
                identifier is used in looking up properties.
                <BR><B>Actually a better way maybe to have properties of the form
                RawStore.Attributes.mandatory=recoverable,smallfootprint and
                RawStore.Attributes.requested=oltp,fast
                </B></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/services/monitor/ModuleSupportable.html#canSupport-java.util.Properties-">canSupport</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/services/monitor/ModuleSupportable.html" title="interface in org.apache.derby.iapi.services.monitor">ModuleSupportable</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if this instance can be used, false otherwise.</dd>
</dl>
</li>
</ul>
<a name="boot-boolean-java.util.Properties-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>boot</h4>
<pre>public&nbsp;void&nbsp;boot(boolean&nbsp;create,
                 java.util.Properties&nbsp;startParams)
          throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/services/monitor/ModuleControl.html#boot-boolean-java.util.Properties-">ModuleControl</a></code></span></div>
<div class="block">Boot this module with the given properties. Creates a module instance
                that can be found using the findModule() methods of Monitor.
                The module can only be found using one of these findModule() methods
                once this method has returned.
                <P>
                An implementation's boot method can throw StandardException. If it
                is thrown the module is not registered by the monitor and therefore cannot
                be found through a findModule(). In this case the module's stop() method
                is not called, thus throwing this exception must free up any
                resources.
                <P>
                When create is true the contents of the properties object
                will be written to the service.properties of the persistent
                service. Thus any code that requires an entry in service.properties
                must <B>explicitly</B> place the value in this properties set
                using the put method.
                <BR>
                Typically the properties object contains one or more default
                properties sets, which are not written out to service.properties.
                These default sets are how callers modify the create process. In a
                JDBC connection database create the first set of defaults is a properties
                object that contains the attributes that were set on the jdbc:derby: URL.
                This attributes properties set has the second default properties set as
                its default. This set (which could be null) contains the properties
                that the user set on their DriverManager.getConnection() call, and are thus
                not owned by Derby code, and thus must not be modified by Derby 
                code.
                <P>
                When create is false the properties object contains all the properties
                set in the service.properties file plus a <B>limited</B> number of
                attributes from the JDBC URL attributes or connection properties set.
                This avoids properties set by the user compromising the boot process.
                An example of a property passed in from the JDBC world is the bootPassword
                for encrypted databases.

                <P>
                Code should not hold onto the passed in properties reference after boot time
                as its contents may change underneath it. At least after the complete boot
                is completed, the links to all the default sets will be removed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/services/monitor/ModuleControl.html#boot-boolean-java.util.Properties-">boot</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/services/monitor/ModuleControl.html" title="interface in org.apache.derby.iapi.services.monitor">ModuleControl</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Module cannot be started.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/services/monitor/Monitor.html" title="class in org.apache.derby.iapi.services.monitor"><code>Monitor</code></a>, 
<a href="../../../../../../../org/apache/derby/iapi/services/monitor/ModuleFactory.html" title="interface in org.apache.derby.iapi.services.monitor"><code>ModuleFactory</code></a></dd>
</dl>
</li>
</ul>
<a name="stop--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stop</h4>
<pre>public&nbsp;void&nbsp;stop()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/services/monitor/ModuleControl.html#stop--">ModuleControl</a></code></span></div>
<div class="block">Stop the module.

                The module may be found via a findModule() method until some time after
                this method returns. Therefore the factory must be prepared to reject requests
                to it once it has been stopped. In addition other modules may cache a reference
                to the module and make requests of it after it has been stopped, these requests
                should be rejected as well.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/services/monitor/ModuleControl.html#stop--">stop</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/services/monitor/ModuleControl.html" title="interface in org.apache.derby.iapi.services.monitor">ModuleControl</a></code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#stop--">stop</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/services/monitor/Monitor.html" title="class in org.apache.derby.iapi.services.monitor"><code>Monitor</code></a>, 
<a href="../../../../../../../org/apache/derby/iapi/services/monitor/ModuleFactory.html" title="interface in org.apache.derby.iapi.services.monitor"><code>ModuleFactory</code></a></dd>
</dl>
</li>
</ul>
<a name="newCacheable-org.apache.derby.iapi.services.cache.CacheManager-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newCacheable</h4>
<pre>public&nbsp;<a href="../../../../../../../org/apache/derby/iapi/services/cache/Cacheable.html" title="interface in org.apache.derby.iapi.services.cache">Cacheable</a>&nbsp;newCacheable(<a href="../../../../../../../org/apache/derby/iapi/services/cache/CacheManager.html" title="interface in org.apache.derby.iapi.services.cache">CacheManager</a>&nbsp;cm)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/services/cache/CacheableFactory.html#newCacheable-org.apache.derby.iapi.services.cache.CacheManager-">newCacheable</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/services/cache/CacheableFactory.html" title="interface in org.apache.derby.iapi.services.cache">CacheableFactory</a></code></dd>
</dl>
</li>
</ul>
<a name="createFinished--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createFinished</h4>
<pre>public&nbsp;void&nbsp;createFinished()
                    throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Database creation finished</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#createFinished--">createFinished</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby exception policy.</dd>
</dl>
</li>
</ul>
<a name="openContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-org.apache.derby.iapi.store.raw.ContainerKey-org.apache.derby.iapi.store.raw.LockingPolicy-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openContainer</h4>
<pre>public&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw">ContainerHandle</a>&nbsp;openContainer(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t,
                                     <a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;containerId,
                                     <a href="../../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw">LockingPolicy</a>&nbsp;locking,
                                     int&nbsp;mode)
                              throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#openContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-org.apache.derby.iapi.store.raw.ContainerKey-org.apache.derby.iapi.store.raw.LockingPolicy-int-">DataFactory</a></code></span></div>
<div class="block">Open a container that is not droped.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#openContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-org.apache.derby.iapi.store.raw.ContainerKey-org.apache.derby.iapi.store.raw.LockingPolicy-int-">openContainer</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>t</code> - the raw transaction that is opening the container</dd>
<dd><code>containerId</code> - the container's identity</dd>
<dd><code>locking</code> - the locking policy</dd>
<dd><code>mode</code> - see the different mode in @see ContainerHandle
                then will return a null handle if the container is dropped.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the handle to the opened container</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="openDroppedContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-org.apache.derby.iapi.store.raw.ContainerKey-org.apache.derby.iapi.store.raw.LockingPolicy-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openDroppedContainer</h4>
<pre>public&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/data/RawContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw.data">RawContainerHandle</a>&nbsp;openDroppedContainer(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t,
                                               <a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;containerId,
                                               <a href="../../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw">LockingPolicy</a>&nbsp;locking,
                                               int&nbsp;mode)
                                        throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#openDroppedContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-org.apache.derby.iapi.store.raw.ContainerKey-org.apache.derby.iapi.store.raw.LockingPolicy-int-">DataFactory</a></code></span></div>
<div class="block">Open a container that may have been dropped.
                Only internal raw store code should call this, e.g. recovery.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#openDroppedContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-org.apache.derby.iapi.store.raw.ContainerKey-org.apache.derby.iapi.store.raw.LockingPolicy-int-">openDroppedContainer</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#openDroppedContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-org.apache.derby.iapi.store.raw.ContainerKey-org.apache.derby.iapi.store.raw.LockingPolicy-int-"><code>DataFactory.openDroppedContainer(org.apache.derby.iapi.store.raw.xact.RawTransaction, org.apache.derby.iapi.store.raw.ContainerKey, org.apache.derby.iapi.store.raw.LockingPolicy, int)</code></a></dd>
</dl>
</li>
</ul>
<a name="openContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-org.apache.derby.iapi.store.raw.ContainerKey-org.apache.derby.iapi.store.raw.LockingPolicy-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openContainer</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/data/RawContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw.data">RawContainerHandle</a>&nbsp;openContainer(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t,
                                         <a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;identity,
                                         <a href="../../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw">LockingPolicy</a>&nbsp;locking,
                                         int&nbsp;mode,
                                         boolean&nbsp;droppedOK)
                                  throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#openContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-org.apache.derby.iapi.store.raw.ContainerKey-org.apache.derby.iapi.store.raw.LockingPolicy-int-"><code>DataFactory.openContainer(org.apache.derby.iapi.store.raw.xact.RawTransaction, org.apache.derby.iapi.store.raw.ContainerKey, org.apache.derby.iapi.store.raw.LockingPolicy, int)</code></a></dd>
</dl>
</li>
</ul>
<a name="addContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-long-long-int-java.util.Properties-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addContainer</h4>
<pre>public&nbsp;long&nbsp;addContainer(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t,
                         long&nbsp;segmentId,
                         long&nbsp;input_containerid,
                         int&nbsp;mode,
                         java.util.Properties&nbsp;tableProperties,
                         int&nbsp;temporaryFlag)
                  throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Add a container with a specified page size to a segment.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#addContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-long-long-int-java.util.Properties-int-">addContainer</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>t</code> - the transaction that is creating the container</dd>
<dd><code>segmentId</code> - the segment where the container is to go</dd>
<dd><code>mode</code> - whether or not to LOGGED or not.  The effect of this mode
                                is only for this addContainer call, not persisently stored
                                throughout the lifetime of the container</dd>
<dd><code>tableProperties</code> - properties of the container that is persistently
                                stored throughout the lifetime of the container</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the containerId of the newly created container</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="addAndLoadStreamContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-long-java.util.Properties-org.apache.derby.iapi.store.access.RowSource-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addAndLoadStreamContainer</h4>
<pre>public&nbsp;long&nbsp;addAndLoadStreamContainer(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t,
                                      long&nbsp;segmentId,
                                      java.util.Properties&nbsp;tableProperties,
                                      <a href="../../../../../../../org/apache/derby/iapi/store/access/RowSource.html" title="interface in org.apache.derby.iapi.store.access">RowSource</a>&nbsp;rowSource)
                               throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Add and load a stream container</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#addAndLoadStreamContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-long-java.util.Properties-org.apache.derby.iapi.store.access.RowSource-">addAndLoadStreamContainer</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>t</code> - the transaction that is creating the container</dd>
<dd><code>segmentId</code> - the segment where the container is to go</dd>
<dd><code>tableProperties</code> - properties of the container that is persistently
                                stored throughout the lifetime of the container</dd>
<dd><code>rowSource</code> - the data to load the container with</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the containerId of the newly created stream container</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="openStreamContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-long-long-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openStreamContainer</h4>
<pre>public&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/StreamContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw">StreamContainerHandle</a>&nbsp;openStreamContainer(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t,
                                                 long&nbsp;segmentId,
                                                 long&nbsp;containerId,
                                                 boolean&nbsp;hold)
                                          throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">open an exsisting streamContainer</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#openStreamContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-long-long-boolean-">openStreamContainer</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a valid StreamContainerHandle or null if the container does not exist.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#openStreamContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-long-long-boolean-"><code>DataFactory.openStreamContainer(org.apache.derby.iapi.store.raw.xact.RawTransaction, long, long, boolean)</code></a></dd>
</dl>
</li>
</ul>
<a name="dropStreamContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dropStreamContainer</h4>
<pre>public&nbsp;void&nbsp;dropStreamContainer(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t,
                                long&nbsp;segmentId,
                                long&nbsp;containerId)
                         throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Drop a stream container.

            <P><B>Synchronisation</B>
                <P>
                This call will remove the container.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#dropStreamContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-long-long-">dropStreamContainer</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="reCreateContainerForRedoRecovery-org.apache.derby.iapi.store.raw.xact.RawTransaction-long-long-org.apache.derby.iapi.util.ByteArray-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reCreateContainerForRedoRecovery</h4>
<pre>public&nbsp;void&nbsp;reCreateContainerForRedoRecovery(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t,
                                             long&nbsp;segmentId,
                                             long&nbsp;containerId,
                                             <a href="../../../../../../../org/apache/derby/iapi/util/ByteArray.html" title="class in org.apache.derby.iapi.util">ByteArray</a>&nbsp;containerInfo)
                                      throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">re-Create a container during redo recovery.

                called ONLY during recovery load tran.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#reCreateContainerForRedoRecovery-org.apache.derby.iapi.store.raw.xact.RawTransaction-long-long-org.apache.derby.iapi.util.ByteArray-">reCreateContainerForRedoRecovery</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby Error policy</dd>
</dl>
</li>
</ul>
<a name="dropContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-org.apache.derby.iapi.store.raw.ContainerKey-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dropContainer</h4>
<pre>public&nbsp;void&nbsp;dropContainer(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t,
                          <a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;ckey)
                   throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Drop a container.

            <P><B>Synchronisation</B>
                <P>
                This call will mark the container as dropped and then obtain an CX lock
                (table level exclusive lock) on the container. Once a container has 
        been marked as dropped it cannot be retrieved by an openContainer() 
        call unless explicitly with droppedOK.
                <P>
                Once the exclusive lock has been obtained the container is removed
                and all its pages deallocated. The container will be fully removed
                at the commit time of the transaction.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#dropContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-org.apache.derby.iapi.store.raw.ContainerKey-">dropContainer</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="checkpoint--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkpoint</h4>
<pre>public&nbsp;void&nbsp;checkpoint()
                throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Implement checkpoint operation, write/sync all pages in cache.
 <p>
 The derby write ahead log algorithm uses checkpoint of the data
 cache to determine points of the log no longer required by
 restart recovery.  
 <p>
 This implementation uses the 2 cache interfaces to force all dirty
 pages to disk:

 WRITE DIRTY PAGES TO OS:
 In the first step all pages in the page cache
 are written, but not synced (pagecache.cleanAll).  The cachemanager
 cleanAll() interface guarantees that every dirty page that exists
 when this call is first made will have it's clean() method called.
 The data cache (CachedPage.clean()), will call writePage but not
 sync the page.  
 By using the java write then sync, the checkpoint is
 usually doing async I/O, allowing the OS to schedule multiple I/O's
 to the file as efficiently as it can.
 Note that it has been observed that checkpoints
 can flood the I/O system because these writes are not synced, see
 DERBY-799 - checkpoint should probably somehow restrict the rate
 it sends out those I/O's - it was observed a simple sleep every
 N writes fixed most of the problem.  

 FORCE THOSE DIRTY WRITES TO DISK:
 To force the I/O's to disk, the system calls each open dirty file
 and uses the java interface to sync any outstanding dirty pages to
 disk (containerCache.cleanAll()).  The open container cache does
 this work in RAFContainer.clean() by writing it's header out and
 syncing the file.  (Note if any change is made to checkpoint to
 sync the writes vs. syncing the file, one probably still needs to 
 write the container header out and sync it).</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#checkpoint--">checkpoint</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="idle--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>idle</h4>
<pre>public&nbsp;void&nbsp;idle()
          throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#idle--">idle</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="setRawStoreFactory-org.apache.derby.iapi.store.raw.RawStoreFactory-boolean-java.util.Properties-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRawStoreFactory</h4>
<pre>public&nbsp;void&nbsp;setRawStoreFactory(<a href="../../../../../../../org/apache/derby/iapi/store/raw/RawStoreFactory.html" title="interface in org.apache.derby.iapi.store.raw">RawStoreFactory</a>&nbsp;rsf,
                               boolean&nbsp;create,
                               java.util.Properties&nbsp;startParams)
                        throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#setRawStoreFactory-org.apache.derby.iapi.store.raw.RawStoreFactory-boolean-java.util.Properties-">DataFactory</a></code></span></div>
<div class="block">make data factory aware of which raw store factory it belongs to
                Also need to boot the LogFactory</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#setRawStoreFactory-org.apache.derby.iapi.store.raw.RawStoreFactory-boolean-java.util.Properties-">setRawStoreFactory</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - cannot boot the log factory</dd>
</dl>
</li>
</ul>
<a name="getIdentifier--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIdentifier</h4>
<pre>public&nbsp;<a href="../../../../../../../org/apache/derby/catalog/UUID.html" title="interface in org.apache.derby.catalog">UUID</a>&nbsp;getIdentifier()</pre>
<div class="block">Return my unique identifier</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#getIdentifier--">getIdentifier</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#getIdentifier--"><code>DataFactory.getIdentifier()</code></a></dd>
</dl>
</li>
</ul>
<a name="reclaimSpace-org.apache.derby.iapi.services.daemon.Serviceable-org.apache.derby.iapi.services.context.ContextManager-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reclaimSpace</h4>
<pre>public&nbsp;int&nbsp;reclaimSpace(<a href="../../../../../../../org/apache/derby/iapi/services/daemon/Serviceable.html" title="interface in org.apache.derby.iapi.services.daemon">Serviceable</a>&nbsp;work,
                        <a href="../../../../../../../org/apache/derby/iapi/services/context/ContextManager.html" title="class in org.apache.derby.iapi.services.context">ContextManager</a>&nbsp;contextMgr)
                 throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#reclaimSpace-org.apache.derby.iapi.services.daemon.Serviceable-org.apache.derby.iapi.services.context.ContextManager-">DataFactory</a></code></span></div>
<div class="block">Reclaim space used by this factory.  Called by post commit daemon.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#reclaimSpace-org.apache.derby.iapi.services.daemon.Serviceable-org.apache.derby.iapi.services.context.ContextManager-">reclaimSpace</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby exception policy</dd>
</dl>
</li>
</ul>
<a name="markCorrupt-org.apache.derby.iapi.error.StandardException-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>markCorrupt</h4>
<pre>public&nbsp;<a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a>&nbsp;markCorrupt(<a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a>&nbsp;originalError)</pre>
<div class="block">Really this is just a convience routine for callers that might not
                have access to a log factory.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Corruptable.html#markCorrupt-org.apache.derby.iapi.error.StandardException-">markCorrupt</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Corruptable.html" title="interface in org.apache.derby.iapi.store.raw">Corruptable</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Must always return its parameter.</dd>
</dl>
</li>
</ul>
<a name="getFileHandler--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFileHandler</h4>
<pre>public&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/access/FileResource.html" title="interface in org.apache.derby.iapi.store.access">FileResource</a>&nbsp;getFileHandler()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#getFileHandler--">DataFactory</a></code></span></div>
<div class="block">Get an object to handle non-transactional files.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#getFileHandler--">getFileHandler</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></dd>
</dl>
</li>
</ul>
<a name="removeStubsOK--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeStubsOK</h4>
<pre>public&nbsp;void&nbsp;removeStubsOK()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#removeStubsOK--">DataFactory</a></code></span></div>
<div class="block">Tell the data factory it is OK to remove committed deleted containers
                when the data factory shuts down.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#removeStubsOK--">removeStubsOK</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></dd>
</dl>
</li>
</ul>
<a name="setUndoInsertEventHandler-org.apache.derby.iapi.store.raw.UndoHandler-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUndoInsertEventHandler</h4>
<pre>public&nbsp;void&nbsp;setUndoInsertEventHandler(<a href="../../../../../../../org/apache/derby/iapi/store/raw/UndoHandler.html" title="interface in org.apache.derby.iapi.store.raw">UndoHandler</a>&nbsp;input_undo_handle)</pre>
<div class="block">Register a handler class for insert undo events.
 <p>
 Register a class to be called when an undo of an insert is executed.  
 When an undo of an event is executed by the raw store 
 UndoHandler.insertUndoNotify() will be called, allowing upper level 
 callers to execute code as necessary.  The initial need is for the 
 access layer to be able to queue post commit reclaim space in the case 
 of inserts which are aborted (including the normal case of inserts 
 failed for duplicate key violations) (see DERBY-4057)
 <p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#setUndoInsertEventHandler-org.apache.derby.iapi.store.raw.UndoHandler-">setUndoInsertEventHandler</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>input_undo_handle</code> - Class to use to notify callers of an undo of 
                          an insert.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="insertUndoNotify-org.apache.derby.iapi.store.raw.xact.RawTransaction-org.apache.derby.iapi.store.raw.PageKey-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertUndoNotify</h4>
<pre>protected&nbsp;void&nbsp;insertUndoNotify(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;rxact,
                                <a href="../../../../../../../org/apache/derby/iapi/store/raw/PageKey.html" title="class in org.apache.derby.iapi.store.raw">PageKey</a>&nbsp;page_key)
                         throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Notify through set handler that an undo of an insert has happened.
 <p>
 When an undo of an event is executed by the raw store 
 UndoHandler.insertUndoNotify() will be called, allowing upper level 
 callers to execute code as necessary.  The initial need is for the 
 access layer to be able to queue post commit reclaim space in the case 
 of inserts which are aborted (including the normal case of inserts 
 failed for duplicate key violations) (see DERBY-4057)
 Longer descrption of routine.
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rxact</code> - raw transaction of the aborted insert.</dd>
<dd><code>page_key</code> - page key of the aborted insert.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="getIntParameter-java.lang.String-java.util.Properties-int-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIntParameter</h4>
<pre>public&nbsp;int&nbsp;getIntParameter(java.lang.String&nbsp;parameterName,
                           java.util.Properties&nbsp;properties,
                           int&nbsp;defaultValue,
                           int&nbsp;minimumValue,
                           int&nbsp;maximumValue)</pre>
</li>
</ul>
<a name="getContainerCache--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getContainerCache</h4>
<pre><a href="../../../../../../../org/apache/derby/iapi/services/cache/CacheManager.html" title="interface in org.apache.derby.iapi.services.cache">CacheManager</a>&nbsp;getContainerCache()</pre>
</li>
</ul>
<a name="getPageCache--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPageCache</h4>
<pre><a href="../../../../../../../org/apache/derby/iapi/services/cache/CacheManager.html" title="interface in org.apache.derby.iapi.services.cache">CacheManager</a>&nbsp;getPageCache()</pre>
</li>
</ul>
<a name="flush-org.apache.derby.iapi.store.raw.log.LogInstant-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flush</h4>
<pre>void&nbsp;flush(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant)
    throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Ask the log factory to flush up to this log instant.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - cannot sync log file</dd>
</dl>
</li>
</ul>
<a name="getLogFactory--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLogFactory</h4>
<pre><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html" title="interface in org.apache.derby.iapi.store.raw.log">LogFactory</a>&nbsp;getLogFactory()</pre>
</li>
</ul>
<a name="getRawStoreFactory--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRawStoreFactory</h4>
<pre><a href="../../../../../../../org/apache/derby/iapi/store/raw/RawStoreFactory.html" title="interface in org.apache.derby.iapi.store.raw">RawStoreFactory</a>&nbsp;getRawStoreFactory()</pre>
</li>
</ul>
<a name="getRootDirectory--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRootDirectory</h4>
<pre>public&nbsp;java.lang.String&nbsp;getRootDirectory()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#getRootDirectory--">DataFactory</a></code></span></div>
<div class="block"><p>
 Get the root directory of the data storage area. It is always
 guaranteed to be an absolute path, and it is prefixed with the
 JDBC sub-sub-protocol if it is not a directory database. Examples:
 </p>

 <dl>
     <dt><code>/path/to/database</code></dt>
     <dd>in case of a directory database</dd>
     <dt><code>memory:/path/to/database</code></dt>
     <dd> in case of a memory database</dd>
 </dl></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#getRootDirectory--">getRootDirectory</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the root directory of the data storage area</dd>
</dl>
</li>
</ul>
<a name="newContainerObject--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newContainerObject</h4>
<pre><a href="../../../../../../../org/apache/derby/iapi/services/cache/Cacheable.html" title="interface in org.apache.derby.iapi.services.cache">Cacheable</a>&nbsp;newContainerObject()</pre>
<div class="block">Produces new container objects.
 <p>
 Concrete implementations of a DataFactory must implement this routine
 to indicate what kind of containers are produced. This class produces
 file-based containers - RAFContainer objects for files that support
 random access and InputStreamContainer object for others, such as data
 files in JARs.
 <p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A new file container object.</dd>
</dl>
</li>
</ul>
<a name="newRAFContainer-org.apache.derby.impl.store.raw.data.BaseDataFileFactory-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newRAFContainer</h4>
<pre>protected&nbsp;<a href="../../../../../../../org/apache/derby/iapi/services/cache/Cacheable.html" title="interface in org.apache.derby.iapi.services.cache">Cacheable</a>&nbsp;newRAFContainer(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html" title="class in org.apache.derby.impl.store.raw.data">BaseDataFileFactory</a>&nbsp;factory)</pre>
<div class="block">Creates a RAFContainer object.
 This method is overridden in BaseDataFileFactoryJ4 to produce
 RAFContainer4 objects instead of RAFContainer objects.</div>
</li>
</ul>
<a name="getLoggablePageActions--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLoggablePageActions</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/raw/data/PageActions.html" title="interface in org.apache.derby.impl.store.raw.data">PageActions</a>&nbsp;getLoggablePageActions()
                                    throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="getLoggableAllocationActions--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLoggableAllocationActions</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocationActions.html" title="interface in org.apache.derby.impl.store.raw.data">AllocationActions</a>&nbsp;getLoggableAllocationActions()</pre>
<div class="block">Get the loggable allocation action associated with this implementation</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the PageActions</dd>
</dl>
</li>
</ul>
<a name="removeTempDirectory--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeTempDirectory</h4>
<pre>private&nbsp;void&nbsp;removeTempDirectory()</pre>
</li>
</ul>
<a name="getContainerPath-org.apache.derby.iapi.store.raw.ContainerKey-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getContainerPath</h4>
<pre>public&nbsp;<a href="../../../../../../../org/apache/derby/io/StorageFile.html" title="interface in org.apache.derby.io">StorageFile</a>&nbsp;getContainerPath(<a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;containerId,
                                    boolean&nbsp;stub)</pre>
<div class="block">Return the path to a container file.
 <p>
 Return the path to a container file that is relative to the root 
 directory.
 <p>
 The format of the name of an existing container file is:
     segNNN/cXXX.dat
 The format of the name of a stub describing a dropped container file is:
     segNNN/dXXX.dat

 NNN = segment number, currently 0 is where normal db files are found.
 XXX = The hex representation of the container number

 The store will always create containers with this format name, but 
 the store will also recognize the following two formats when attempting
 to open files - as some copy tools have uppercased our filesnames when
 moving across operating systems:

 The format of the name of an existing container file is:
     segNNN/CXXX.DAT
 The format of the name of a stub describing a dropped container file is:
     segNNN/DXXX.DAT
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>containerId</code> - The container being opened/created</dd>
<dd><code>stub</code> - True if the file name for the stub is requested, 
                      otherwise the file name for the data file</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The StorageFile representing path to container relative to root.</dd>
</dl>
</li>
</ul>
<a name="getContainerPath-org.apache.derby.iapi.store.raw.ContainerKey-boolean-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getContainerPath</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/io/StorageFile.html" title="interface in org.apache.derby.io">StorageFile</a>&nbsp;getContainerPath(<a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;containerId,
                                     boolean&nbsp;stub,
                                     int&nbsp;code)</pre>
</li>
</ul>
<a name="getAlternateContainerPath-org.apache.derby.iapi.store.raw.ContainerKey-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAlternateContainerPath</h4>
<pre>public&nbsp;<a href="../../../../../../../org/apache/derby/io/StorageFile.html" title="interface in org.apache.derby.io">StorageFile</a>&nbsp;getAlternateContainerPath(<a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;containerId,
                                             boolean&nbsp;stub)</pre>
<div class="block">Return an alternate path to container file relative to the root directory.
        The alternate path uses upper case 'C','D', and 'DAT' instead of 
        lower case - there have been cases of people copying the database and
        somehow upper casing all the file names.

        The intended use is as a bug fix for track 3444.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>containerId</code> - The container being opened/created</dd>
<dd><code>stub</code> - True if the file name for the stub is requested, otherwise the file name for the data file</dd>
</dl>
</li>
</ul>
<a name="removeStubs--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeStubs</h4>
<pre>private&nbsp;void&nbsp;removeStubs()</pre>
<div class="block">Remove stubs in this database.  Stubs are committed deleted containers</div>
</li>
</ul>
<a name="stubFileToRemoveAfterCheckPoint-org.apache.derby.io.StorageFile-org.apache.derby.iapi.store.raw.log.LogInstant-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stubFileToRemoveAfterCheckPoint</h4>
<pre>public&nbsp;void&nbsp;stubFileToRemoveAfterCheckPoint(<a href="../../../../../../../org/apache/derby/io/StorageFile.html" title="interface in org.apache.derby.io">StorageFile</a>&nbsp;file,
                                            <a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;logInstant,
                                            java.lang.Object&nbsp;identity)</pre>
<div class="block">keeps track of information about the stub files of the  committed deleted
 containers. We use the info to delete them at checkpoints.
 In addition to the file info , we also keep track of the identity of the
 container; which helps to remove entry in the cache and the log instant
 when the stub was created, which helps us to figure out whether we
 require the stub file for the crash recovery.
 We maintain the information in a hashtable:
 key(LOG INSTANT) Values: File handle , and ContainerIdentity.</div>
</li>
</ul>
<a name="removeDroppedContainerFileStubs-org.apache.derby.iapi.store.raw.log.LogInstant-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeDroppedContainerFileStubs</h4>
<pre>public&nbsp;void&nbsp;removeDroppedContainerFileStubs(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;redoLWM)
                                     throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Delete the stub files that are not required for recovery. A stub file
 is not required to be around if the recovery is not going to see
 any log record that belongs to that container. Since the stub files
 are created as a post commit operation, they are not necessary during
 undo operation of the recovery.

 To remove a stub file we have to be sure that it was created before the
 redoLWM in the check point record. We can be sure that the stub is not
 required if the log instant when it was created is less than the redoLWM.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#removeDroppedContainerFileStubs-org.apache.derby.iapi.store.raw.log.LogInstant-">removeDroppedContainerFileStubs</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="findMaxContainerId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findMaxContainerId</h4>
<pre>private&nbsp;long&nbsp;findMaxContainerId()</pre>
<div class="block">Find the largest containerid is seg 0.
 <p>
 Do a file list of the files in seg0 and return the highest numbered
 file found.
 <p>
 Until I figure out some reliable place to store this information across
 a boot of the system, this is what is used following a boot to assign
 the next conglomerate id when a new conglomerate is created.  It is
 only called at most once, and then the value is cached by calling store
 code.
 <p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The largest containerid in seg0.</dd>
</dl>
</li>
</ul>
<a name="bootLogFactory-boolean-java.util.Properties-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bootLogFactory</h4>
<pre>private&nbsp;void&nbsp;bootLogFactory(boolean&nbsp;create,
                            java.util.Properties&nbsp;startParams)
                     throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="handleServiceType-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleServiceType</h4>
<pre>private&nbsp;boolean&nbsp;handleServiceType(java.lang.String&nbsp;type)</pre>
<div class="block">Does this factory support this service type.</div>
</li>
</ul>
<a name="getJBMSLockOnDB-org.apache.derby.catalog.UUID-org.apache.derby.iapi.services.uuid.UUIDFactory-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJBMSLockOnDB</h4>
<pre>private&nbsp;void&nbsp;getJBMSLockOnDB(<a href="../../../../../../../org/apache/derby/catalog/UUID.html" title="interface in org.apache.derby.catalog">UUID</a>&nbsp;myUUID,
                             <a href="../../../../../../../org/apache/derby/iapi/services/uuid/UUIDFactory.html" title="interface in org.apache.derby.iapi.services.uuid">UUIDFactory</a>&nbsp;uuidFactory,
                             java.lang.String&nbsp;databaseDirectory)
                      throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">check to see if we are the only JBMS opened against this database.

                <BR>This method does nothing if this database is read only or we cannot
                access files directly on the database directory.

                <BR>We first see if a file named db.lck exists on the top database
                directory (i.e., the directory where service.properties lives).  If it
                doesn't exist, we create it and write to it our identity which is
                generated per boot of the JBMS.

                <BR>If the db.lck file already exists when we boot this database, we
                try to delete it first, assuming that an opened RandomAccessFile can
                act as a file lock against delete.  If that succeeds, we may hold a
                file lock against subsequent JBMS that tries to attach to this
                database before we exit.

                <BR>We test to see if we think an opened file will prevent it from
                being deleted, if so, we will hold on to the open file descriptor and
                use it as a filelock.  If not, and we started out deleting an existing
                db.lck file, we issue a warning message to the info stream that we are
                about to attached to a database which may already have another JBMS
                attached to it. Then we overwrite that db.lck file with our identity.

                <BR>Upon shutdown, we delete the db.lck file.  If the system crash
                instead of shutdown cleanly, it will be cleaned up the next time the
                system boots</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - another JBMS is already attached to the
                database at this directory</dd>
</dl>
</li>
</ul>
<a name="privGetJBMSLockOnDB--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>privGetJBMSLockOnDB</h4>
<pre>private&nbsp;void&nbsp;privGetJBMSLockOnDB()
                          throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="releaseJBMSLockOnDB--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>releaseJBMSLockOnDB</h4>
<pre>private&nbsp;void&nbsp;releaseJBMSLockOnDB()</pre>
</li>
</ul>
<a name="privReleaseJBMSLockOnDB--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>privReleaseJBMSLockOnDB</h4>
<pre>private&nbsp;void&nbsp;privReleaseJBMSLockOnDB()
                              throws java.io.IOException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="logMsg-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logMsg</h4>
<pre>private&nbsp;void&nbsp;logMsg(java.lang.String&nbsp;msg)</pre>
</li>
</ul>
<a name="databaseEncrypted--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>databaseEncrypted</h4>
<pre>public final&nbsp;boolean&nbsp;databaseEncrypted()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#databaseEncrypted--">DataFactory</a></code></span></div>
<div class="block">Returns if data base is in encrypted mode.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#databaseEncrypted--">databaseEncrypted</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if database encrypted false otherwise</dd>
</dl>
</li>
</ul>
<a name="setDatabaseEncrypted-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDatabaseEncrypted</h4>
<pre>public&nbsp;void&nbsp;setDatabaseEncrypted(boolean&nbsp;isEncrypted)</pre>
<div class="block">Sets whether the database is encrypted.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#setDatabaseEncrypted-boolean-">setDatabaseEncrypted</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>isEncrypted</code> - <code>true</code> if the database is encrypted,
      <code>false</code> otherwise</dd>
</dl>
</li>
</ul>
<a name="encrypt-byte:A-int-int-byte:A-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>encrypt</h4>
<pre>public&nbsp;int&nbsp;encrypt(byte[]&nbsp;cleartext,
                   int&nbsp;offset,
                   int&nbsp;length,
                   byte[]&nbsp;ciphertext,
                   int&nbsp;outputOffset,
                   boolean&nbsp;newEngine)
            throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#encrypt-byte:A-int-int-byte:A-int-boolean-">DataFactory</a></code></span></div>
<div class="block">Encrypt cleartext into ciphertext.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#encrypt-byte:A-int-int-byte:A-int-boolean-">encrypt</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby Error Policy</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/services/crypto/CipherProvider.html#encrypt-byte:A-int-int-byte:A-int-"><code>CipherProvider.encrypt(byte[], int, int, byte[], int)</code></a></dd>
</dl>
</li>
</ul>
<a name="decrypt-byte:A-int-int-byte:A-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decrypt</h4>
<pre>public&nbsp;int&nbsp;decrypt(byte[]&nbsp;ciphertext,
                   int&nbsp;offset,
                   int&nbsp;length,
                   byte[]&nbsp;cleartext,
                   int&nbsp;outputOffset)
            throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#decrypt-byte:A-int-int-byte:A-int-">DataFactory</a></code></span></div>
<div class="block">Decrypt cleartext from ciphertext.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#decrypt-byte:A-int-int-byte:A-int-">decrypt</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby Error Policy</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/services/crypto/CipherProvider.html#decrypt-byte:A-int-int-byte:A-int-"><code>CipherProvider.decrypt(byte[], int, int, byte[], int)</code></a></dd>
</dl>
</li>
</ul>
<a name="decryptAllContainers-org.apache.derby.iapi.store.raw.xact.RawTransaction-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decryptAllContainers</h4>
<pre>public&nbsp;void&nbsp;decryptAllContainers(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t)
                          throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Decrypts all the containers in the data segment.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#decryptAllContainers-org.apache.derby.iapi.store.raw.xact.RawTransaction-">decryptAllContainers</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>t</code> - the transaction that is decrypting the container</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby Error Policy</dd>
</dl>
</li>
</ul>
<a name="encryptAllContainers-org.apache.derby.iapi.store.raw.xact.RawTransaction-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>encryptAllContainers</h4>
<pre>public&nbsp;void&nbsp;encryptAllContainers(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t)
                          throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Encrypt all the containers in the data segment.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#encryptAllContainers-org.apache.derby.iapi.store.raw.xact.RawTransaction-">encryptAllContainers</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>t</code> - the transaction that is encrypting the containers.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby Error Policy</dd>
</dl>
</li>
</ul>
<a name="removeOldVersionOfContainers--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeOldVersionOfContainers</h4>
<pre>public&nbsp;void&nbsp;removeOldVersionOfContainers()
                                  throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Removes old versions of the containers after a cryptographic operation
 on the database.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#removeOldVersionOfContainers--">removeOldVersionOfContainers</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="jarClassPath-java.lang.Class-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>jarClassPath</h4>
<pre>private static&nbsp;java.lang.String&nbsp;jarClassPath(java.lang.Class&nbsp;cls)</pre>
<div class="block">Return a jar file by asking the class's 
 class loader for the location where the class was loaded from. 
 If no value, it returns null</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cls</code> - the Class to ask to print the class name of an object</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the ClassPath of a jar file</dd>
</dl>
</li>
</ul>
<a name="buildOSinfo--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buildOSinfo</h4>
<pre>private static&nbsp;java.lang.String&nbsp;buildOSinfo()</pre>
<div class="block">Return values of system properties that identify the OS.
 Will catch SecurityExceptions and note them for displaying information.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the Java system property value for the OS or a string capturing a
 security exception.</dd>
</dl>
</li>
</ul>
<a name="buildJvmVersion--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buildJvmVersion</h4>
<pre>private static&nbsp;java.lang.String&nbsp;buildJvmVersion()</pre>
<div class="block">Return values of system properties that identify the JVM. 
 Will catch SecurityExceptions and note them for displaying information.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the Java system property value from the JVM or a string capturing a
 security exception.</dd>
</dl>
</li>
</ul>
<a name="getEncryptionBlockSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEncryptionBlockSize</h4>
<pre>public&nbsp;int&nbsp;getEncryptionBlockSize()</pre>
<div class="block">Returns the encryption block size used by the algorithm at time of
                creation of an encrypted database</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#getEncryptionBlockSize--">getEncryptionBlockSize</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></dd>
</dl>
</li>
</ul>
<a name="getVersionedName-java.lang.String-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getVersionedName</h4>
<pre>public&nbsp;java.lang.String&nbsp;getVersionedName(java.lang.String&nbsp;name,
                                         long&nbsp;generationId)</pre>
</li>
</ul>
<a name="getMaxContainerId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxContainerId</h4>
<pre>public&nbsp;long&nbsp;getMaxContainerId()
                       throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Return an id which can be used to create a container.
 <p>
 Return an id number with is greater than any existing container
 in the current database.  Caller will use this to allocate future
 container numbers - most likely caching the value and then incrementing
 it as it is used.
 <p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#getMaxContainerId--">getMaxContainerId</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The an id which can be used to create a container.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="getNextId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextId</h4>
<pre>long&nbsp;getNextId()</pre>
</li>
</ul>
<a name="random--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>random</h4>
<pre>int&nbsp;random()</pre>
<div class="block">return a secure random number</div>
</li>
</ul>
<a name="fileToRemove-org.apache.derby.io.StorageFile-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fileToRemove</h4>
<pre>void&nbsp;fileToRemove(<a href="../../../../../../../org/apache/derby/io/StorageFile.html" title="interface in org.apache.derby.io">StorageFile</a>&nbsp;file,
                  boolean&nbsp;remove)</pre>
<div class="block">Add a file to the list of files to be removed post recovery.</div>
</li>
</ul>
<a name="postRecovery--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>postRecovery</h4>
<pre>public&nbsp;void&nbsp;postRecovery()
                  throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Called after recovery is performed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#postRecovery--">postRecovery</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby Error Policy</dd>
</dl>
</li>
</ul>
<a name="setupCacheCleaner-org.apache.derby.iapi.services.daemon.DaemonService-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setupCacheCleaner</h4>
<pre>public&nbsp;void&nbsp;setupCacheCleaner(<a href="../../../../../../../org/apache/derby/iapi/services/daemon/DaemonService.html" title="interface in org.apache.derby.iapi.services.daemon">DaemonService</a>&nbsp;daemon)</pre>
<div class="block">Set up the cache cleaner for the container cache and the page cache.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#setupCacheCleaner-org.apache.derby.iapi.services.daemon.DaemonService-">setupCacheCleaner</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>daemon</code> - daemon service to use for background cleaning</dd>
</dl>
</li>
</ul>
<a name="freezePersistentStore--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>freezePersistentStore</h4>
<pre>public&nbsp;void&nbsp;freezePersistentStore()
                           throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#freezePersistentStore--">DataFactory</a></code></span></div>
<div class="block">Backup restore - stop writing dirty pages or container to disk</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#freezePersistentStore--">freezePersistentStore</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="unfreezePersistentStore--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unfreezePersistentStore</h4>
<pre>public&nbsp;void&nbsp;unfreezePersistentStore()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#unfreezePersistentStore--">DataFactory</a></code></span></div>
<div class="block">Backup restore - start writing dirty pages or container to disk</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#unfreezePersistentStore--">unfreezePersistentStore</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></dd>
</dl>
</li>
</ul>
<a name="writeInProgress--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeInProgress</h4>
<pre>public&nbsp;void&nbsp;writeInProgress()
                     throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#writeInProgress--">DataFactory</a></code></span></div>
<div class="block">Backup restore - don't allow the persistent store to be frozen - or if
 it is already frozen, block.   A write is about to commence.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#writeInProgress--">writeInProgress</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="writeFinished--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeFinished</h4>
<pre>public&nbsp;void&nbsp;writeFinished()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#writeFinished--">DataFactory</a></code></span></div>
<div class="block">Backup restore - write finished, if this is the last writer, allow the
 persistent store to proceed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#writeFinished--">writeFinished</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></dd>
</dl>
</li>
</ul>
<a name="backupDataFiles-org.apache.derby.iapi.store.raw.Transaction-java.io.File-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>backupDataFiles</h4>
<pre>public&nbsp;void&nbsp;backupDataFiles(<a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a>&nbsp;rt,
                            java.io.File&nbsp;backupDir)
                     throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#backupDataFiles-org.apache.derby.iapi.store.raw.Transaction-java.io.File-">DataFactory</a></code></span></div>
<div class="block">Back up the data segment of the database.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#backupDataFiles-org.apache.derby.iapi.store.raw.Transaction-java.io.File-">backupDataFiles</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="getContainerNames--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getContainerNames</h4>
<pre>java.lang.String[]&nbsp;getContainerNames()</pre>
<div class="block">get all the names of the files in seg 0.
 MT - This method needs to be synchronized to avoid conflicts 
 with other privileged actions execution in this class.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An array of all the file names in seg0.</dd>
</dl>
</li>
</ul>
<a name="restoreDataDirectory-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>restoreDataDirectory</h4>
<pre>private&nbsp;void&nbsp;restoreDataDirectory(java.lang.String&nbsp;backupPath)
                           throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">removes the data directory(seg*) from database home directory and
 restores it from backup location.
 This function gets called only when any of the folling attributes
 are specified on connection URL:
 Attribute.CREATE_FROM (Create database from backup if it does not exist)
 Attribute.RESTORE_FROM (Delete the whole database if it exists and 
     then restore * it from backup)
 Attribute.ROLL_FORWARD_RECOVERY_FROM:(Perform Rollforward Recovery;
 except for the log directory everthing else is replced  by the copy  from
 backup. log files in the backup are copied to the existing online log 
 directory.

 In all the cases, data directory(seg*) is replaced by the data directory
 directory from backup when this function is called.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="privRestoreDataDirectory--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>privRestoreDataDirectory</h4>
<pre>private&nbsp;void&nbsp;privRestoreDataDirectory()
                               throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="isReadOnly--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isReadOnly</h4>
<pre>public&nbsp;boolean&nbsp;isReadOnly()</pre>
<div class="block">Is the store read-only.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#isReadOnly--">isReadOnly</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></dd>
</dl>
</li>
</ul>
<a name="luceneLoaded--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>luceneLoaded</h4>
<pre>public&nbsp;boolean&nbsp;luceneLoaded()
                     throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Return true if the Lucene plugin is loaded</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="getStorageFactory--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStorageFactory</h4>
<pre>public&nbsp;<a href="../../../../../../../org/apache/derby/io/StorageFactory.html" title="interface in org.apache.derby.io">StorageFactory</a>&nbsp;getStorageFactory()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#getStorageFactory--">getStorageFactory</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The StorageFactory used by this dataFactory</dd>
</dl>
</li>
</ul>
<a name="run--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>public final&nbsp;java.lang.Object&nbsp;run()
                           throws java.io.IOException,
                                  <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>run</code>&nbsp;in interface&nbsp;<code>java.security.PrivilegedExceptionAction&lt;java.lang.Object&gt;</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="getMonitor--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMonitor</h4>
<pre>private static&nbsp;<a href="../../../../../../../org/apache/derby/iapi/services/monitor/ModuleFactory.html" title="interface in org.apache.derby.iapi.services.monitor">ModuleFactory</a>&nbsp;getMonitor()</pre>
<div class="block">Privileged Monitor lookup. Must be private so that user code
 can't call this entry point.</div>
</li>
</ul>
<a name="startSystemModule-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startSystemModule</h4>
<pre>private static&nbsp;java.lang.Object&nbsp;startSystemModule(java.lang.String&nbsp;factoryInterface)
                                           throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Privileged startup. Must be private so that user code
 can't call this entry point.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="bootServiceModule-boolean-java.lang.Object-java.lang.String-java.util.Properties-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>bootServiceModule</h4>
<pre>private static&nbsp;java.lang.Object&nbsp;bootServiceModule(boolean&nbsp;create,
                                                  java.lang.Object&nbsp;serviceModule,
                                                  java.lang.String&nbsp;factoryInterface,
                                                  java.util.Properties&nbsp;properties)
                                           throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Privileged startup. Must be private so that user code
 can't call this entry point.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Built on Mon 2017-07-03 23:03:59+0530, from revision Unversioned directory</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactoryJ4.html" title="class in org.apache.derby.impl.store.raw.data"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html" target="_top">Frames</a></li>
<li><a href="BaseDataFileFactory.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Apache Derby V10.13 Internals - <i>Copyright &copy; 2004,2016 The Apache Software Foundation. All Rights Reserved.</i></small></p>
</body>
</html>
