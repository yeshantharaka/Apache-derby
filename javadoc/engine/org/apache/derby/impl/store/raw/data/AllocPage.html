<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_66) on Mon Jul 03 23:05:18 IST 2017 -->
<title>AllocPage (Apache Derby V10.13 Internals)</title>
<meta name="date" content="2017-07-03">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="AllocPage (Apache Derby V10.13 Internals)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":9,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":9,"i31":10,"i32":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html" title="class in org.apache.derby.impl.store.raw.data"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPageOperation.html" title="class in org.apache.derby.impl.store.raw.data"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/derby/impl/store/raw/data/AllocPage.html" target="_top">Frames</a></li>
<li><a href="AllocPage.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.derby.impl.store.raw.data</div>
<h2 title="Class AllocPage" class="title">Class AllocPage</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">org.apache.derby.impl.store.raw.data.BasePage</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../../org/apache/derby/impl/store/raw/data/CachedPage.html" title="class in org.apache.derby.impl.store.raw.data">org.apache.derby.impl.store.raw.data.CachedPage</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html" title="class in org.apache.derby.impl.store.raw.data">org.apache.derby.impl.store.raw.data.StoredPage</a></li>
<li>
<ul class="inheritance">
<li>org.apache.derby.impl.store.raw.data.AllocPage</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/services/cache/Cacheable.html" title="interface in org.apache.derby.iapi.services.cache">Cacheable</a>, <a href="../../../../../../../org/apache/derby/iapi/services/io/TypedFormat.html" title="interface in org.apache.derby.iapi.services.io">TypedFormat</a>, <a href="../../../../../../../org/apache/derby/iapi/services/monitor/DerbyObserver.html" title="interface in org.apache.derby.iapi.services.monitor">DerbyObserver</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">AllocPage</span>
extends <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html" title="class in org.apache.derby.impl.store.raw.data">StoredPage</a></pre>
<div class="block">An allocation page of the file container.
        <P>
        This class extends a normal Stored page, with the exception that a hunk of
        space may be 'borrowed' by the file container to store the file header.
        <P>
        The borrowed space is not visible to the alloc page even though it is
        present in the page data array.  It is accessed directly by the
        FileContainer.  Any change made to the borrowed space is not managed or
        seen by the allocation page.
        <P>
        The reason for having this borrowed space is so that the container header
        does not need to have a page of its own.

        <P><B>Page Format</B><BR>
        An allocation page extends a stored page, the on disk format is different
        from a stored page in that N bytes are 'borrowed' by the container and the
        page header of an allocation page will be slightly bigger than a normal
        stored page.  This N bytes are stored between the page header and the 
    record space.
        <P>
        The reason why this N bytes can't simply be a row is because it needs to be
        statically accessible by the container object to avoid a chicken and egg
        problem of the container object needing to instantiate an alloc page object
        before it can be objectified, and an alloc page object needing to
        instantiate a container object before it can be objectified.  So this N
        bytes must be stored outside of the normal record interface yet it must be
        settable because only the first alloc page has this borrowed space.  Other
        (non-first) alloc page have N == 0.

        <PRE>
                             [ borrowed ]
        +----------+-------------+---+---------+-------------------+-------------+--------+
        | FormatId | page header | N | N bytes | alloc extend rows | slot offset |checksum|
        +----------+-------------+---+---------+-------------------+-------------+--------+
        </PRE>

        N is a byte that indicates the size of the borrowed space.  Once an alloc
        page is initialized, the value of N cannot change.
        <P>
        The maximum space that can be borrowed by the container is 256 bytes.
        <P>
        The allocation page are of the same page size as any other pages in the
        container. The first allocation page of the FileContainer starts at the
        first physical byte of the container.  Subsequent allocation pages are
        chained via the nextAllocPageOffset.  Each allocation page is expected to
        manage at least 1000 user pages (for 1K page size) so this chaining may not
        be a severe performance hit.  The logical -&gt; physical mapping of an
        allocation page is stored in the previous allocation page.  The container
        object will need to maintain this mapping.
        <P>
        The following fields are stored in the page header
        <PRE></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html" title="class in org.apache.derby.impl.store.raw.data"><code>AllocExtent</code></a></dd>
<table cellpadding=2 cellspacing=2><tr><td>Format ID</td><td>RAW_STORE_ALLOC_PAGE</td></tr>
<tr><td>Purpose</td><td>manage page allocation</td></tr>
<tr><td>Upgrade</td><td></td></tr>
<tr><td>Disk Layout</td><td>FormatId(int)
		StoredPageHeader	see StoredPage
		nextAllocPageNubmer(long)	the next allocation page's number
		nextAllocPageOffset(long)	the file offset of the next allocation page
		reserved1(long)				reserved for future usage
		reserved2(long)				reserved for future usage
		reserved3(long)				reserved for future usage
		reserved4(long)				reserved for future usage
		N(byte)						the size of the borrowed container info
		containerInfo(byte[N])		the content of the borrowed container info
		AllocExtent					the one and only extent on this alloc page</td></tr></table></dt>

</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#ALLOC_PAGE_HEADER_OFFSET">ALLOC_PAGE_HEADER_OFFSET</a></span></code>
<div class="block">constants</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#ALLOC_PAGE_HEADER_SIZE">ALLOC_PAGE_HEADER_SIZE</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#BORROWED_SPACE_LEN">BORROWED_SPACE_LEN</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#BORROWED_SPACE_OFFSET">BORROWED_SPACE_OFFSET</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#borrowedSpace">borrowedSpace</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html" title="class in org.apache.derby.impl.store.raw.data">AllocExtent</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#extent">extent</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#FORMAT_NUMBER">FORMAT_NUMBER</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#MAX_BORROWED_SPACE">MAX_BORROWED_SPACE</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#nextAllocPageNumber">nextAllocPageNumber</a></span></code>
<div class="block">alloc page header</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#nextAllocPageOffset">nextAllocPageOffset</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#reserved1">reserved1</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#reserved2">reserved2</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#reserved3">reserved3</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#reserved4">reserved4</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#TEST_MULTIPLE_ALLOC_PAGE">TEST_MULTIPLE_ALLOC_PAGE</a></span></code>
<div class="block">Extent Testing

 Use these strings to simulate error conditions for
 testing purposes.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.apache.derby.impl.store.raw.data.StoredPage">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.apache.derby.impl.store.raw.data.<a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html" title="class in org.apache.derby.impl.store.raw.data">StoredPage</a></h3>
<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#bh">bh</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#CHECKSUM_SIZE">CHECKSUM_SIZE</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#COLUMN_CREATE_NULL">COLUMN_CREATE_NULL</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#COLUMN_FIRST">COLUMN_FIRST</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#COLUMN_LONG">COLUMN_LONG</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#COLUMN_NONE">COLUMN_NONE</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#freeSpace">freeSpace</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#LARGE_SLOT_SIZE">LARGE_SLOT_SIZE</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#logicalDataOut">logicalDataOut</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#minimumRecordSize">minimumRecordSize</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#OVERFLOW_POINTER_SIZE">OVERFLOW_POINTER_SIZE</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#OVERFLOW_PTR_FIELD_SIZE">OVERFLOW_PTR_FIELD_SIZE</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#PAGE_HEADER_OFFSET">PAGE_HEADER_OFFSET</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#PAGE_HEADER_SIZE">PAGE_HEADER_SIZE</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#PAGE_VERSION_OFFSET">PAGE_VERSION_OFFSET</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#rawDataIn">rawDataIn</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#rawDataOut">rawDataOut</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#RECORD_SPACE_OFFSET">RECORD_SPACE_OFFSET</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#SMALL_SLOT_SIZE">SMALL_SLOT_SIZE</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#spareSpace">spareSpace</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#totalSpace">totalSpace</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.apache.derby.impl.store.raw.data.CachedPage">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.apache.derby.impl.store.raw.data.<a href="../../../../../../../org/apache/derby/impl/store/raw/data/CachedPage.html" title="class in org.apache.derby.impl.store.raw.data">CachedPage</a></h3>
<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/CachedPage.html#alreadyReadPage">alreadyReadPage</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/CachedPage.html#containerCache">containerCache</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/CachedPage.html#dataFactory">dataFactory</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/CachedPage.html#initialRowCount">initialRowCount</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/CachedPage.html#isDirty">isDirty</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/CachedPage.html#PAGE_FORMAT_ID_SIZE">PAGE_FORMAT_ID_SIZE</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/CachedPage.html#pageCache">pageCache</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/CachedPage.html#pageData">pageData</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/CachedPage.html#preDirty">preDirty</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/CachedPage.html#WRITE_NO_SYNC">WRITE_NO_SYNC</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/CachedPage.html#WRITE_SYNC">WRITE_SYNC</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.apache.derby.impl.store.raw.data.BasePage">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.apache.derby.impl.store.raw.data.<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a></h3>
<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#identity">identity</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#inClean">inClean</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#INIT_PAGE_OVERFLOW">INIT_PAGE_OVERFLOW</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#INIT_PAGE_REUSE">INIT_PAGE_REUSE</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#INIT_PAGE_REUSE_RECORDID">INIT_PAGE_REUSE_RECORDID</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#INVALID_PAGE">INVALID_PAGE</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#LOG_RECORD_DEFAULT">LOG_RECORD_DEFAULT</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#LOG_RECORD_FOR_PURGE">LOG_RECORD_FOR_PURGE</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#LOG_RECORD_FOR_UPDATE">LOG_RECORD_FOR_UPDATE</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#owner">owner</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#preLatch">preLatch</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#VALID_PAGE">VALID_PAGE</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.apache.derby.iapi.store.raw.Page">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;org.apache.derby.iapi.store.raw.<a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a></h3>
<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#DIAG_BYTES_FREE">DIAG_BYTES_FREE</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#DIAG_BYTES_RESERVED">DIAG_BYTES_RESERVED</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#DIAG_MAXROWSIZE">DIAG_MAXROWSIZE</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#DIAG_MINIMUM_REC_SIZE">DIAG_MINIMUM_REC_SIZE</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#DIAG_MINROWSIZE">DIAG_MINROWSIZE</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#DIAG_NUMOVERFLOWED">DIAG_NUMOVERFLOWED</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#DIAG_PAGE_SIZE">DIAG_PAGE_SIZE</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#DIAG_PAGEOVERHEAD">DIAG_PAGEOVERHEAD</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#DIAG_RESERVED_SPACE">DIAG_RESERVED_SPACE</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#DIAG_ROWSIZE">DIAG_ROWSIZE</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#DIAG_SLOTTABLE_SIZE">DIAG_SLOTTABLE_SIZE</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#FIRST_SLOT_NUMBER">FIRST_SLOT_NUMBER</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#INSERT_CONDITIONAL">INSERT_CONDITIONAL</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#INSERT_DEFAULT">INSERT_DEFAULT</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#INSERT_FOR_SPLIT">INSERT_FOR_SPLIT</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#INSERT_INITIAL">INSERT_INITIAL</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#INSERT_OVERFLOW">INSERT_OVERFLOW</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#INSERT_UNDO_WITH_PURGE">INSERT_UNDO_WITH_PURGE</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Page.html#INVALID_SLOT_NUMBER">INVALID_SLOT_NUMBER</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#AllocPage--">AllocPage</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#addPage-org.apache.derby.impl.store.raw.data.FileContainer-long-org.apache.derby.iapi.store.raw.xact.RawTransaction-org.apache.derby.impl.store.raw.data.BaseContainerHandle-">addPage</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html" title="class in org.apache.derby.impl.store.raw.data">FileContainer</a>&nbsp;mycontainer,
       long&nbsp;newPageNumber,
       <a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;ntt,
       <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;userHandle)</code>
<div class="block">Add a page which is managed by this alloc page.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#canAddFreePage-long-">canAddFreePage</a></span>(long&nbsp;lastAllocatedPage)</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#chainNewAllocPage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-long-long-">chainNewAllocPage</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;allocHandle,
                 long&nbsp;newAllocPageNum,
                 long&nbsp;newAllocPageOffset)</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#chainNextAllocPage-org.apache.derby.iapi.store.raw.log.LogInstant-long-long-">chainNextAllocPage</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant,
                  long&nbsp;newAllocPageNum,
                  long&nbsp;newAllocPageOffset)</code>
<div class="block">Chain the next page number and offset underneath a log record</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#compress-org.apache.derby.iapi.store.raw.xact.RawTransaction-org.apache.derby.impl.store.raw.data.FileContainer-">compress</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;ntt,
        <a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html" title="class in org.apache.derby.impl.store.raw.data">FileContainer</a>&nbsp;myContainer)</code>
<div class="block">compress out empty pages at end of container.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#compressSpace-org.apache.derby.iapi.store.raw.log.LogInstant-int-int-">compressSpace</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant,
             int&nbsp;new_highest_page,
             int&nbsp;num_pages_truncated)</code>
<div class="block">Compress free pages.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html" title="class in org.apache.derby.impl.store.raw.data">AllocExtent</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#createExtent-long-int-int-int-">createExtent</a></span>(long&nbsp;pageNum,
            int&nbsp;pageSize,
            int&nbsp;pagesAlloced,
            int&nbsp;availspace)</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#createPage-org.apache.derby.iapi.store.raw.PageKey-org.apache.derby.impl.store.raw.data.PageCreationArgs-">createPage</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/PageKey.html" title="class in org.apache.derby.iapi.store.raw">PageKey</a>&nbsp;newIdentity,
          <a href="../../../../../../../org/apache/derby/impl/store/raw/data/PageCreationArgs.html" title="class in org.apache.derby.impl.store.raw.data">PageCreationArgs</a>&nbsp;args)</code>
<div class="block">Create a new alloc page.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#deallocatePage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-long-">deallocatePage</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;userHandle,
              long&nbsp;pageNumber)</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html" title="class in org.apache.derby.impl.store.raw.data">AllocExtent</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#getAllocExtent--">getAllocExtent</a></span>()</code>
<div class="block">Return a copy of the allocExtent to be cached by the container.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#getLastPagenum--">getLastPagenum</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#getLastPreallocPagenum--">getLastPreallocPagenum</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#getMaxFreeSpace--">getMaxFreeSpace</a></span>()</code>
<div class="block">The maximum free space on this page possible.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#getMaxPagenum--">getMaxPagenum</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#getNextAllocPageNumber--">getNextAllocPageNumber</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#getNextAllocPageOffset--">getNextAllocPageOffset</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#getPageStatus-long-">getPageStatus</a></span>(long&nbsp;pageNumber)</code>&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#getTypeFormatId--">getTypeFormatId</a></span>()</code>
<div class="block">Return my format identifier.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#initFromData-org.apache.derby.impl.store.raw.data.FileContainer-org.apache.derby.iapi.store.raw.PageKey-">initFromData</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html" title="class in org.apache.derby.impl.store.raw.data">FileContainer</a>&nbsp;myContainer,
            <a href="../../../../../../../org/apache/derby/iapi/store/raw/PageKey.html" title="class in org.apache.derby.iapi.store.raw">PageKey</a>&nbsp;newIdentity)</code>
<div class="block">Initialize in memory structure using the buffer in pageData</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#isLast--">isLast</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#nextFreePageNumber-long-">nextFreePageNumber</a></span>(long&nbsp;pnum)</code>
<div class="block">Return the next free page number after given page number</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#preAllocatePage-org.apache.derby.impl.store.raw.data.FileContainer-int-int-">preAllocatePage</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html" title="class in org.apache.derby.impl.store.raw.data">FileContainer</a>&nbsp;myContainer,
               int&nbsp;preAllocThreshold,
               int&nbsp;preAllocSize)</code>
<div class="block">Preallocate user page if needed.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#readAllocPageHeader--">readAllocPageHeader</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#ReadContainerInfo-byte:A-byte:A-">ReadContainerInfo</a></span>(byte[]&nbsp;containerInfo,
                 byte[]&nbsp;epage)</code>
<div class="block">Extract the container information from epage.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html" title="class in org.apache.derby.impl.store.raw.data">AllocExtent</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#readExtent-int-">readExtent</a></span>(int&nbsp;offset)</code>&nbsp;</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#setPageStatus-org.apache.derby.iapi.store.raw.log.LogInstant-long-int-">setPageStatus</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant,
             long&nbsp;pageNumber,
             int&nbsp;newStatus)</code>
<div class="block">Do the actual page allocation/deallocation/ree underneath a log operation.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#toString--">toString</a></span>()</code>
<div class="block">debugging, print this page</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#undoCompressSpace-org.apache.derby.iapi.store.raw.log.LogInstant-int-int-">undoCompressSpace</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant,
                 int&nbsp;new_highest_page,
                 int&nbsp;num_pages_truncated)</code>
<div class="block">Handle undo of compress space operation.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#updateAllocPageHeader--">updateAllocPageHeader</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#updateUnfilledPageInfo-org.apache.derby.impl.store.raw.data.AllocExtent-">updateUnfilledPageInfo</a></span>(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html" title="class in org.apache.derby.impl.store.raw.data">AllocExtent</a>&nbsp;inputExtent)</code>&nbsp;</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#WriteContainerInfo-byte:A-byte:A-boolean-">WriteContainerInfo</a></span>(byte[]&nbsp;containerInfo,
                  byte[]&nbsp;epage,
                  boolean&nbsp;create)</code>
<div class="block">Write the container information into the container information area.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#writeExtent-int-">writeExtent</a></span>(int&nbsp;offset)</code>&nbsp;</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html#writePage-org.apache.derby.iapi.store.raw.PageKey-">writePage</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/PageKey.html" title="class in org.apache.derby.iapi.store.raw">PageKey</a>&nbsp;identity)</code>
<div class="block">Write the page out</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.derby.impl.store.raw.data.StoredPage">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.derby.impl.store.raw.data.<a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html" title="class in org.apache.derby.impl.store.raw.data">StoredPage</a></h3>
<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#allowInsert--">allowInsert</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#appendOverflowFieldHeader-org.apache.derby.iapi.services.io.DynamicByteArrayOutputStream-org.apache.derby.iapi.store.raw.RecordHandle-">appendOverflowFieldHeader</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#clearSection-int-int-">clearSection</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#compactRecord-org.apache.derby.iapi.store.raw.xact.RawTransaction-int-int-">compactRecord</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#currentTimeStamp--">currentTimeStamp</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#doUpdateAtSlot-org.apache.derby.iapi.store.raw.xact.RawTransaction-int-int-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-">doUpdateAtSlot</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#entireRecordOnPage-int-">entireRecordOnPage</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#equalTimeStamp-org.apache.derby.iapi.store.raw.PageTimeStamp-">equalTimeStamp</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#expandPage-int-int-">expandPage</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#fetchNumFieldsAtSlot-int-">fetchNumFieldsAtSlot</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#getCurrentFreeSpace--">getCurrentFreeSpace</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#getIsOverflow-int-">getIsOverflow</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#getNewOverflowPage--">getNewOverflowPage</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#getOverflowPage-long-">getOverflowPage</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#getOverflowPageForInsert-int-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-">getOverflowPageForInsert</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#getOverflowPageForInsert-int-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-int-">getOverflowPageForInsert</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#getOverflowSlot-org.apache.derby.impl.store.raw.data.BasePage-org.apache.derby.impl.store.raw.data.StoredRecordHeader-">getOverflowSlot</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#getPageDumpString--">getPageDumpString</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#getPageSize--">getPageSize</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#getRecordLength-int-">getRecordLength</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#getRecordPortionLength-int-">getRecordPortionLength</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#getReservedCount-int-">getReservedCount</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#getSlotsInUse--">getSlotsInUse</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#getTotalSpace-int-">getTotalSpace</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#initialize--">initialize</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#initPage-org.apache.derby.iapi.store.raw.log.LogInstant-byte-int-boolean-boolean-">initPage</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#insertAtSlot-int-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-org.apache.derby.iapi.store.access.conglomerate.LogicalUndo-byte-int-">insertAtSlot</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#internalDeletedRecordCount--">internalDeletedRecordCount</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#isOverflowPage--">isOverflowPage</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#logAction-org.apache.derby.iapi.store.raw.log.LogInstant-">logAction</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#logColumn-int-int-java.lang.Object-org.apache.derby.iapi.services.io.DynamicByteArrayOutputStream-int-">logColumn</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#logField-int-int-java.io.OutputStream-">logField</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#logLongColumn-int-int-java.lang.Object-org.apache.derby.iapi.services.io.DynamicByteArrayOutputStream-">logLongColumn</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#logRecord-int-int-int-org.apache.derby.iapi.services.io.FormatableBitSet-java.io.OutputStream-org.apache.derby.iapi.store.raw.RecordHandle-">logRecord</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#logRow-int-boolean-int-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-org.apache.derby.iapi.services.io.DynamicByteArrayOutputStream-int-byte-int-int-int-">logRow</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#moveRecordForCompressAtSlot-int-java.lang.Object:A-org.apache.derby.iapi.store.raw.RecordHandle:A-org.apache.derby.iapi.store.raw.RecordHandle:A-">moveRecordForCompressAtSlot</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#newRecordId--">newRecordId</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#newRecordId-int-">newRecordId</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#newRecordIdAndBump--">newRecordIdAndBump</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#purgeOverflowAtSlot-int-org.apache.derby.iapi.store.raw.RecordHandle-boolean-">purgeOverflowAtSlot</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#purgeRecord-org.apache.derby.iapi.store.raw.log.LogInstant-int-int-">purgeRecord</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#purgeRowPieces-org.apache.derby.iapi.store.raw.xact.RawTransaction-int-org.apache.derby.iapi.store.raw.RecordHandle-boolean-">purgeRowPieces</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#recordHeaderOnDemand-int-">recordHeaderOnDemand</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#releaseExclusive--">releaseExclusive</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#removeOrphanedColumnChain-org.apache.derby.impl.store.raw.data.ReclaimSpace-org.apache.derby.iapi.store.raw.ContainerHandle-">removeOrphanedColumnChain</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#reserveSpaceForSlot-org.apache.derby.iapi.store.raw.log.LogInstant-int-int-">reserveSpaceForSlot</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#restorePortionLongColumn-org.apache.derby.impl.store.raw.data.OverflowInputStream-">restorePortionLongColumn</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#restoreRecordFromSlot-int-java.lang.Object:A-org.apache.derby.iapi.store.raw.FetchDescriptor-org.apache.derby.iapi.store.raw.RecordHandle-org.apache.derby.impl.store.raw.data.StoredRecordHeader-boolean-">restoreRecordFromSlot</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#restoreRecordFromStream-org.apache.derby.iapi.services.io.LimitObjectInput-java.lang.Object:A-">restoreRecordFromStream</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#setDeleteStatus-org.apache.derby.iapi.store.raw.log.LogInstant-int-boolean-">setDeleteStatus</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#setPageStatus-org.apache.derby.iapi.store.raw.log.LogInstant-byte-">setPageStatus</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#setReservedSpace-org.apache.derby.iapi.store.raw.log.LogInstant-int-int-">setReservedSpace</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#setTimeStamp-org.apache.derby.iapi.store.raw.PageTimeStamp-">setTimeStamp</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#skipField-java.io.ObjectInput-">skipField</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#skipRecord-java.io.ObjectInput-">skipRecord</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#spaceForCopy-int-int-">spaceForCopy</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#spaceForCopy-int-int:A-">spaceForCopy</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#spaceForInsert--">spaceForInsert</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#spaceForInsert-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-int-">spaceForInsert</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#storeField-org.apache.derby.iapi.store.raw.log.LogInstant-int-int-java.io.ObjectInput-">storeField</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#storeRecord-org.apache.derby.iapi.store.raw.log.LogInstant-int-boolean-java.io.ObjectInput-">storeRecord</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#toUncheckedString--">toUncheckedString</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#unfilled--">unfilled</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#updateChecksum--">updateChecksum</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#updateFieldAtSlot-int-int-java.lang.Object-org.apache.derby.iapi.store.access.conglomerate.LogicalUndo-">updateFieldAtSlot</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#updateFieldOverflowDetails-org.apache.derby.iapi.store.raw.RecordHandle-org.apache.derby.iapi.store.raw.RecordHandle-">updateFieldOverflowDetails</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#updateOverflowDetails-org.apache.derby.iapi.store.raw.RecordHandle-org.apache.derby.iapi.store.raw.RecordHandle-">updateOverflowDetails</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#updateOverflowed-org.apache.derby.iapi.store.raw.xact.RawTransaction-int-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-org.apache.derby.impl.store.raw.data.StoredRecordHeader-">updateOverflowed</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#usePageBuffer-byte:A-">usePageBuffer</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#validateChecksum-org.apache.derby.iapi.store.raw.PageKey-">validateChecksum</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#writeFormatId-org.apache.derby.iapi.store.raw.PageKey-">writeFormatId</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.derby.impl.store.raw.data.CachedPage">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.derby.impl.store.raw.data.<a href="../../../../../../../org/apache/derby/impl/store/raw/data/CachedPage.html" title="class in org.apache.derby.impl.store.raw.data">CachedPage</a></h3>
<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/CachedPage.html#clean-boolean-">clean</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/CachedPage.html#clearIdentity--">clearIdentity</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/CachedPage.html#createIdentity-java.lang.Object-java.lang.Object-">createIdentity</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/CachedPage.html#getPageArray--">getPageArray</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/CachedPage.html#isActuallyDirty--">isActuallyDirty</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/CachedPage.html#isDirty--">isDirty</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/CachedPage.html#preDirty--">preDirty</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/CachedPage.html#setContainerRowCount-long-">setContainerRowCount</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/CachedPage.html#setDirty--">setDirty</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/CachedPage.html#setFactory-org.apache.derby.impl.store.raw.data.BaseDataFileFactory-">setFactory</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/CachedPage.html#setIdentity-java.lang.Object-">setIdentity</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/CachedPage.html#setPageArray-int-">setPageArray</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.derby.impl.store.raw.data.BasePage">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.derby.impl.store.raw.data.<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a></h3>
<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#bumpPageVersion--">bumpPageVersion</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#bumpRecordCount-int-">bumpRecordCount</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#cleanPageForReuse--">cleanPageForReuse</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#clearLastLogInstant--">clearLastLogInstant</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#compactRecord-org.apache.derby.iapi.store.raw.RecordHandle-">compactRecord</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#copyAndPurge-org.apache.derby.iapi.store.raw.Page-int-int-int-">copyAndPurge</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#deallocatePage--">deallocatePage</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#deleteAtSlot-int-boolean-org.apache.derby.iapi.store.access.conglomerate.LogicalUndo-">deleteAtSlot</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#fetchFieldFromSlot-int-int-java.lang.Object-">fetchFieldFromSlot</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#fetchFromSlot-org.apache.derby.iapi.store.raw.RecordHandle-int-java.lang.Object:A-org.apache.derby.iapi.store.raw.FetchDescriptor-boolean-">fetchFromSlot</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#fetchNumFields-org.apache.derby.iapi.store.raw.RecordHandle-">fetchNumFields</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#fillInIdentity-org.apache.derby.iapi.store.raw.PageKey-">fillInIdentity</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#findRecordById-int-int-">findRecordById</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#getAuxObject--">getAuxObject</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#getHeaderAtSlot-int-">getHeaderAtSlot</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#getIdentity--">getIdentity</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#getInvalidRecordHandle--">getInvalidRecordHandle</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#getLastLogInstant--">getLastLogInstant</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#getNextSlotNumber-org.apache.derby.iapi.store.raw.RecordHandle-">getNextSlotNumber</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#getPageId--">getPageId</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#getPageKey--">getPageKey</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#getPageNumber--">getPageNumber</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#getPageStatus--">getPageStatus</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#getPageVersion--">getPageVersion</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#getRecordHandle-int-">getRecordHandle</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#getRecordHandleAtSlot-int-">getRecordHandleAtSlot</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#getSlotNumber-org.apache.derby.iapi.store.raw.RecordHandle-">getSlotNumber</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#initializeHeaders-int-">initializeHeaders</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#initPage-int-long-">initPage</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#insert-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-byte-int-">insert</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#insertAllowOverflow-int-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-int-byte-int-org.apache.derby.iapi.store.raw.RecordHandle-">insertAllowOverflow</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#insertLongColumn-org.apache.derby.impl.store.raw.data.BasePage-org.apache.derby.impl.store.raw.data.LongColumnException-byte-">insertLongColumn</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#insertNoOverflow-int-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-org.apache.derby.iapi.store.access.conglomerate.LogicalUndo-byte-int-">insertNoOverflow</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#internalNonDeletedRecordCount--">internalNonDeletedRecordCount</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#isDeletedAtSlot-int-">isDeletedAtSlot</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#isDeletedOnPage-int-">isDeletedOnPage</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#isLatched--">isLatched</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#isRepositionNeeded-long-">isRepositionNeeded</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#makeRecordHandle-int-">makeRecordHandle</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#MakeRecordHandle-org.apache.derby.iapi.store.raw.PageKey-int-">MakeRecordHandle</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#nonDeletedRecordCount--">nonDeletedRecordCount</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#purgeAtSlot-int-int-boolean-">purgeAtSlot</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#recordCount--">recordCount</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#recordExists-org.apache.derby.iapi.store.raw.RecordHandle-boolean-">recordExists</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#removeAndShiftDown-int-">removeAndShiftDown</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#setAuxObject-org.apache.derby.iapi.store.raw.AuxObject-">setAuxObject</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#setDeleteStatus-int-boolean-">setDeleteStatus</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#setExclusive-org.apache.derby.impl.store.raw.data.BaseContainerHandle-">setExclusive</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#setExclusiveNoWait-org.apache.derby.impl.store.raw.data.BaseContainerHandle-">setExclusiveNoWait</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#setHeaderAtSlot-int-org.apache.derby.impl.store.raw.data.StoredRecordHeader-">setHeaderAtSlot</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#setPageStatus-byte-">setPageStatus</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#setPageVersion-long-">setPageVersion</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#setRepositionNeeded--">setRepositionNeeded</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#shiftUp-int-">shiftUp</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#shouldReclaimSpace-int-int-">shouldReclaimSpace</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#slotTableToString--">slotTableToString</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#unlatch--">unlatch</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#update-org.apache.derby.iapi.services.monitor.DerbyObservable-java.lang.Object-">update</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#updateAtSlot-int-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-">updateAtSlot</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html#updateLastLogInstant-org.apache.derby.iapi.store.raw.log.LogInstant-">updateLastLogInstant</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.derby.iapi.services.cache.Cacheable">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.apache.derby.iapi.services.cache.<a href="../../../../../../../org/apache/derby/iapi/services/cache/Cacheable.html" title="interface in org.apache.derby.iapi.services.cache">Cacheable</a></h3>
<code><a href="../../../../../../../org/apache/derby/iapi/services/cache/Cacheable.html#getIdentity--">getIdentity</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="FORMAT_NUMBER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FORMAT_NUMBER</h4>
<pre>public static final&nbsp;int FORMAT_NUMBER</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.AllocPage.FORMAT_NUMBER">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="nextAllocPageNumber">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nextAllocPageNumber</h4>
<pre>private&nbsp;long nextAllocPageNumber</pre>
<div class="block">alloc page header</div>
</li>
</ul>
<a name="nextAllocPageOffset">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nextAllocPageOffset</h4>
<pre>private&nbsp;long nextAllocPageOffset</pre>
</li>
</ul>
<a name="reserved1">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reserved1</h4>
<pre>private&nbsp;long reserved1</pre>
</li>
</ul>
<a name="reserved2">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reserved2</h4>
<pre>private&nbsp;long reserved2</pre>
</li>
</ul>
<a name="reserved3">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reserved3</h4>
<pre>private&nbsp;long reserved3</pre>
</li>
</ul>
<a name="reserved4">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reserved4</h4>
<pre>private&nbsp;long reserved4</pre>
</li>
</ul>
<a name="extent">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>extent</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html" title="class in org.apache.derby.impl.store.raw.data">AllocExtent</a> extent</pre>
</li>
</ul>
<a name="borrowedSpace">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>borrowedSpace</h4>
<pre>private&nbsp;int borrowedSpace</pre>
</li>
</ul>
<a name="ALLOC_PAGE_HEADER_OFFSET">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ALLOC_PAGE_HEADER_OFFSET</h4>
<pre>protected static final&nbsp;int ALLOC_PAGE_HEADER_OFFSET</pre>
<div class="block">constants</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.AllocPage.ALLOC_PAGE_HEADER_OFFSET">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="ALLOC_PAGE_HEADER_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ALLOC_PAGE_HEADER_SIZE</h4>
<pre>protected static final&nbsp;int ALLOC_PAGE_HEADER_SIZE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.AllocPage.ALLOC_PAGE_HEADER_SIZE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="BORROWED_SPACE_OFFSET">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BORROWED_SPACE_OFFSET</h4>
<pre>protected static final&nbsp;int BORROWED_SPACE_OFFSET</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.AllocPage.BORROWED_SPACE_OFFSET">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="BORROWED_SPACE_LEN">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BORROWED_SPACE_LEN</h4>
<pre>protected static final&nbsp;int BORROWED_SPACE_LEN</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.AllocPage.BORROWED_SPACE_LEN">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="MAX_BORROWED_SPACE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MAX_BORROWED_SPACE</h4>
<pre>protected static final&nbsp;int MAX_BORROWED_SPACE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.impl.store.raw.data.AllocPage.MAX_BORROWED_SPACE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="TEST_MULTIPLE_ALLOC_PAGE">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TEST_MULTIPLE_ALLOC_PAGE</h4>
<pre>public static final&nbsp;java.lang.String TEST_MULTIPLE_ALLOC_PAGE</pre>
<div class="block">Extent Testing

 Use these strings to simulate error conditions for
 testing purposes.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="AllocPage--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AllocPage</h4>
<pre>public&nbsp;AllocPage()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getTypeFormatId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTypeFormatId</h4>
<pre>public&nbsp;int&nbsp;getTypeFormatId()</pre>
<div class="block">Return my format identifier.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/services/io/TypedFormat.html#getTypeFormatId--">getTypeFormatId</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/services/io/TypedFormat.html" title="interface in org.apache.derby.iapi.services.io">TypedFormat</a></code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#getTypeFormatId--">getTypeFormatId</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html" title="class in org.apache.derby.impl.store.raw.data">StoredPage</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The identifier. (A UUID stuffed in an array
          of 16 bytes).</dd>
</dl>
</li>
</ul>
<a name="getMaxFreeSpace--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxFreeSpace</h4>
<pre>protected&nbsp;int&nbsp;getMaxFreeSpace()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#getMaxFreeSpace--">StoredPage</a></code></span></div>
<div class="block">The maximum free space on this page possible.
 <p>
 The the maximum amount of space that can be used on the page
 for the records and the slot offset table.
 NOTE: subclass may have overwitten it to report less freeSpace</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#getMaxFreeSpace--">getMaxFreeSpace</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html" title="class in org.apache.derby.impl.store.raw.data">StoredPage</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the maximum free space on this page possible.</dd>
</dl>
</li>
</ul>
<a name="createPage-org.apache.derby.iapi.store.raw.PageKey-org.apache.derby.impl.store.raw.data.PageCreationArgs-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createPage</h4>
<pre>protected&nbsp;void&nbsp;createPage(<a href="../../../../../../../org/apache/derby/iapi/store/raw/PageKey.html" title="class in org.apache.derby.iapi.store.raw">PageKey</a>&nbsp;newIdentity,
                          <a href="../../../../../../../org/apache/derby/impl/store/raw/data/PageCreationArgs.html" title="class in org.apache.derby.impl.store.raw.data">PageCreationArgs</a>&nbsp;args)
                   throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Create a new alloc page.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#createPage-org.apache.derby.iapi.store.raw.PageKey-org.apache.derby.impl.store.raw.data.PageCreationArgs-">createPage</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html" title="class in org.apache.derby.impl.store.raw.data">StoredPage</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>newIdentity</code> - The key describing page (segment,container,page).</dd>
<dd><code>args</code> - information stored about the page, once in the 
                      container header and passed in through the object.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="createExtent-long-int-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createExtent</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html" title="class in org.apache.derby.impl.store.raw.data">AllocExtent</a>&nbsp;createExtent(long&nbsp;pageNum,
                                 int&nbsp;pageSize,
                                 int&nbsp;pagesAlloced,
                                 int&nbsp;availspace)</pre>
</li>
</ul>
<a name="initFromData-org.apache.derby.impl.store.raw.data.FileContainer-org.apache.derby.iapi.store.raw.PageKey-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initFromData</h4>
<pre>protected&nbsp;void&nbsp;initFromData(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html" title="class in org.apache.derby.impl.store.raw.data">FileContainer</a>&nbsp;myContainer,
                            <a href="../../../../../../../org/apache/derby/iapi/store/raw/PageKey.html" title="class in org.apache.derby.iapi.store.raw">PageKey</a>&nbsp;newIdentity)
                     throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Initialize in memory structure using the buffer in pageData</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#initFromData-org.apache.derby.impl.store.raw.data.FileContainer-org.apache.derby.iapi.store.raw.PageKey-">initFromData</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html" title="class in org.apache.derby.impl.store.raw.data">StoredPage</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>myContainer</code> - The container to read the page in from.</dd>
<dd><code>newIdentity</code> - The key representing page being read in (segment,
                      container, page number)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - If the page cannot be read correctly, or is inconsistent.</dd>
</dl>
</li>
</ul>
<a name="writePage-org.apache.derby.iapi.store.raw.PageKey-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writePage</h4>
<pre>protected&nbsp;void&nbsp;writePage(<a href="../../../../../../../org/apache/derby/iapi/store/raw/PageKey.html" title="class in org.apache.derby.iapi.store.raw">PageKey</a>&nbsp;identity)
                  throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Write the page out</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#writePage-org.apache.derby.iapi.store.raw.PageKey-">writePage</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html" title="class in org.apache.derby.impl.store.raw.data">StoredPage</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>identity</code> - The key of this page.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - If the page cannot be written</dd>
</dl>
</li>
</ul>
<a name="readAllocPageHeader--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readAllocPageHeader</h4>
<pre>private&nbsp;void&nbsp;readAllocPageHeader()
                          throws java.io.IOException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="updateAllocPageHeader--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateAllocPageHeader</h4>
<pre>private&nbsp;void&nbsp;updateAllocPageHeader()
                            throws java.io.IOException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="readExtent-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readExtent</h4>
<pre>private&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html" title="class in org.apache.derby.impl.store.raw.data">AllocExtent</a>&nbsp;readExtent(int&nbsp;offset)
                        throws java.io.IOException,
                               java.lang.ClassNotFoundException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dd><code>java.lang.ClassNotFoundException</code></dd>
</dl>
</li>
</ul>
<a name="writeExtent-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeExtent</h4>
<pre>private&nbsp;void&nbsp;writeExtent(int&nbsp;offset)
                  throws java.io.IOException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="WriteContainerInfo-byte:A-byte:A-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>WriteContainerInfo</h4>
<pre>public static&nbsp;void&nbsp;WriteContainerInfo(byte[]&nbsp;containerInfo,
                                      byte[]&nbsp;epage,
                                      boolean&nbsp;create)
                               throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Write the container information into the container information area.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>containerInfo</code> - the container information</dd>
<dd><code>epage</code> - the allocation page data which may not be fully formed,
                but is guarenteed to be big enough to cover the area inhibited by the
                container info</dd>
<dd><code>create</code> - if create, write out the length of the container info
                also. Else check to make sure epage's original container info is of the
                same length</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="ReadContainerInfo-byte:A-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ReadContainerInfo</h4>
<pre>public static&nbsp;void&nbsp;ReadContainerInfo(byte[]&nbsp;containerInfo,
                                     byte[]&nbsp;epage)
                              throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Extract the container information from epage.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>containerInfo</code> - where to put the extracted information</dd>
<dd><code>epage</code> - the allocation page which has the container information.
                Epage may not be fully formed, but is guarenteed to be big enough to
                cover the area inhibited by the container info</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="nextFreePageNumber-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nextFreePageNumber</h4>
<pre>public&nbsp;long&nbsp;nextFreePageNumber(long&nbsp;pnum)</pre>
<div class="block">Return the next free page number after given page number</div>
</li>
</ul>
<a name="addPage-org.apache.derby.impl.store.raw.data.FileContainer-long-org.apache.derby.iapi.store.raw.xact.RawTransaction-org.apache.derby.impl.store.raw.data.BaseContainerHandle-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addPage</h4>
<pre>public&nbsp;void&nbsp;addPage(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html" title="class in org.apache.derby.impl.store.raw.data">FileContainer</a>&nbsp;mycontainer,
                    long&nbsp;newPageNumber,
                    <a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;ntt,
                    <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;userHandle)
             throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Add a page which is managed by this alloc page.
                Return the page number of the newly added page.

                <BR> MT - thread aware (latched)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mycontainer</code> - (future) allows the alloc page to call back to the
                        container to grow the container by creating and syncing multiple
                        pages at once</dd>
<dd><code>ntt</code> - the nested top action that is the allocation transaction.
                        NTT will comit before the user transaction</dd>
<dd><code>userHandle</code> - the container handle that is opened by the user
                        transaction.  Use the userHandle to latch the new page so that
                        it may remain latched after NTT is committed so the user
                        transaction can guarentee to have an empty page</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - If the page cannot be added</dd>
</dl>
</li>
</ul>
<a name="deallocatePage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deallocatePage</h4>
<pre>public&nbsp;void&nbsp;deallocatePage(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;userHandle,
                           long&nbsp;pageNumber)
                    throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="updateUnfilledPageInfo-org.apache.derby.impl.store.raw.data.AllocExtent-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateUnfilledPageInfo</h4>
<pre>protected&nbsp;void&nbsp;updateUnfilledPageInfo(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html" title="class in org.apache.derby.impl.store.raw.data">AllocExtent</a>&nbsp;inputExtent)</pre>
</li>
</ul>
<a name="canAddFreePage-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>canAddFreePage</h4>
<pre>public&nbsp;boolean&nbsp;canAddFreePage(long&nbsp;lastAllocatedPage)</pre>
</li>
</ul>
<a name="getNextAllocPageOffset--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextAllocPageOffset</h4>
<pre>public&nbsp;long&nbsp;getNextAllocPageOffset()</pre>
</li>
</ul>
<a name="chainNewAllocPage-org.apache.derby.impl.store.raw.data.BaseContainerHandle-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>chainNewAllocPage</h4>
<pre>public&nbsp;void&nbsp;chainNewAllocPage(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseContainerHandle.html" title="class in org.apache.derby.impl.store.raw.data">BaseContainerHandle</a>&nbsp;allocHandle,
                              long&nbsp;newAllocPageNum,
                              long&nbsp;newAllocPageOffset)
                       throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="getNextAllocPageNumber--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextAllocPageNumber</h4>
<pre>public&nbsp;long&nbsp;getNextAllocPageNumber()</pre>
</li>
</ul>
<a name="isLast--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isLast</h4>
<pre>public&nbsp;boolean&nbsp;isLast()</pre>
</li>
</ul>
<a name="getLastPagenum--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastPagenum</h4>
<pre>public&nbsp;long&nbsp;getLastPagenum()</pre>
</li>
</ul>
<a name="getMaxPagenum--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxPagenum</h4>
<pre>public&nbsp;long&nbsp;getMaxPagenum()</pre>
</li>
</ul>
<a name="getLastPreallocPagenum--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastPreallocPagenum</h4>
<pre>protected&nbsp;long&nbsp;getLastPreallocPagenum()</pre>
</li>
</ul>
<a name="getPageStatus-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPageStatus</h4>
<pre>protected&nbsp;int&nbsp;getPageStatus(long&nbsp;pageNumber)</pre>
</li>
</ul>
<a name="setPageStatus-org.apache.derby.iapi.store.raw.log.LogInstant-long-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPageStatus</h4>
<pre>protected&nbsp;void&nbsp;setPageStatus(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant,
                             long&nbsp;pageNumber,
                             int&nbsp;newStatus)
                      throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Do the actual page allocation/deallocation/ree underneath a log operation.
                Change the page status to new status</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - If the page cannot be allocated</dd>
</dl>
</li>
</ul>
<a name="chainNextAllocPage-org.apache.derby.iapi.store.raw.log.LogInstant-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>chainNextAllocPage</h4>
<pre>protected&nbsp;void&nbsp;chainNextAllocPage(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant,
                                  long&nbsp;newAllocPageNum,
                                  long&nbsp;newAllocPageOffset)
                           throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Chain the next page number and offset underneath a log record</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="compressSpace-org.apache.derby.iapi.store.raw.log.LogInstant-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>compressSpace</h4>
<pre>protected&nbsp;void&nbsp;compressSpace(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant,
                             int&nbsp;new_highest_page,
                             int&nbsp;num_pages_truncated)
                      throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Compress free pages.
 <p>
 Compress the free pages at the end of the range maintained by
 this allocation page.  All pages being compressed should be FREE.
 Only pages in the last allocation page can be compressed.
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>instant</code> - log address for this operation.</dd>
<dd><code>new_highest_page</code> - The new highest page on this allocation 
                              page.  The number is the offset of the page
                              in the array of pages maintained by this 
                              allocation page, for instance a value of 0 
                              indicates all page except the first one are
                              to be truncated.  If all pages are 
                              truncated then the offset is set to -1.</dd>
<dd><code>num_pages_truncated</code> - The number of allocated pages in this 
                              allocation page prior to the truncate.  
                              Note that all pages from NewHighestPage+1 
                              through newHighestPage+num_pages_truncated 
                              should be FREE.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="undoCompressSpace-org.apache.derby.iapi.store.raw.log.LogInstant-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>undoCompressSpace</h4>
<pre>protected&nbsp;void&nbsp;undoCompressSpace(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant,
                                 int&nbsp;new_highest_page,
                                 int&nbsp;num_pages_truncated)
                          throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Handle undo of compress space operation.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#toString--">StoredPage</a></code></span></div>
<div class="block">debugging, print this page</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html#toString--">toString</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html" title="class in org.apache.derby.impl.store.raw.data">StoredPage</a></code></dd>
</dl>
</li>
</ul>
<a name="getAllocExtent--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllocExtent</h4>
<pre>protected&nbsp;<a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html" title="class in org.apache.derby.impl.store.raw.data">AllocExtent</a>&nbsp;getAllocExtent()</pre>
<div class="block">Return a copy of the allocExtent to be cached by the container.
                the container must take care to maintain its coherency by
                invalidating the cache before any update.</div>
</li>
</ul>
<a name="preAllocatePage-org.apache.derby.impl.store.raw.data.FileContainer-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>preAllocatePage</h4>
<pre>protected&nbsp;void&nbsp;preAllocatePage(<a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html" title="class in org.apache.derby.impl.store.raw.data">FileContainer</a>&nbsp;myContainer,
                               int&nbsp;preAllocThreshold,
                               int&nbsp;preAllocSize)</pre>
<div class="block">Preallocate user page if needed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>myContainer</code> - the container object</dd>
<dd><code>preAllocThreshold</code> - start preallocating after this threshold</dd>
<dd><code>preAllocSize</code> - preallocate this number of pages</dd>
</dl>
</li>
</ul>
<a name="compress-org.apache.derby.iapi.store.raw.xact.RawTransaction-org.apache.derby.impl.store.raw.data.FileContainer-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>compress</h4>
<pre>protected&nbsp;boolean&nbsp;compress(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;ntt,
                           <a href="../../../../../../../org/apache/derby/impl/store/raw/data/FileContainer.html" title="class in org.apache.derby.impl.store.raw.data">FileContainer</a>&nbsp;myContainer)
                    throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">compress out empty pages at end of container.
 <p>
 Call the extent to update the data structure make the bit map look
 like contiguous free pages at the end of the extent no longer exist.
 Similar to preallocate do the operation unlogged, need to force the
 change to the extent before actually removing the space from the
 file.
 <p>
 The sequence is:
     1) update extent data structure
     2) force extent changes to disk
     3) truncate pages

 If the system crashes between 1 and 2 then no changes are on disk.
 If the system crashes between 2 and 3 then there are extra pages in
     the file that extent does not know about, this is the same case
     as preallocation which the code already handes.  It will handle
     any set of pages from 0 to all of the intended pages being 
     truncated.  The next allocate looks at actual size of file as
     does the right thing.

 <p>
 MT - expect Container level X lock</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Built on Mon 2017-07-03 23:03:59+0530, from revision Unversioned directory</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocExtent.html" title="class in org.apache.derby.impl.store.raw.data"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../org/apache/derby/impl/store/raw/data/AllocPageOperation.html" title="class in org.apache.derby.impl.store.raw.data"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/derby/impl/store/raw/data/AllocPage.html" target="_top">Frames</a></li>
<li><a href="AllocPage.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Apache Derby V10.13 Internals - <i>Copyright &copy; 2004,2016 The Apache Software Foundation. All Rights Reserved.</i></small></p>
</body>
</html>
