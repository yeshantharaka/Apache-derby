<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_66) on Mon Jul 03 23:05:23 IST 2017 -->
<title>DDMWriter (Apache Derby V10.13 Internals)</title>
<meta name="date" content="2017-07-03">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DDMWriter (Apache Derby V10.13 Internals)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":9,"i28":9,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10,"i34":9,"i35":9,"i36":10,"i37":10,"i38":10,"i39":10,"i40":10,"i41":10,"i42":10,"i43":10,"i44":10,"i45":10,"i46":10,"i47":10,"i48":10,"i49":10,"i50":10,"i51":10,"i52":10,"i53":10,"i54":10,"i55":10,"i56":10,"i57":10,"i58":10,"i59":10,"i60":10,"i61":10,"i62":10,"i63":10,"i64":10,"i65":10,"i66":10,"i67":10,"i68":10,"i69":10,"i70":10,"i71":10,"i72":10,"i73":10,"i74":10,"i75":10,"i76":10,"i77":10,"i78":10,"i79":10,"i80":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/derby/impl/drda/DDMReader.html" title="class in org.apache.derby.impl.drda"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/apache/derby/impl/drda/DecryptionManager.html" title="class in org.apache.derby.impl.drda"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/derby/impl/drda/DDMWriter.html" target="_top">Frames</a></li>
<li><a href="DDMWriter.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.derby.impl.drda</div>
<h2 title="Class DDMWriter" class="title">Class DDMWriter</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.derby.impl.drda.DDMWriter</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>class <span class="typeNameLabel">DDMWriter</span>
extends java.lang.Object</pre>
<div class="block">The DDMWriter is used to write DRDA protocol.   The DRDA Protocol is
    described in the DDMReader class.
    For more details, see DRDA Volume 3 (Distributed Data Management(DDM)
        Architecture (DDS definition)</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../org/apache/derby/impl/drda/DRDAConnThread.html" title="class in org.apache.derby.impl.drda">DRDAConnThread</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#agent">agent</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.nio.ByteBuffer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#buffer">buffer</a></span></code>
<div class="block">Output buffer.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../org/apache/derby/impl/drda/CcsidManager.html" title="class in org.apache.derby.impl.drda">CcsidManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#ccsidManager">ccsidManager</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#correlationID">correlationID</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#DEFAULT_BUFFER_SIZE">DEFAULT_BUFFER_SIZE</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#dssLengthLocation">dssLengthLocation</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../org/apache/derby/impl/drda/DssTrace.html" title="class in org.apache.derby.impl.drda">DssTrace</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#dssTrace">dssTrace</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../org/apache/derby/impl/drda/EbcdicCcsidManager.html" title="class in org.apache.derby.impl.drda">EbcdicCcsidManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#ebcdicCcsidManager">ebcdicCcsidManager</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.nio.charset.CharsetEncoder</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#encoder">encoder</a></span></code>
<div class="block">Encoder which encodes strings with the server's default encoding.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#isContinuationDss">isContinuationDss</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#isDRDAProtocol">isDRDAProtocol</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#lastDSSBeforeMark">lastDSSBeforeMark</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#markStack">markStack</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#MAX_MARKS_NESTING">MAX_MARKS_NESTING</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#MAX_VARCHAR_BYTE_LENGTH">MAX_VARCHAR_BYTE_LENGTH</a></span></code>
<div class="block">The maximum length in bytes for strings sent by <code>writeLDString()</code>,
 which is the maximum unsigned integer value that fits in two bytes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#nextCorrelationID">nextCorrelationID</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#prevHdrLocation">prevHdrLocation</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private byte</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#previousChainByte">previousChainByte</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#previousCorrId">previousCorrId</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#top">top</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#totalByteCount">totalByteCount</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../org/apache/derby/impl/drda/Utf8CcsidManager.html" title="class in org.apache.derby.impl.drda">Utf8CcsidManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#utf8CcsidManager">utf8CcsidManager</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#DDMWriter-org.apache.derby.impl.drda.DRDAConnThread-org.apache.derby.impl.drda.DssTrace-">DDMWriter</a></span>(<a href="../../../../../org/apache/derby/impl/drda/DRDAConnThread.html" title="class in org.apache.derby.impl.drda">DRDAConnThread</a>&nbsp;agent,
         <a href="../../../../../org/apache/derby/impl/drda/DssTrace.html" title="class in org.apache.derby.impl.drda">DssTrace</a>&nbsp;dssTrace)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#beginDss-boolean-int-">beginDss</a></span>(boolean&nbsp;chainedToNextStructure,
        int&nbsp;dssType)</code>
<div class="block">Begins a DSS stream (for writing LOB data).</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#beginDss-int-boolean-">beginDss</a></span>(int&nbsp;dssType,
        boolean&nbsp;ensureLen)</code>
<div class="block">Write DSS header
 DSS Header format is
  2 bytes - length
  1 byte  - 'D0'  - indicates DDM data
  1 byte  - DSS format
      |---|---------|----------|
      | 0 |   flags | type     |
      |---|---------|----------|
      | 0 | 1 2   3 | 4 5 6 7  |
      |---|---------|----------|
      bit 0 - '0'
      bit 1 - '0' - unchained, '1' - chained
      bit 2 - '0' - do not continue on error, '1' - continue on error
      bit 3 - '0' - next DSS has different correlator, '1' - next DSS has
                      same correlator
      type - 1 - Request DSS
           - 2 - Reply DSS
           - 3 - Object DSS
           - 4 - Communications DSS
           - 5 - Request DSS where no reply is expected</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#calculateExtendedLengthByteCount-long-">calculateExtendedLengthByteCount</a></span>(long&nbsp;ddmSize)</code>
<div class="block">Calculate extended length byte count which follows the DSS header
 for extended DDM.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#clearBuffer--">clearBuffer</a></span>()</code>
<div class="block">Clear the entire send buffer</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#clearDdm--">clearDdm</a></span>()</code>
<div class="block">Erase all writes for the current ddm and reset the
 top</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#clearDSSesBackToMark-int-">clearDSSesBackToMark</a></span>(int&nbsp;mark)</code>
<div class="block">Does a logical "clear" of everything written to the buffer after
 the received mark.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#copyDSSDataToEnd-int-">copyDSSDataToEnd</a></span>(int&nbsp;start)</code>
<div class="block">Copy Data to End
 Create a buffer and copy from the position given to the end of data

 Note that the position given is treated as relative to the
 current DSS, for there may be other DSS blocks (chained, presumably)
 which are sitting unwritten in the buffer.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#createDssObject--">createDssObject</a></span>()</code>
<div class="block">Create DSS data object</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#createDssReply--">createDssReply</a></span>()</code>
<div class="block">Create DSS reply object</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#createDssRequest--">createDssRequest</a></span>()</code>
<div class="block">Create DSS request object
 NOTE: This is _ONLY_ used for testing the protocol
 (via the ProtocolTestAdapter.java file in this package)!</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#doesRequestContainData--">doesRequestContainData</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#endDdm--">endDdm</a></span>()</code>
<div class="block">End the current DDM</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#endDdmAndDss--">endDdmAndDss</a></span>()</code>
<div class="block">End final DDM and DSS header by writing the length in the length location</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#endDss--">endDss</a></span>()</code>
<div class="block">End DSS header by writing the length in the length location
 and setting the chain bit.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#endDss-boolean-">endDss</a></span>(boolean&nbsp;finalizeLength)</code>
<div class="block">End DSS header by writing the length in the length location
 and setting the chain bit.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#endDss-byte-">endDss</a></span>(byte&nbsp;chainByte)</code>
<div class="block">End DSS header by writing the length in the length location
 and setting the chain bit.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#ensureLength-int-">ensureLength</a></span>(int&nbsp;length)</code>
<div class="block">Ensure that there is space in the buffer</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#finalizeChain-byte-java.io.OutputStream-">finalizeChain</a></span>(byte&nbsp;currChainByte,
             java.io.OutputStream&nbsp;socketOutputStream)</code>
<div class="block">Finalize the current DSS chain and send it if
 needed.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#finalizeDssLength--">finalizeDssLength</a></span>()</code>
<div class="block">Finish a DSS Layer A object.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#flush--">flush</a></span>()</code>
<div class="block">Flush buffer to outputstream</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#flush-java.io.OutputStream-">flush</a></span>(java.io.OutputStream&nbsp;socketOutputStream)</code>
<div class="block">Flush buffer to specified stream</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#flushScalarStreamSegment-boolean-java.io.OutputStream-">flushScalarStreamSegment</a></span>(boolean&nbsp;lastSegment,
                        java.io.OutputStream&nbsp;out)</code>&nbsp;</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>protected byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#getBufferContents-int-">getBufferContents</a></span>(int&nbsp;startPos)</code>
<div class="block">Get a copy of a subsequence of the output buffer, starting at the
 specified position and ending at the current buffer position.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#getBufferPosition--">getBufferPosition</a></span>()</code>
<div class="block">Get the current position in the output buffer.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#getCorrelationID--">getCorrelationID</a></span>()</code>
<div class="block">Looks at chaining info for previous DSS written, and use
 that to figure out what the correlation id for the current
 DSS should be.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../org/apache/derby/impl/drda/CcsidManager.html" title="class in org.apache.derby.impl.drda">CcsidManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#getCurrentCcsidManager--">getCurrentCcsidManager</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#getDSSLength--">getDSSLength</a></span>()</code>
<div class="block">Get the length of the current DSS block we're working on.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#getLayerBStreamingBufferSize--">getLayerBStreamingBufferSize</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>private static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#isContinuationByte-byte-">isContinuationByte</a></span>(byte&nbsp;b)</code>
<div class="block">Check if a byte value represents a continuation byte in a UTF-8 byte
 sequence.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#markDssAsContinued-boolean-">markDssAsContinued</a></span>(boolean&nbsp;forLob)</code>
<div class="block">Mark the DSS that we're currently writing as
 a continued DSS, which is done by setting
 the high-order bit to "1", per DDM spec.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#markDSSClearPoint--">markDSSClearPoint</a></span>()</code>
<div class="block">Takes note of the location of the most recently completed
 DSS in the buffer, and then returns the current offset.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#maxEncodedLength-java.lang.String-">maxEncodedLength</a></span>(java.lang.String&nbsp;s)</code>
<div class="block">Find the maximum number of bytes needed to represent the string in the
 default encoding.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#overrideChainByte-int-byte-">overrideChainByte</a></span>(int&nbsp;pos,
                 byte&nbsp;chainByte)</code>
<div class="block">Override the default chaining byte with the chaining byte that is passed
 in.</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#padBytes-byte-int-">padBytes</a></span>(byte&nbsp;val,
        int&nbsp;length)</code>
<div class="block">Write pad bytes using spaceChar</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#peekStream-java.io.InputStream-">peekStream</a></span>(java.io.InputStream&nbsp;in)</code>&nbsp;</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>private static java.io.OutputStream</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#placeLayerBStreamingBuffer-java.io.OutputStream-">placeLayerBStreamingBuffer</a></span>(java.io.OutputStream&nbsp;original)</code>&nbsp;</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#prepScalarStream-boolean-int-boolean-">prepScalarStream</a></span>(boolean&nbsp;chainedWithSameCorrelator,
                int&nbsp;codePoint,
                boolean&nbsp;writeNullByte)</code>
<div class="block">prepScalarStream does the following prep for writing stream data:
 1.</div>
</td>
</tr>
<tr id="i37" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#reset-org.apache.derby.impl.drda.DssTrace-">reset</a></span>(<a href="../../../../../org/apache/derby/impl/drda/DssTrace.html" title="class in org.apache.derby.impl.drda">DssTrace</a>&nbsp;dssTrace)</code>
<div class="block">reset values for sending next message</div>
</td>
</tr>
<tr id="i38" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#resetChainState--">resetChainState</a></span>()</code>
<div class="block">Reset any chaining state that needs to be reset
 at time of the send</div>
</td>
</tr>
<tr id="i39" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#sendBytes-java.io.OutputStream-">sendBytes</a></span>(java.io.OutputStream&nbsp;socketOutputStream)</code>&nbsp;</td>
</tr>
<tr id="i40" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#sendBytes-java.io.OutputStream-boolean-">sendBytes</a></span>(java.io.OutputStream&nbsp;socketOutputStream,
         boolean&nbsp;flashStream)</code>&nbsp;</td>
</tr>
<tr id="i41" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#setBufferPosition-int-">setBufferPosition</a></span>(int&nbsp;position)</code>
<div class="block">Change the current position in the output buffer.</div>
</td>
</tr>
<tr id="i42" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#setCMDProtocol--">setCMDProtocol</a></span>()</code>
<div class="block">set protocol to CMD protocol</div>
</td>
</tr>
<tr id="i43" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#setEbcdicCcsid--">setEbcdicCcsid</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i44" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#setUtf8Ccsid--">setUtf8Ccsid</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i45" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#startDdm-int-">startDdm</a></span>(int&nbsp;codePoint)</code>
<div class="block">Mark the location of the length bytes for the collection so they
 can be updated later</div>
</td>
</tr>
<tr id="i46" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#truncateDSS-int-">truncateDSS</a></span>(int&nbsp;value)</code>
<div class="block">Truncate the current DSS.</div>
</td>
</tr>
<tr id="i47" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#writeBigDecimal-java.math.BigDecimal-int-int-">writeBigDecimal</a></span>(java.math.BigDecimal&nbsp;b,
               int&nbsp;precision,
               int&nbsp;scale)</code>
<div class="block">Write a Java <code>java.math.BigDecimal</code> to packed decimal bytes.</div>
</td>
</tr>
<tr id="i48" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#writeBoolean-boolean-">writeBoolean</a></span>(boolean&nbsp;v)</code>
<div class="block">Write platform boolean</div>
</td>
</tr>
<tr id="i49" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#writeByte-int-">writeByte</a></span>(int&nbsp;value)</code>
<div class="block">Write byte</div>
</td>
</tr>
<tr id="i50" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#writeBytes-byte:A-">writeBytes</a></span>(byte[]&nbsp;buf)</code>
<div class="block">Write byte array</div>
</td>
</tr>
<tr id="i51" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#writeBytes-byte:A-int-">writeBytes</a></span>(byte[]&nbsp;buf,
          int&nbsp;length)</code>
<div class="block">Write byte array</div>
</td>
</tr>
<tr id="i52" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#writeBytes-byte:A-int-int-">writeBytes</a></span>(byte[]&nbsp;buf,
          int&nbsp;start,
          int&nbsp;length)</code>
<div class="block">Write byte array</div>
</td>
</tr>
<tr id="i53" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#writeCodePoint4Bytes-int-int-">writeCodePoint4Bytes</a></span>(int&nbsp;codePoint,
                    int&nbsp;value)</code>
<div class="block">Write code point and 4 bytes</div>
</td>
</tr>
<tr id="i54" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#writeDouble-double-">writeDouble</a></span>(double&nbsp;v)</code>
<div class="block">Write platform double</div>
</td>
</tr>
<tr id="i55" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#writeExtendedLength-long-">writeExtendedLength</a></span>(long&nbsp;size)</code>&nbsp;</td>
</tr>
<tr id="i56" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#writeFloat-float-">writeFloat</a></span>(float&nbsp;v)</code>
<div class="block">Write platform float</div>
</td>
</tr>
<tr id="i57" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#writeInt-int-">writeInt</a></span>(int&nbsp;v)</code>
<div class="block">Write platform int</div>
</td>
</tr>
<tr id="i58" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#writeLDBytes-byte:A-">writeLDBytes</a></span>(byte[]&nbsp;buf)</code>&nbsp;</td>
</tr>
<tr id="i59" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#writeLDBytes-byte:A-int-">writeLDBytes</a></span>(byte[]&nbsp;buf,
            int&nbsp;index)</code>&nbsp;</td>
</tr>
<tr id="i60" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#writeLDString-java.lang.String-">writeLDString</a></span>(java.lang.String&nbsp;s)</code>
<div class="block">Write length delimited string</div>
</td>
</tr>
<tr id="i61" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#writeLDString-java.lang.String-int-org.apache.derby.impl.drda.DRDAStatement-boolean-">writeLDString</a></span>(java.lang.String&nbsp;s,
             int&nbsp;index,
             <a href="../../../../../org/apache/derby/impl/drda/DRDAStatement.html" title="class in org.apache.derby.impl.drda">DRDAStatement</a>&nbsp;stmt,
             boolean&nbsp;isParameter)</code>
<div class="block">Write length delimited string</div>
</td>
</tr>
<tr id="i62" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#writeLengthCodePoint-int-int-">writeLengthCodePoint</a></span>(int&nbsp;length,
                    int&nbsp;codePoint)</code>&nbsp;</td>
</tr>
<tr id="i63" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#writeLong-long-">writeLong</a></span>(long&nbsp;v)</code>
<div class="block">Write platform long</div>
</td>
</tr>
<tr id="i64" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#writeNetworkInt-int-">writeNetworkInt</a></span>(int&nbsp;value)</code>
<div class="block">Write network int</div>
</td>
</tr>
<tr id="i65" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#writeNetworkShort-int-">writeNetworkShort</a></span>(int&nbsp;value)</code>
<div class="block">Write network short</div>
</td>
</tr>
<tr id="i66" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#writeScalar1Byte-int-int-">writeScalar1Byte</a></span>(int&nbsp;codePoint,
                int&nbsp;value)</code>
<div class="block">Write scalar 1 byte object includes length, codepoint and value</div>
</td>
</tr>
<tr id="i67" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#writeScalar2Bytes-int-">writeScalar2Bytes</a></span>(int&nbsp;value)</code>&nbsp;</td>
</tr>
<tr id="i68" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#writeScalar2Bytes-int-int-">writeScalar2Bytes</a></span>(int&nbsp;codePoint,
                 int&nbsp;value)</code>
<div class="block">Write scalar 2 byte object includes length, codepoint and value</div>
</td>
</tr>
<tr id="i69" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#writeScalarBytes-int-byte:A-">writeScalarBytes</a></span>(int&nbsp;codePoint,
                byte[]&nbsp;buf)</code>
<div class="block">Write scalar byte array object includes length, codepoint and value</div>
</td>
</tr>
<tr id="i70" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#writeScalarHeader-int-int-">writeScalarHeader</a></span>(int&nbsp;codePoint,
                 int&nbsp;dataLength)</code>
<div class="block">Write scalar object header includes length and codepoint</div>
</td>
</tr>
<tr id="i71" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#writeScalarPaddedBytes-byte:A-int-byte-">writeScalarPaddedBytes</a></span>(byte[]&nbsp;buf,
                      int&nbsp;paddedLength,
                      byte&nbsp;padByte)</code>
<div class="block">Write padded scalar byte array object  value</div>
</td>
</tr>
<tr id="i72" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#writeScalarPaddedBytes-int-byte:A-int-byte-">writeScalarPaddedBytes</a></span>(int&nbsp;codePoint,
                      byte[]&nbsp;buf,
                      int&nbsp;paddedLength,
                      byte&nbsp;padByte)</code>
<div class="block">Write padded scalar byte array object includes length, codepoint and value</div>
</td>
</tr>
<tr id="i73" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#writeScalarPaddedString-org.apache.derby.impl.drda.DRDAString-int-">writeScalarPaddedString</a></span>(<a href="../../../../../org/apache/derby/impl/drda/DRDAString.html" title="class in org.apache.derby.impl.drda">DRDAString</a>&nbsp;drdaString,
                       int&nbsp;paddedLength)</code>
<div class="block">Write padded scalar <code>DRDAString</code> object value.</div>
</td>
</tr>
<tr id="i74" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#writeScalarPaddedString-int-java.lang.String-int-">writeScalarPaddedString</a></span>(int&nbsp;codePoint,
                       java.lang.String&nbsp;string,
                       int&nbsp;paddedLength)</code>
<div class="block">Write padded scalar string object includes length, codepoint and value
 the string is converted into the appropriate codeset (EBCDIC)</div>
</td>
</tr>
<tr id="i75" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#writeScalarStream-boolean-int-org.apache.derby.impl.drda.EXTDTAInputStream-boolean-">writeScalarStream</a></span>(boolean&nbsp;chainedWithSameCorrelator,
                 int&nbsp;codePoint,
                 <a href="../../../../../org/apache/derby/impl/drda/EXTDTAInputStream.html" title="class in org.apache.derby.impl.drda">EXTDTAInputStream</a>&nbsp;in,
                 boolean&nbsp;writeNullByte)</code>&nbsp;</td>
</tr>
<tr id="i76" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#writeScalarString-int-java.lang.String-">writeScalarString</a></span>(int&nbsp;codePoint,
                 java.lang.String&nbsp;string)</code>
<div class="block">Write scalar string object includes length, codepoint and value
 the string is converted into the appropriate codeset (EBCDIC)</div>
</td>
</tr>
<tr id="i77" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#writeShort-boolean-">writeShort</a></span>(boolean&nbsp;b)</code>
<div class="block">Write boolean as short</div>
</td>
</tr>
<tr id="i78" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#writeShort-int-">writeShort</a></span>(int&nbsp;v)</code>
<div class="block">Write platform short</div>
</td>
</tr>
<tr id="i79" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#writeString-java.lang.String-">writeString</a></span>(java.lang.String&nbsp;s)</code>
<div class="block">Write string with default encoding</div>
</td>
</tr>
<tr id="i80" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/drda/DDMWriter.html#writeUDT-java.lang.Object-int-">writeUDT</a></span>(java.lang.Object&nbsp;val,
        int&nbsp;index)</code>
<div class="block">Write a value of a user defined type.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="MAX_MARKS_NESTING">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MAX_MARKS_NESTING</h4>
<pre>private static final&nbsp;int MAX_MARKS_NESTING</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#org.apache.derby.impl.drda.DDMWriter.MAX_MARKS_NESTING">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="DEFAULT_BUFFER_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_BUFFER_SIZE</h4>
<pre>private static final&nbsp;int DEFAULT_BUFFER_SIZE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#org.apache.derby.impl.drda.DDMWriter.DEFAULT_BUFFER_SIZE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="MAX_VARCHAR_BYTE_LENGTH">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MAX_VARCHAR_BYTE_LENGTH</h4>
<pre>static final&nbsp;int MAX_VARCHAR_BYTE_LENGTH</pre>
<div class="block">The maximum length in bytes for strings sent by <code>writeLDString()</code>,
 which is the maximum unsigned integer value that fits in two bytes.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#org.apache.derby.impl.drda.DDMWriter.MAX_VARCHAR_BYTE_LENGTH">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="buffer">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buffer</h4>
<pre>private&nbsp;java.nio.ByteBuffer buffer</pre>
<div class="block">Output buffer.</div>
</li>
</ul>
<a name="markStack">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>markStack</h4>
<pre>private&nbsp;int[] markStack</pre>
</li>
</ul>
<a name="top">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>top</h4>
<pre>private&nbsp;int top</pre>
</li>
</ul>
<a name="ebcdicCcsidManager">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ebcdicCcsidManager</h4>
<pre>private&nbsp;<a href="../../../../../org/apache/derby/impl/drda/EbcdicCcsidManager.html" title="class in org.apache.derby.impl.drda">EbcdicCcsidManager</a> ebcdicCcsidManager</pre>
</li>
</ul>
<a name="utf8CcsidManager">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>utf8CcsidManager</h4>
<pre>private&nbsp;<a href="../../../../../org/apache/derby/impl/drda/Utf8CcsidManager.html" title="class in org.apache.derby.impl.drda">Utf8CcsidManager</a> utf8CcsidManager</pre>
</li>
</ul>
<a name="ccsidManager">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ccsidManager</h4>
<pre>private&nbsp;<a href="../../../../../org/apache/derby/impl/drda/CcsidManager.html" title="class in org.apache.derby.impl.drda">CcsidManager</a> ccsidManager</pre>
</li>
</ul>
<a name="agent">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>agent</h4>
<pre>private&nbsp;<a href="../../../../../org/apache/derby/impl/drda/DRDAConnThread.html" title="class in org.apache.derby.impl.drda">DRDAConnThread</a> agent</pre>
</li>
</ul>
<a name="dssLengthLocation">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dssLengthLocation</h4>
<pre>private&nbsp;int dssLengthLocation</pre>
</li>
</ul>
<a name="correlationID">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>correlationID</h4>
<pre>private&nbsp;int correlationID</pre>
</li>
</ul>
<a name="nextCorrelationID">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nextCorrelationID</h4>
<pre>private&nbsp;int nextCorrelationID</pre>
</li>
</ul>
<a name="isDRDAProtocol">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isDRDAProtocol</h4>
<pre>private&nbsp;boolean isDRDAProtocol</pre>
</li>
</ul>
<a name="dssTrace">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dssTrace</h4>
<pre>private&nbsp;<a href="../../../../../org/apache/derby/impl/drda/DssTrace.html" title="class in org.apache.derby.impl.drda">DssTrace</a> dssTrace</pre>
</li>
</ul>
<a name="prevHdrLocation">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prevHdrLocation</h4>
<pre>private&nbsp;int prevHdrLocation</pre>
</li>
</ul>
<a name="previousCorrId">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>previousCorrId</h4>
<pre>private&nbsp;int previousCorrId</pre>
</li>
</ul>
<a name="previousChainByte">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>previousChainByte</h4>
<pre>private&nbsp;byte previousChainByte</pre>
</li>
</ul>
<a name="isContinuationDss">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isContinuationDss</h4>
<pre>private&nbsp;boolean isContinuationDss</pre>
</li>
</ul>
<a name="lastDSSBeforeMark">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastDSSBeforeMark</h4>
<pre>private&nbsp;int lastDSSBeforeMark</pre>
</li>
</ul>
<a name="encoder">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>encoder</h4>
<pre>private final&nbsp;java.nio.charset.CharsetEncoder encoder</pre>
<div class="block">Encoder which encodes strings with the server's default encoding.</div>
</li>
</ul>
<a name="totalByteCount">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>totalByteCount</h4>
<pre>volatile&nbsp;long totalByteCount</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DDMWriter-org.apache.derby.impl.drda.DRDAConnThread-org.apache.derby.impl.drda.DssTrace-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DDMWriter</h4>
<pre>DDMWriter(<a href="../../../../../org/apache/derby/impl/drda/DRDAConnThread.html" title="class in org.apache.derby.impl.drda">DRDAConnThread</a>&nbsp;agent,
          <a href="../../../../../org/apache/derby/impl/drda/DssTrace.html" title="class in org.apache.derby.impl.drda">DssTrace</a>&nbsp;dssTrace)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setUtf8Ccsid--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUtf8Ccsid</h4>
<pre>protected&nbsp;void&nbsp;setUtf8Ccsid()</pre>
</li>
</ul>
<a name="setEbcdicCcsid--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setEbcdicCcsid</h4>
<pre>protected&nbsp;void&nbsp;setEbcdicCcsid()</pre>
</li>
</ul>
<a name="getCurrentCcsidManager--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentCcsidManager</h4>
<pre>protected&nbsp;<a href="../../../../../org/apache/derby/impl/drda/CcsidManager.html" title="class in org.apache.derby.impl.drda">CcsidManager</a>&nbsp;getCurrentCcsidManager()</pre>
</li>
</ul>
<a name="reset-org.apache.derby.impl.drda.DssTrace-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reset</h4>
<pre>protected&nbsp;void&nbsp;reset(<a href="../../../../../org/apache/derby/impl/drda/DssTrace.html" title="class in org.apache.derby.impl.drda">DssTrace</a>&nbsp;dssTrace)</pre>
<div class="block">reset values for sending next message</div>
</li>
</ul>
<a name="getBufferPosition--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBufferPosition</h4>
<pre>protected&nbsp;int&nbsp;getBufferPosition()</pre>
<div class="block">Get the current position in the output buffer.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>current position</dd>
</dl>
</li>
</ul>
<a name="setBufferPosition-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setBufferPosition</h4>
<pre>protected&nbsp;void&nbsp;setBufferPosition(int&nbsp;position)</pre>
<div class="block">Change the current position in the output buffer.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>position</code> - new position</dd>
</dl>
</li>
</ul>
<a name="getBufferContents-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBufferContents</h4>
<pre>protected&nbsp;byte[]&nbsp;getBufferContents(int&nbsp;startPos)</pre>
<div class="block">Get a copy of a subsequence of the output buffer, starting at the
 specified position and ending at the current buffer position.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>startPos</code> - the position of the first byte to copy</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>all bytes from <code>startPos</code> up to the current position</dd>
</dl>
</li>
</ul>
<a name="setCMDProtocol--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCMDProtocol</h4>
<pre>protected&nbsp;void&nbsp;setCMDProtocol()</pre>
<div class="block">set protocol to CMD protocol</div>
</li>
</ul>
<a name="createDssReply--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createDssReply</h4>
<pre>protected&nbsp;void&nbsp;createDssReply()</pre>
<div class="block">Create DSS reply object</div>
</li>
</ul>
<a name="createDssRequest--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createDssRequest</h4>
<pre>protected&nbsp;void&nbsp;createDssRequest()</pre>
<div class="block">Create DSS request object
 NOTE: This is _ONLY_ used for testing the protocol
 (via the ProtocolTestAdapter.java file in this package)!
 We should never create a DSS request in normal
 DRDA processing (we should only create DSS replies
 and DSS objects).</div>
</li>
</ul>
<a name="createDssObject--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createDssObject</h4>
<pre>protected&nbsp;void&nbsp;createDssObject()</pre>
<div class="block">Create DSS data object</div>
</li>
</ul>
<a name="markDssAsContinued-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>markDssAsContinued</h4>
<pre>private&nbsp;void&nbsp;markDssAsContinued(boolean&nbsp;forLob)</pre>
<div class="block">Mark the DSS that we're currently writing as
 a continued DSS, which is done by setting
 the high-order bit to "1", per DDM spec.
 This means:

  1. One or more continuation DSSes will immediately
      follow the current (continued) DSS.
  2. All continuation DSSes will have a 2-byte
      continuation header, followed by data; in
      other words, chaining state, correlation
      id, dss format info, and code point will
      NOT be included.  All of that info is
      present ONLY in the FIRST DSS in the
      list of continued DSSes.

  NOTE: A DSS can be a "continuation" DSS _and_
  a "continued" DSS at the same time.  However,
  the FIRST DSS to be continued canNOT be
  a continuation DSS.</div>
</li>
</ul>
<a name="endDss-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>endDss</h4>
<pre>protected&nbsp;void&nbsp;endDss(byte&nbsp;chainByte)</pre>
<div class="block">End DSS header by writing the length in the length location
 and setting the chain bit.  Unlike the other two endDss
 methods, this one overrides the default chaining byte
 (which is set in beginDss) with the chaining byte that
 is passed in.  NOTE: This method is only used in
 association with createDssRequest, and thus is for
 TESTING purposes only (via ProtocolTestAdpater.java).  No calls
 should be made to this method in normal DRDA processing
 (because for normal processing, chaining must be
 determined automatically based on DSS requests).</div>
</li>
</ul>
<a name="overrideChainByte-int-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>overrideChainByte</h4>
<pre>private&nbsp;void&nbsp;overrideChainByte(int&nbsp;pos,
                               byte&nbsp;chainByte)</pre>
<div class="block">Override the default chaining byte with the chaining byte that is passed
 in.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pos</code> - the position on which the chaining byte is located</dd>
<dd><code>chainByte</code> - the chaining byte that overrides the default</dd>
</dl>
</li>
</ul>
<a name="endDss--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>endDss</h4>
<pre>protected&nbsp;void&nbsp;endDss()</pre>
<div class="block">End DSS header by writing the length in the length location
 and setting the chain bit.</div>
</li>
</ul>
<a name="endDss-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>endDss</h4>
<pre>private&nbsp;void&nbsp;endDss(boolean&nbsp;finalizeLength)</pre>
<div class="block">End DSS header by writing the length in the length location
 and setting the chain bit.</div>
</li>
</ul>
<a name="endDdmAndDss--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>endDdmAndDss</h4>
<pre>protected&nbsp;void&nbsp;endDdmAndDss()</pre>
<div class="block">End final DDM and DSS header by writing the length in the length location</div>
</li>
</ul>
<a name="copyDSSDataToEnd-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>copyDSSDataToEnd</h4>
<pre>protected&nbsp;byte[]&nbsp;copyDSSDataToEnd(int&nbsp;start)</pre>
<div class="block">Copy Data to End
 Create a buffer and copy from the position given to the end of data

 Note that the position given is treated as relative to the
 current DSS, for there may be other DSS blocks (chained, presumably)
 which are sitting unwritten in the buffer. The caller doesn't
 know this, though, and works only with the current DSS.

 getDSSLength, copyDSSDataToEnd, and truncateDSS work together to
 provide a sub-protocol for DRDAConnThread to use in its
 implementation of the LMTBLKPRC protocol. They enable the caller
 to determine when it has written too much data into the current
 DSS, to reclaim the extra data that won't fit, and to truncate
 that extra data once it has been reclaimed and stored elsewhere.
 Note that this support only works for the current DSS. Earlier,
 chained DSS blocks cannot be accessed using these methods. For
 additional background information, the interested reader should
 investigate bugs DERBY-491 and 492 at:
 http://issues.apache.org/jira/browse/DERBY-491 and
 http://issues.apache.org/jira/browse/DERBY-492</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>start</code> - </dd>
</dl>
</li>
</ul>
<a name="startDdm-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startDdm</h4>
<pre>protected&nbsp;void&nbsp;startDdm(int&nbsp;codePoint)</pre>
<div class="block">Mark the location of the length bytes for the collection so they
 can be updated later</div>
</li>
</ul>
<a name="clearDdm--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearDdm</h4>
<pre>protected&nbsp;void&nbsp;clearDdm()</pre>
<div class="block">Erase all writes for the current ddm and reset the
 top</div>
</li>
</ul>
<a name="clearBuffer--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearBuffer</h4>
<pre>protected&nbsp;void&nbsp;clearBuffer()</pre>
<div class="block">Clear the entire send buffer</div>
</li>
</ul>
<a name="endDdm--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>endDdm</h4>
<pre>protected&nbsp;void&nbsp;endDdm()</pre>
<div class="block">End the current DDM</div>
</li>
</ul>
<a name="getDSSLength--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDSSLength</h4>
<pre>protected&nbsp;int&nbsp;getDSSLength()</pre>
<div class="block">Get the length of the current DSS block we're working on. This is
 used by the LMTBLKPRC protocol, which does its own conversational
 blocking protocol above the layer of the DRDA blocking. The LMTBLKPRC
 implementation (in DRDAConnThread) needs to be able to truncate a
 DSS block when splitting a QRYDTA response.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>current DSS block length</dd>
</dl>
</li>
</ul>
<a name="truncateDSS-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>truncateDSS</h4>
<pre>protected&nbsp;void&nbsp;truncateDSS(int&nbsp;value)</pre>
<div class="block">Truncate the current DSS. Before making this call, you should ensure
 that you have copied the data to be truncated somewhere else, by
 calling copyDSSDataToEnd</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>value</code> - DSS length</dd>
</dl>
</li>
</ul>
<a name="writeByte-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeByte</h4>
<pre>protected&nbsp;void&nbsp;writeByte(int&nbsp;value)</pre>
<div class="block">Write byte</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>value</code> - byte to be written</dd>
</dl>
</li>
</ul>
<a name="writeNetworkShort-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeNetworkShort</h4>
<pre>protected&nbsp;void&nbsp;writeNetworkShort(int&nbsp;value)</pre>
<div class="block">Write network short</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>value</code> - value to be written</dd>
</dl>
</li>
</ul>
<a name="writeNetworkInt-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeNetworkInt</h4>
<pre>protected&nbsp;void&nbsp;writeNetworkInt(int&nbsp;value)</pre>
<div class="block">Write network int</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>value</code> - value to be written</dd>
</dl>
</li>
</ul>
<a name="writeBytes-byte:A-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeBytes</h4>
<pre>protected&nbsp;void&nbsp;writeBytes(byte[]&nbsp;buf,
                          int&nbsp;length)</pre>
<div class="block">Write byte array</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>buf</code> - byte array to be written</dd>
<dd><code>length</code> - - length to write</dd>
</dl>
</li>
</ul>
<a name="writeBytes-byte:A-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeBytes</h4>
<pre>protected&nbsp;void&nbsp;writeBytes(byte[]&nbsp;buf,
                          int&nbsp;start,
                          int&nbsp;length)</pre>
<div class="block">Write byte array</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>buf</code> - byte array to be written</dd>
<dd><code>start</code> - - starting position</dd>
<dd><code>length</code> - - length to write</dd>
</dl>
</li>
</ul>
<a name="writeBytes-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeBytes</h4>
<pre>protected&nbsp;void&nbsp;writeBytes(byte[]&nbsp;buf)</pre>
<div class="block">Write byte array</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>buf</code> - byte array to be written</dd>
</dl>
</li>
</ul>
<a name="writeLDBytes-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeLDBytes</h4>
<pre>protected&nbsp;void&nbsp;writeLDBytes(byte[]&nbsp;buf)</pre>
</li>
</ul>
<a name="writeLDBytes-byte:A-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeLDBytes</h4>
<pre>protected&nbsp;void&nbsp;writeLDBytes(byte[]&nbsp;buf,
                            int&nbsp;index)</pre>
</li>
</ul>
<a name="writeCodePoint4Bytes-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeCodePoint4Bytes</h4>
<pre>void&nbsp;writeCodePoint4Bytes(int&nbsp;codePoint,
                          int&nbsp;value)</pre>
<div class="block">Write code point and 4 bytes</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>codePoint</code> - - code point to write</dd>
<dd><code>value</code> - - value to write after code point</dd>
</dl>
</li>
</ul>
<a name="writeScalar1Byte-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeScalar1Byte</h4>
<pre>void&nbsp;writeScalar1Byte(int&nbsp;codePoint,
                      int&nbsp;value)</pre>
<div class="block">Write scalar 1 byte object includes length, codepoint and value</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>codePoint</code> - - code point to write</dd>
<dd><code>value</code> - - value to write after code point</dd>
</dl>
</li>
</ul>
<a name="writeScalar2Bytes-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeScalar2Bytes</h4>
<pre>protected&nbsp;void&nbsp;writeScalar2Bytes(int&nbsp;codePoint,
                                 int&nbsp;value)</pre>
<div class="block">Write scalar 2 byte object includes length, codepoint and value</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>codePoint</code> - - code point to write</dd>
<dd><code>value</code> - - value to write after code point</dd>
</dl>
</li>
</ul>
<a name="writeScalar2Bytes-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeScalar2Bytes</h4>
<pre>protected&nbsp;void&nbsp;writeScalar2Bytes(int&nbsp;value)</pre>
</li>
</ul>
<a name="writeScalarStream-boolean-int-org.apache.derby.impl.drda.EXTDTAInputStream-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeScalarStream</h4>
<pre>protected&nbsp;void&nbsp;writeScalarStream(boolean&nbsp;chainedWithSameCorrelator,
                                 int&nbsp;codePoint,
                                 <a href="../../../../../org/apache/derby/impl/drda/EXTDTAInputStream.html" title="class in org.apache.derby.impl.drda">EXTDTAInputStream</a>&nbsp;in,
                                 boolean&nbsp;writeNullByte)
                          throws <a href="../../../../../org/apache/derby/impl/drda/DRDAProtocolException.html" title="class in org.apache.derby.impl.drda">DRDAProtocolException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/derby/impl/drda/DRDAProtocolException.html" title="class in org.apache.derby.impl.drda">DRDAProtocolException</a></code></dd>
</dl>
</li>
</ul>
<a name="beginDss-boolean-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>beginDss</h4>
<pre>private&nbsp;void&nbsp;beginDss(boolean&nbsp;chainedToNextStructure,
                      int&nbsp;dssType)</pre>
<div class="block">Begins a DSS stream (for writing LOB data).</div>
</li>
</ul>
<a name="prepScalarStream-boolean-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prepScalarStream</h4>
<pre>private&nbsp;int&nbsp;prepScalarStream(boolean&nbsp;chainedWithSameCorrelator,
                             int&nbsp;codePoint,
                             boolean&nbsp;writeNullByte)
                      throws <a href="../../../../../org/apache/derby/impl/drda/DRDAProtocolException.html" title="class in org.apache.derby.impl.drda">DRDAProtocolException</a></pre>
<div class="block">prepScalarStream does the following prep for writing stream data:
 1.  Flushes an existing DSS segment, if necessary
 2.  Determines if extended length bytes are needed
 3.  Creates a new DSS/DDM header and a null byte indicator, if applicable

 If value of length was less than 0, this method processes streaming as Layer B Streaming.
 cf. page 315 of specification of DRDA, Version 3, Volume 3</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/derby/impl/drda/DRDAProtocolException.html" title="class in org.apache.derby.impl.drda">DRDAProtocolException</a></code></dd>
</dl>
</li>
</ul>
<a name="doesRequestContainData--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doesRequestContainData</h4>
<pre>protected&nbsp;boolean&nbsp;doesRequestContainData()</pre>
</li>
</ul>
<a name="flushScalarStreamSegment-boolean-java.io.OutputStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flushScalarStreamSegment</h4>
<pre>private&nbsp;void&nbsp;flushScalarStreamSegment(boolean&nbsp;lastSegment,
                                      java.io.OutputStream&nbsp;out)
                               throws <a href="../../../../../org/apache/derby/impl/drda/DRDAProtocolException.html" title="class in org.apache.derby.impl.drda">DRDAProtocolException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/derby/impl/drda/DRDAProtocolException.html" title="class in org.apache.derby.impl.drda">DRDAProtocolException</a></code></dd>
</dl>
</li>
</ul>
<a name="writeLengthCodePoint-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeLengthCodePoint</h4>
<pre>void&nbsp;writeLengthCodePoint(int&nbsp;length,
                          int&nbsp;codePoint)</pre>
</li>
</ul>
<a name="writeScalarHeader-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeScalarHeader</h4>
<pre>protected&nbsp;void&nbsp;writeScalarHeader(int&nbsp;codePoint,
                                 int&nbsp;dataLength)</pre>
<div class="block">Write scalar object header includes length and codepoint</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>codePoint</code> - - code point to write</dd>
<dd><code>dataLength</code> - - length of object data</dd>
</dl>
</li>
</ul>
<a name="writeScalarString-int-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeScalarString</h4>
<pre>void&nbsp;writeScalarString(int&nbsp;codePoint,
                       java.lang.String&nbsp;string)</pre>
<div class="block">Write scalar string object includes length, codepoint and value
 the string is converted into the appropriate codeset (EBCDIC)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>codePoint</code> - - code point to write</dd>
<dd><code>string</code> - - string to be written</dd>
</dl>
</li>
</ul>
<a name="writeScalarPaddedString-int-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeScalarPaddedString</h4>
<pre>void&nbsp;writeScalarPaddedString(int&nbsp;codePoint,
                             java.lang.String&nbsp;string,
                             int&nbsp;paddedLength)</pre>
<div class="block">Write padded scalar string object includes length, codepoint and value
 the string is converted into the appropriate codeset (EBCDIC)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>codePoint</code> - - code point to write</dd>
<dd><code>string</code> - - string to be written</dd>
<dd><code>paddedLength</code> - - length to pad string to</dd>
</dl>
</li>
</ul>
<a name="writeScalarPaddedString-org.apache.derby.impl.drda.DRDAString-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeScalarPaddedString</h4>
<pre>protected&nbsp;void&nbsp;writeScalarPaddedString(<a href="../../../../../org/apache/derby/impl/drda/DRDAString.html" title="class in org.apache.derby.impl.drda">DRDAString</a>&nbsp;drdaString,
                                       int&nbsp;paddedLength)</pre>
<div class="block">Write padded scalar <code>DRDAString</code> object value. The
 string is converted into the appropriate codeset.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>drdaString</code> - string to be written</dd>
<dd><code>paddedLength</code> - length to pad string to</dd>
</dl>
</li>
</ul>
<a name="writeScalarPaddedBytes-int-byte:A-int-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeScalarPaddedBytes</h4>
<pre>protected&nbsp;void&nbsp;writeScalarPaddedBytes(int&nbsp;codePoint,
                                      byte[]&nbsp;buf,
                                      int&nbsp;paddedLength,
                                      byte&nbsp;padByte)</pre>
<div class="block">Write padded scalar byte array object includes length, codepoint and value</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>codePoint</code> - - code point to write</dd>
<dd><code>buf</code> - - byte array to be written</dd>
<dd><code>paddedLength</code> - - length to pad string to</dd>
<dd><code>padByte</code> - - byte to be used for padding</dd>
</dl>
</li>
</ul>
<a name="writeScalarPaddedBytes-byte:A-int-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeScalarPaddedBytes</h4>
<pre>protected&nbsp;void&nbsp;writeScalarPaddedBytes(byte[]&nbsp;buf,
                                      int&nbsp;paddedLength,
                                      byte&nbsp;padByte)</pre>
<div class="block">Write padded scalar byte array object  value</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>buf</code> - - byte array to be written</dd>
<dd><code>paddedLength</code> - - length to pad string to</dd>
<dd><code>padByte</code> - - byte to be used for padding</dd>
</dl>
</li>
</ul>
<a name="writeScalarBytes-int-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeScalarBytes</h4>
<pre>protected&nbsp;void&nbsp;writeScalarBytes(int&nbsp;codePoint,
                                byte[]&nbsp;buf)</pre>
<div class="block">Write scalar byte array object includes length, codepoint and value</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>codePoint</code> - - code point to write</dd>
<dd><code>buf</code> - - byte array to be written</dd>
</dl>
</li>
</ul>
<a name="writeShort-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeShort</h4>
<pre>protected&nbsp;void&nbsp;writeShort(int&nbsp;v)</pre>
<div class="block">Write platform short</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>v</code> - value to be written</dd>
</dl>
</li>
</ul>
<a name="writeShort-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeShort</h4>
<pre>protected&nbsp;void&nbsp;writeShort(boolean&nbsp;b)</pre>
<div class="block">Write boolean as short</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>b</code> - boolean value true = 1 false = 0</dd>
</dl>
</li>
</ul>
<a name="writeInt-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeInt</h4>
<pre>protected&nbsp;void&nbsp;writeInt(int&nbsp;v)</pre>
<div class="block">Write platform int</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>v</code> - value to be written</dd>
</dl>
</li>
</ul>
<a name="writeLong-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeLong</h4>
<pre>protected&nbsp;void&nbsp;writeLong(long&nbsp;v)</pre>
<div class="block">Write platform long</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>v</code> - value to be written</dd>
</dl>
</li>
</ul>
<a name="writeFloat-float-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeFloat</h4>
<pre>protected&nbsp;void&nbsp;writeFloat(float&nbsp;v)</pre>
<div class="block">Write platform float</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>v</code> - value to be written</dd>
</dl>
</li>
</ul>
<a name="writeDouble-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeDouble</h4>
<pre>protected&nbsp;void&nbsp;writeDouble(double&nbsp;v)</pre>
<div class="block">Write platform double</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>v</code> - value to be written</dd>
</dl>
</li>
</ul>
<a name="writeBoolean-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeBoolean</h4>
<pre>protected&nbsp;void&nbsp;writeBoolean(boolean&nbsp;v)</pre>
<div class="block">Write platform boolean</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>v</code> - value to be written</dd>
</dl>
</li>
</ul>
<a name="writeLDString-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeLDString</h4>
<pre>protected&nbsp;void&nbsp;writeLDString(java.lang.String&nbsp;s)
                      throws <a href="../../../../../org/apache/derby/impl/drda/DRDAProtocolException.html" title="class in org.apache.derby.impl.drda">DRDAProtocolException</a></pre>
<div class="block">Write length delimited string</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>s</code> - value to be written with integer</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/derby/impl/drda/DRDAProtocolException.html" title="class in org.apache.derby.impl.drda">DRDAProtocolException</a></code></dd>
</dl>
</li>
</ul>
<a name="writeUDT-java.lang.Object-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeUDT</h4>
<pre>protected&nbsp;void&nbsp;writeUDT(java.lang.Object&nbsp;val,
                        int&nbsp;index)
                 throws <a href="../../../../../org/apache/derby/impl/drda/DRDAProtocolException.html" title="class in org.apache.derby.impl.drda">DRDAProtocolException</a></pre>
<div class="block">Write a value of a user defined type.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>val</code> - object to be written</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/derby/impl/drda/DRDAProtocolException.html" title="class in org.apache.derby.impl.drda">DRDAProtocolException</a></code></dd>
</dl>
</li>
</ul>
<a name="maxEncodedLength-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maxEncodedLength</h4>
<pre>private&nbsp;int&nbsp;maxEncodedLength(java.lang.String&nbsp;s)</pre>
<div class="block">Find the maximum number of bytes needed to represent the string in the
 default encoding.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>s</code> - the string to encode</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an upper limit for the number of bytes needed to encode the
 string</dd>
</dl>
</li>
</ul>
<a name="writeLDString-java.lang.String-int-org.apache.derby.impl.drda.DRDAStatement-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeLDString</h4>
<pre>protected&nbsp;void&nbsp;writeLDString(java.lang.String&nbsp;s,
                             int&nbsp;index,
                             <a href="../../../../../org/apache/derby/impl/drda/DRDAStatement.html" title="class in org.apache.derby.impl.drda">DRDAStatement</a>&nbsp;stmt,
                             boolean&nbsp;isParameter)
                      throws <a href="../../../../../org/apache/derby/impl/drda/DRDAProtocolException.html" title="class in org.apache.derby.impl.drda">DRDAProtocolException</a></pre>
<div class="block">Write length delimited string</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>s</code> - value to be written with integer</dd>
<dd><code>index</code> - column index to put in warning</dd>
<dd><code>stmt</code> - the executing statement (null if not invoked as
                       part of statement execution)</dd>
<dd><code>isParameter</code> - true if the value written is for an output
                       parameter in a procedure call</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/derby/impl/drda/DRDAProtocolException.html" title="class in org.apache.derby.impl.drda">DRDAProtocolException</a></code></dd>
</dl>
</li>
</ul>
<a name="isContinuationByte-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isContinuationByte</h4>
<pre>private static&nbsp;boolean&nbsp;isContinuationByte(byte&nbsp;b)</pre>
<div class="block">Check if a byte value represents a continuation byte in a UTF-8 byte
 sequence. Continuation bytes in UTF-8 always match the bit pattern
 <code>10xxxxxx</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>b</code> - the byte to check</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if <code>b</code> is a continuation byte, or
 <code>false</code> if it is the first byte in a UTF-8 sequence</dd>
</dl>
</li>
</ul>
<a name="writeString-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeString</h4>
<pre>protected&nbsp;void&nbsp;writeString(java.lang.String&nbsp;s)
                    throws <a href="../../../../../org/apache/derby/impl/drda/DRDAProtocolException.html" title="class in org.apache.derby.impl.drda">DRDAProtocolException</a></pre>
<div class="block">Write string with default encoding</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>s</code> - value to be written</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/derby/impl/drda/DRDAProtocolException.html" title="class in org.apache.derby.impl.drda">DRDAProtocolException</a></code></dd>
</dl>
</li>
</ul>
<a name="padBytes-byte-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>padBytes</h4>
<pre>protected&nbsp;void&nbsp;padBytes(byte&nbsp;val,
                        int&nbsp;length)</pre>
<div class="block">Write pad bytes using spaceChar</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>val</code> - value to be written</dd>
<dd><code>length</code> - length to be written</dd>
</dl>
</li>
</ul>
<a name="flush--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flush</h4>
<pre>protected&nbsp;void&nbsp;flush()
              throws java.io.IOException</pre>
<div class="block">Flush buffer to outputstream</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="flush-java.io.OutputStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flush</h4>
<pre>protected&nbsp;void&nbsp;flush(java.io.OutputStream&nbsp;socketOutputStream)
              throws java.io.IOException</pre>
<div class="block">Flush buffer to specified stream</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>socketOutputStream</code> - </dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="beginDss-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>beginDss</h4>
<pre>private&nbsp;void&nbsp;beginDss(int&nbsp;dssType,
                      boolean&nbsp;ensureLen)</pre>
<div class="block">Write DSS header
 DSS Header format is
  2 bytes - length
  1 byte  - 'D0'  - indicates DDM data
  1 byte  - DSS format
      |---|---------|----------|
      | 0 |   flags | type     |
      |---|---------|----------|
      | 0 | 1 2   3 | 4 5 6 7  |
      |---|---------|----------|
      bit 0 - '0'
      bit 1 - '0' - unchained, '1' - chained
      bit 2 - '0' - do not continue on error, '1' - continue on error
      bit 3 - '0' - next DSS has different correlator, '1' - next DSS has
                      same correlator
      type - 1 - Request DSS
           - 2 - Reply DSS
           - 3 - Object DSS
           - 4 - Communications DSS
           - 5 - Request DSS where no reply is expected</div>
</li>
</ul>
<a name="finalizeDssLength--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finalizeDssLength</h4>
<pre>private&nbsp;void&nbsp;finalizeDssLength()</pre>
<div class="block">Finish a DSS Layer A object.
 The length of dss object will be calculated based on the difference between the
 start of the dss, saved on the beginDss call, and the current
 offset into the buffer which marks the end of the data.  In the event
 the length requires the use of continuation Dss headers, one for each 32k
 chunk of data, the data will be shifted and the continuation headers
 will be inserted with the correct values as needed.</div>
</li>
</ul>
<a name="writeExtendedLength-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeExtendedLength</h4>
<pre>protected&nbsp;void&nbsp;writeExtendedLength(long&nbsp;size)</pre>
</li>
</ul>
<a name="calculateExtendedLengthByteCount-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calculateExtendedLengthByteCount</h4>
<pre>private&nbsp;int&nbsp;calculateExtendedLengthByteCount(long&nbsp;ddmSize)</pre>
<div class="block">Calculate extended length byte count which follows the DSS header
 for extended DDM.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ddmSize</code> - - size of DDM command</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>minimum number of extended length bytes needed. 0 indicates no
  extended length needed.</dd>
</dl>
</li>
</ul>
<a name="ensureLength-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ensureLength</h4>
<pre>private&nbsp;void&nbsp;ensureLength(int&nbsp;length)</pre>
<div class="block">Ensure that there is space in the buffer</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>length</code> - space required</dd>
</dl>
</li>
</ul>
<a name="writeBigDecimal-java.math.BigDecimal-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeBigDecimal</h4>
<pre>void&nbsp;writeBigDecimal(java.math.BigDecimal&nbsp;b,
                     int&nbsp;precision,
                     int&nbsp;scale)
              throws java.sql.SQLException</pre>
<div class="block">Write a Java <code>java.math.BigDecimal</code> to packed decimal bytes.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>b</code> - BigDecimal to write</dd>
<dd><code>precision</code> - Precision of decimal or numeric type</dd>
<dd><code>scale</code> - declared scale</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - Thrown if # digits &gt; 31</dd>
</dl>
</li>
</ul>
<a name="sendBytes-java.io.OutputStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendBytes</h4>
<pre>private&nbsp;void&nbsp;sendBytes(java.io.OutputStream&nbsp;socketOutputStream)
                throws java.io.IOException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="sendBytes-java.io.OutputStream-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendBytes</h4>
<pre>private&nbsp;void&nbsp;sendBytes(java.io.OutputStream&nbsp;socketOutputStream,
                       boolean&nbsp;flashStream)
                throws java.io.IOException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="resetChainState--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resetChainState</h4>
<pre>protected&nbsp;void&nbsp;resetChainState()</pre>
<div class="block">Reset any chaining state that needs to be reset
 at time of the send</div>
</li>
</ul>
<a name="getCorrelationID--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCorrelationID</h4>
<pre>private&nbsp;int&nbsp;getCorrelationID()</pre>
<div class="block">Looks at chaining info for previous DSS written, and use
 that to figure out what the correlation id for the current
 DSS should be.  Return that correlation id.</div>
</li>
</ul>
<a name="finalizeChain-byte-java.io.OutputStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finalizeChain</h4>
<pre>protected&nbsp;void&nbsp;finalizeChain(byte&nbsp;currChainByte,
                             java.io.OutputStream&nbsp;socketOutputStream)
                      throws <a href="../../../../../org/apache/derby/impl/drda/DRDAProtocolException.html" title="class in org.apache.derby.impl.drda">DRDAProtocolException</a></pre>
<div class="block">Finalize the current DSS chain and send it if
 needed.

 Updates the chaining state of the most recently-written-
 to-buffer DSS to correspond to the most recently-read-
 from-client request.  If that chaining state indicates
 we've reached the end of a chain, then we go ahead
 and send the buffer across the wire.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>socketOutputStream</code> - Output stream to which we're flushing.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/derby/impl/drda/DRDAProtocolException.html" title="class in org.apache.derby.impl.drda">DRDAProtocolException</a></code></dd>
</dl>
</li>
</ul>
<a name="markDSSClearPoint--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>markDSSClearPoint</h4>
<pre>protected&nbsp;int&nbsp;markDSSClearPoint()</pre>
<div class="block">Takes note of the location of the most recently completed
 DSS in the buffer, and then returns the current offset.
 This method is used in conjunction with "clearDSSesBackToMark"
 to allow for DRDAConnThread to "back-out" DSSes in the
 event of errors.</div>
</li>
</ul>
<a name="clearDSSesBackToMark-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearDSSesBackToMark</h4>
<pre>protected&nbsp;void&nbsp;clearDSSesBackToMark(int&nbsp;mark)</pre>
<div class="block">Does a logical "clear" of everything written to the buffer after
 the received mark.  It's assumed that this method will be used
 in error cases when we've started writing one or more DSSes,
 but then hit an error and need to back out.  After backing out,
 we'll always need to write _something_ back to the client to
 indicate an error (typically, we just write an SQLCARD) but what
 exactly gets written is handled in DRDAConnThread.  Here, we
 just do the necessary prep so that whatever comes next will
 succeed.</div>
</li>
</ul>
<a name="peekStream-java.io.InputStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>peekStream</h4>
<pre>private static&nbsp;int&nbsp;peekStream(java.io.InputStream&nbsp;in)
                       throws java.io.IOException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="getLayerBStreamingBufferSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLayerBStreamingBufferSize</h4>
<pre>private static&nbsp;int&nbsp;getLayerBStreamingBufferSize()</pre>
</li>
</ul>
<a name="placeLayerBStreamingBuffer-java.io.OutputStream-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>placeLayerBStreamingBuffer</h4>
<pre>private static&nbsp;java.io.OutputStream&nbsp;placeLayerBStreamingBuffer(java.io.OutputStream&nbsp;original)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Built on Mon 2017-07-03 23:03:59+0530, from revision Unversioned directory</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/derby/impl/drda/DDMReader.html" title="class in org.apache.derby.impl.drda"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/apache/derby/impl/drda/DecryptionManager.html" title="class in org.apache.derby.impl.drda"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/derby/impl/drda/DDMWriter.html" target="_top">Frames</a></li>
<li><a href="DDMWriter.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Apache Derby V10.13 Internals - <i>Copyright &copy; 2004,2016 The Apache Software Foundation. All Rights Reserved.</i></small></p>
</body>
</html>
