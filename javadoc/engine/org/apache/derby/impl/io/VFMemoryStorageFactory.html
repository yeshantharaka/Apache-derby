<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_66) on Mon Jul 03 23:05:02 IST 2017 -->
<title>VFMemoryStorageFactory (Apache Derby V10.13 Internals)</title>
<meta name="date" content="2017-07-03">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="VFMemoryStorageFactory (Apache Derby V10.13 Internals)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/derby/impl/io/URLStorageFactory.html" title="class in org.apache.derby.impl.io"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/derby/impl/io/VFMemoryStorageFactory.html" target="_top">Frames</a></li>
<li><a href="VFMemoryStorageFactory.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.derby.impl.io</div>
<h2 title="Class VFMemoryStorageFactory" class="title">Class VFMemoryStorageFactory</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.derby.impl.io.VFMemoryStorageFactory</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../org/apache/derby/io/StorageFactory.html" title="interface in org.apache.derby.io">StorageFactory</a>, <a href="../../../../../org/apache/derby/io/WritableStorageFactory.html" title="interface in org.apache.derby.io">WritableStorageFactory</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">VFMemoryStorageFactory</span>
extends java.lang.Object
implements <a href="../../../../../org/apache/derby/io/StorageFactory.html" title="interface in org.apache.derby.io">StorageFactory</a>, <a href="../../../../../org/apache/derby/io/WritableStorageFactory.html" title="interface in org.apache.derby.io">WritableStorageFactory</a></pre>
<div class="block">A storage factory for virtual files, where the contents of the files are
 stored in main memory.
 <p>
 Note that data store deletion may happen inside one of two different methods;
 either in <code>shutdown</code> or in <code>init</code>. This is due to the current
 implementation and the fact that dropping a database is done through the
 file IO interface by deleting the service root. As the deletion then becomes
 a two step process, someone else may boot the database again before the
 reference to the store has been removed. To avoid this, the
 <code>init</code>-method will never initialize with a store scheduled for
 deletion. I have only seen this issue in heavily loaded multithreaded
 environments (2 CPUs/cores should be enough to reproduce).</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/io/VFMemoryStorageFactory.html#canonicalName">canonicalName</a></span></code>
<div class="block">The canonical (unique) name of the database (absolute path).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.util.Map&lt;java.lang.String,<a href="../../../../../org/apache/derby/impl/io/vfmem/DataStore.html" title="class in org.apache.derby.impl.io.vfmem">DataStore</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/io/VFMemoryStorageFactory.html#DATABASES">DATABASES</a></span></code>
<div class="block">References to the databases created / existing.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../org/apache/derby/io/StorageFile.html" title="interface in org.apache.derby.io">StorageFile</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/io/VFMemoryStorageFactory.html#dataDirectory">dataDirectory</a></span></code>
<div class="block">The data directory of the database.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../org/apache/derby/impl/io/vfmem/DataStore.html" title="class in org.apache.derby.impl.io.vfmem">DataStore</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/io/VFMemoryStorageFactory.html#dbData">dbData</a></span></code>
<div class="block">The data store used for the database.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static <a href="../../../../../org/apache/derby/impl/io/vfmem/DataStore.html" title="class in org.apache.derby.impl.io.vfmem">DataStore</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/io/VFMemoryStorageFactory.html#DUMMY_STORE">DUMMY_STORE</a></span></code>
<div class="block">Dummy store used to carry out frequent operations that don't
 require a "proper store", for instance getting the canonical name
 of the data store.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../org/apache/derby/io/StorageFile.html" title="interface in org.apache.derby.io">StorageFile</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/io/VFMemoryStorageFactory.html#tempDir">tempDir</a></span></code>
<div class="block">The temporary directory for the database (absolute path).</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.apache.derby.io.StorageFactory">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;org.apache.derby.io.<a href="../../../../../org/apache/derby/io/StorageFactory.html" title="interface in org.apache.derby.io">StorageFactory</a></h3>
<code><a href="../../../../../org/apache/derby/io/StorageFactory.html#VERSION_NUMBER">VERSION_NUMBER</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/io/VFMemoryStorageFactory.html#VFMemoryStorageFactory--">VFMemoryStorageFactory</a></span>()</code>
<div class="block">Creates a new, uninitialized instance of the storage factory.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/derby/io/StorageFile.html" title="interface in org.apache.derby.io">StorageFile</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/io/VFMemoryStorageFactory.html#createTemporaryFile-java.lang.String-java.lang.String-">createTemporaryFile</a></span>(java.lang.String&nbsp;prefix,
                   java.lang.String&nbsp;suffix)</code>
<div class="block">Creates a handle to a temporary file.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/io/VFMemoryStorageFactory.html#dbDropCleanupInDummy-java.lang.String-">dbDropCleanupInDummy</a></span>(java.lang.String&nbsp;dbPath)</code>
<div class="block">Cleans up the internal dummy data store after a database has been
 dropped.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/io/VFMemoryStorageFactory.html#getCanonicalName--">getCanonicalName</a></span>()</code>
<div class="block">Get the canonical name of the database.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>char</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/io/VFMemoryStorageFactory.html#getSeparator--">getSeparator</a></span>()</code>
<div class="block">Returns the path separator used by this storage factory.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/io/VFMemoryStorageFactory.html#getStorageFactoryVersion--">getStorageFactoryVersion</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/derby/io/StorageFile.html" title="interface in org.apache.derby.io">StorageFile</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/io/VFMemoryStorageFactory.html#getTempDir--">getTempDir</a></span>()</code>
<div class="block">Returns the temporary directory for this storage factory instance.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/io/VFMemoryStorageFactory.html#init-java.lang.String-java.lang.String-java.lang.String-java.lang.String-">init</a></span>(java.lang.String&nbsp;home,
    java.lang.String&nbsp;databaseName,
    java.lang.String&nbsp;tempDirNameIgnored,
    java.lang.String&nbsp;uniqueName)</code>
<div class="block">Initializes the storage factory instance by setting up a temporary
 directory, the database directory and checking if the database being
 named already exists.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/io/VFMemoryStorageFactory.html#isFast--">isFast</a></span>()</code>
<div class="block">The service is fast and supports random access.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/io/VFMemoryStorageFactory.html#isReadOnlyDatabase--">isReadOnlyDatabase</a></span>()</code>
<div class="block">The service supports writes.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/derby/io/StorageFile.html" title="interface in org.apache.derby.io">StorageFile</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/io/VFMemoryStorageFactory.html#newStorageFile-org.apache.derby.io.StorageFile-java.lang.String-">newStorageFile</a></span>(<a href="../../../../../org/apache/derby/io/StorageFile.html" title="interface in org.apache.derby.io">StorageFile</a>&nbsp;directoryName,
              java.lang.String&nbsp;fileName)</code>
<div class="block">Returns a handle to the specified storage file.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/derby/io/StorageFile.html" title="interface in org.apache.derby.io">StorageFile</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/io/VFMemoryStorageFactory.html#newStorageFile-java.lang.String-">newStorageFile</a></span>(java.lang.String&nbsp;path)</code>
<div class="block">Returns a handle to the specific storage file.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/derby/io/StorageFile.html" title="interface in org.apache.derby.io">StorageFile</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/io/VFMemoryStorageFactory.html#newStorageFile-java.lang.String-java.lang.String-">newStorageFile</a></span>(java.lang.String&nbsp;directoryName,
              java.lang.String&nbsp;fileName)</code>
<div class="block">Returns a handle to the specified storage file.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/io/VFMemoryStorageFactory.html#normalizePath-java.lang.String-">normalizePath</a></span>(java.lang.String&nbsp;path)</code>
<div class="block">Returns a normalized absolute path.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/io/VFMemoryStorageFactory.html#normalizePath-java.lang.String-java.lang.String-">normalizePath</a></span>(java.lang.String&nbsp;dir,
             java.lang.String&nbsp;file)</code>
<div class="block">Returns a normalized absolute path.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/io/VFMemoryStorageFactory.html#setCanonicalName-java.lang.String-">setCanonicalName</a></span>(java.lang.String&nbsp;name)</code>
<div class="block">Set the canonicalName.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/io/VFMemoryStorageFactory.html#shutdown--">shutdown</a></span>()</code>
<div class="block">Normally does nothing, but if the database is in a state such that it
 should be deleted this will happen here.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/io/VFMemoryStorageFactory.html#supportsRandomAccess--">supportsRandomAccess</a></span>()</code>
<div class="block">The service supports random access.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/io/VFMemoryStorageFactory.html#supportsWriteSync--">supportsWriteSync</a></span>()</code>
<div class="block">This method tests whether the StorageRandomAccessFile "rws" and "rwd" modes
 are implemented.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/derby/impl/io/VFMemoryStorageFactory.html#sync-java.io.OutputStream-boolean-">sync</a></span>(java.io.OutputStream&nbsp;stream,
    boolean&nbsp;metaData)</code>
<div class="block">The sync method is a no-op for this storage factory.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="DATABASES">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DATABASES</h4>
<pre>private static final&nbsp;java.util.Map&lt;java.lang.String,<a href="../../../../../org/apache/derby/impl/io/vfmem/DataStore.html" title="class in org.apache.derby.impl.io.vfmem">DataStore</a>&gt; DATABASES</pre>
<div class="block">References to the databases created / existing.</div>
</li>
</ul>
<a name="DUMMY_STORE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DUMMY_STORE</h4>
<pre>private static final&nbsp;<a href="../../../../../org/apache/derby/impl/io/vfmem/DataStore.html" title="class in org.apache.derby.impl.io.vfmem">DataStore</a> DUMMY_STORE</pre>
<div class="block">Dummy store used to carry out frequent operations that don't
 require a "proper store", for instance getting the canonical name
 of the data store.</div>
</li>
</ul>
<a name="canonicalName">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>canonicalName</h4>
<pre>private&nbsp;java.lang.String canonicalName</pre>
<div class="block">The canonical (unique) name of the database (absolute path).</div>
</li>
</ul>
<a name="dataDirectory">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dataDirectory</h4>
<pre>private&nbsp;<a href="../../../../../org/apache/derby/io/StorageFile.html" title="interface in org.apache.derby.io">StorageFile</a> dataDirectory</pre>
<div class="block">The data directory of the database.</div>
</li>
</ul>
<a name="tempDir">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tempDir</h4>
<pre>private&nbsp;<a href="../../../../../org/apache/derby/io/StorageFile.html" title="interface in org.apache.derby.io">StorageFile</a> tempDir</pre>
<div class="block">The temporary directory for the database (absolute path).</div>
</li>
</ul>
<a name="dbData">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>dbData</h4>
<pre>private&nbsp;<a href="../../../../../org/apache/derby/impl/io/vfmem/DataStore.html" title="class in org.apache.derby.impl.io.vfmem">DataStore</a> dbData</pre>
<div class="block">The data store used for the database.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="VFMemoryStorageFactory--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>VFMemoryStorageFactory</h4>
<pre>public&nbsp;VFMemoryStorageFactory()</pre>
<div class="block">Creates a new, uninitialized instance of the storage factory.
 <p>
 To initialize the instance, <code>init</code> must be called.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../org/apache/derby/impl/io/VFMemoryStorageFactory.html#init-java.lang.String-java.lang.String-java.lang.String-java.lang.String-"><code>init(java.lang.String, java.lang.String, java.lang.String, java.lang.String)</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="init-java.lang.String-java.lang.String-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>public&nbsp;void&nbsp;init(java.lang.String&nbsp;home,
                 java.lang.String&nbsp;databaseName,
                 java.lang.String&nbsp;tempDirNameIgnored,
                 java.lang.String&nbsp;uniqueName)
          throws java.io.IOException</pre>
<div class="block">Initializes the storage factory instance by setting up a temporary
 directory, the database directory and checking if the database being
 named already exists.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/derby/io/StorageFactory.html#init-java.lang.String-java.lang.String-java.lang.String-java.lang.String-">init</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/derby/io/StorageFactory.html" title="interface in org.apache.derby.io">StorageFactory</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>home</code> - the value of <code>system.home</code> for this storage factory</dd>
<dd><code>databaseName</code> - the name of the database, all relative pathnames are
      relative to this name</dd>
<dd><code>tempDirNameIgnored</code> - ignored</dd>
<dd><code>uniqueName</code> - used to determine when the temporary directory can be
      created, but not to name the temporary directory itself</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - on an error (unexpected).</dd>
</dl>
</li>
</ul>
<a name="shutdown--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdown</h4>
<pre>public&nbsp;void&nbsp;shutdown()</pre>
<div class="block">Normally does nothing, but if the database is in a state such that it
 should be deleted this will happen here.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/derby/io/StorageFactory.html#shutdown--">shutdown</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/derby/io/StorageFactory.html" title="interface in org.apache.derby.io">StorageFactory</a></code></dd>
</dl>
</li>
</ul>
<a name="getCanonicalName--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCanonicalName</h4>
<pre>public&nbsp;java.lang.String&nbsp;getCanonicalName()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/apache/derby/io/StorageFactory.html#getCanonicalName--">StorageFactory</a></code></span></div>
<div class="block">Get the canonical name of the database. This is a name that uniquely identifies it. It is system dependent.

 The normal, disk based implementation uses method java.io.File.getCanonicalPath on the directory holding the
 database to construct the canonical name.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/derby/io/StorageFactory.html#getCanonicalName--">getCanonicalName</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/derby/io/StorageFactory.html" title="interface in org.apache.derby.io">StorageFactory</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the canonical name</dd>
</dl>
</li>
</ul>
<a name="setCanonicalName-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCanonicalName</h4>
<pre>public&nbsp;void&nbsp;setCanonicalName(java.lang.String&nbsp;name)</pre>
<div class="block">Set the canonicalName. May need adjustment due to DERBY-5096</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/derby/io/StorageFactory.html#setCanonicalName-java.lang.String-">setCanonicalName</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/derby/io/StorageFactory.html" title="interface in org.apache.derby.io">StorageFactory</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - uniquely identifiable name for this database</dd>
</dl>
</li>
</ul>
<a name="newStorageFile-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newStorageFile</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/derby/io/StorageFile.html" title="interface in org.apache.derby.io">StorageFile</a>&nbsp;newStorageFile(java.lang.String&nbsp;path)</pre>
<div class="block">Returns a handle to the specific storage file.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/derby/io/StorageFactory.html#newStorageFile-java.lang.String-">newStorageFile</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/derby/io/StorageFactory.html" title="interface in org.apache.derby.io">StorageFactory</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>path</code> - the path of the file or directory</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A path handle.</dd>
</dl>
</li>
</ul>
<a name="newStorageFile-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newStorageFile</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/derby/io/StorageFile.html" title="interface in org.apache.derby.io">StorageFile</a>&nbsp;newStorageFile(java.lang.String&nbsp;directoryName,
                                  java.lang.String&nbsp;fileName)</pre>
<div class="block">Returns a handle to the specified storage file.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/derby/io/StorageFactory.html#newStorageFile-java.lang.String-java.lang.String-">newStorageFile</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/derby/io/StorageFactory.html" title="interface in org.apache.derby.io">StorageFactory</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>directoryName</code> - the name of the parent directory</dd>
<dd><code>fileName</code> - the name of the file</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A path handle.</dd>
</dl>
</li>
</ul>
<a name="newStorageFile-org.apache.derby.io.StorageFile-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newStorageFile</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/derby/io/StorageFile.html" title="interface in org.apache.derby.io">StorageFile</a>&nbsp;newStorageFile(<a href="../../../../../org/apache/derby/io/StorageFile.html" title="interface in org.apache.derby.io">StorageFile</a>&nbsp;directoryName,
                                  java.lang.String&nbsp;fileName)</pre>
<div class="block">Returns a handle to the specified storage file.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/derby/io/StorageFactory.html#newStorageFile-org.apache.derby.io.StorageFile-java.lang.String-">newStorageFile</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/derby/io/StorageFactory.html" title="interface in org.apache.derby.io">StorageFactory</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>directoryName</code> - the name of the parent directory</dd>
<dd><code>fileName</code> - the name of the file</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A path handle.</dd>
</dl>
</li>
</ul>
<a name="getTempDir--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTempDir</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/derby/io/StorageFile.html" title="interface in org.apache.derby.io">StorageFile</a>&nbsp;getTempDir()</pre>
<div class="block">Returns the temporary directory for this storage factory instance.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/derby/io/StorageFactory.html#getTempDir--">getTempDir</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/derby/io/StorageFactory.html" title="interface in org.apache.derby.io">StorageFactory</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A <code>StorageFile</code>-object representing the temp directory.</dd>
</dl>
</li>
</ul>
<a name="isFast--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isFast</h4>
<pre>public&nbsp;boolean&nbsp;isFast()</pre>
<div class="block">The service is fast and supports random access.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/derby/io/StorageFactory.html#isFast--">isFast</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/derby/io/StorageFactory.html" title="interface in org.apache.derby.io">StorageFactory</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code></dd>
</dl>
</li>
</ul>
<a name="isReadOnlyDatabase--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isReadOnlyDatabase</h4>
<pre>public&nbsp;boolean&nbsp;isReadOnlyDatabase()</pre>
<div class="block">The service supports writes.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/derby/io/StorageFactory.html#isReadOnlyDatabase--">isReadOnlyDatabase</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/derby/io/StorageFactory.html" title="interface in org.apache.derby.io">StorageFactory</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>false</code></dd>
</dl>
</li>
</ul>
<a name="supportsRandomAccess--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>supportsRandomAccess</h4>
<pre>public&nbsp;boolean&nbsp;supportsRandomAccess()</pre>
<div class="block">The service supports random access.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/derby/io/StorageFactory.html#supportsRandomAccess--">supportsRandomAccess</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/derby/io/StorageFactory.html" title="interface in org.apache.derby.io">StorageFactory</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code></dd>
</dl>
</li>
</ul>
<a name="getStorageFactoryVersion--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStorageFactoryVersion</h4>
<pre>public&nbsp;int&nbsp;getStorageFactoryVersion()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/derby/io/StorageFactory.html#getStorageFactoryVersion--">getStorageFactoryVersion</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/derby/io/StorageFactory.html" title="interface in org.apache.derby.io">StorageFactory</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the StorageFactory version supported by this implementation</dd>
</dl>
</li>
</ul>
<a name="createTemporaryFile-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createTemporaryFile</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/derby/io/StorageFile.html" title="interface in org.apache.derby.io">StorageFile</a>&nbsp;createTemporaryFile(java.lang.String&nbsp;prefix,
                                       java.lang.String&nbsp;suffix)</pre>
<div class="block">Creates a handle to a temporary file.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/derby/io/StorageFactory.html#createTemporaryFile-java.lang.String-java.lang.String-">createTemporaryFile</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/derby/io/StorageFactory.html" title="interface in org.apache.derby.io">StorageFactory</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>prefix</code> - requested prefix for the file name</dd>
<dd><code>suffix</code> - requested suffix for the file name, if <code>null</code> then
      <code>.tmp</code> will be used</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A handle to the temporary file.</dd>
</dl>
</li>
</ul>
<a name="getSeparator--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSeparator</h4>
<pre>public&nbsp;char&nbsp;getSeparator()</pre>
<div class="block">Returns the path separator used by this storage factory.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/derby/io/StorageFactory.html#getSeparator--">getSeparator</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/derby/io/StorageFactory.html" title="interface in org.apache.derby.io">StorageFactory</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>PathUtil.SEP</code></dd>
</dl>
</li>
</ul>
<a name="sync-java.io.OutputStream-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sync</h4>
<pre>public&nbsp;void&nbsp;sync(java.io.OutputStream&nbsp;stream,
                 boolean&nbsp;metaData)</pre>
<div class="block">The sync method is a no-op for this storage factory.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/derby/io/WritableStorageFactory.html#sync-java.io.OutputStream-boolean-">sync</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/derby/io/WritableStorageFactory.html" title="interface in org.apache.derby.io">WritableStorageFactory</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stream</code> - ignored</dd>
<dd><code>metaData</code> - ignored</dd>
</dl>
</li>
</ul>
<a name="supportsWriteSync--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>supportsWriteSync</h4>
<pre>public&nbsp;boolean&nbsp;supportsWriteSync()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/apache/derby/io/WritableStorageFactory.html#supportsWriteSync--">WritableStorageFactory</a></code></span></div>
<div class="block">This method tests whether the StorageRandomAccessFile "rws" and "rwd" modes
 are implemented. If the "rws" and "rwd" modes are supported then the database
 engine will conclude that the write methods of "rws"/"rwd" mode
 StorageRandomAccessFiles are slow but the sync method is fast and optimize
 accordingly.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/derby/io/WritableStorageFactory.html#supportsWriteSync--">supportsWriteSync</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/derby/io/WritableStorageFactory.html" title="interface in org.apache.derby.io">WritableStorageFactory</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><b>true</b> if an StIRandomAccess file opened with "rws" or "rwd" modes immediately writes data to the
         underlying storage, <b>false</b> if not.</dd>
</dl>
</li>
</ul>
<a name="normalizePath-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>normalizePath</h4>
<pre>private&nbsp;java.lang.String&nbsp;normalizePath(java.lang.String&nbsp;dir,
                                       java.lang.String&nbsp;file)</pre>
<div class="block">Returns a normalized absolute path.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dir</code> - parent directory, if <code>null</code> the <code>dataDirectory</code>
      will be used</dd>
<dd><code>file</code> - the file name (<code>null</code> not allowed)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A path.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.NullPointerException</code> - if <code>file</code> is <code>null</code></dd>
</dl>
</li>
</ul>
<a name="normalizePath-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>normalizePath</h4>
<pre>private&nbsp;java.lang.String&nbsp;normalizePath(java.lang.String&nbsp;path)</pre>
<div class="block">Returns a normalized absolute path.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>path</code> - path, if <code>null</code> the <code>dataDirectory</code> will be used</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A path.</dd>
</dl>
</li>
</ul>
<a name="dbDropCleanupInDummy-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>dbDropCleanupInDummy</h4>
<pre>private&nbsp;void&nbsp;dbDropCleanupInDummy(java.lang.String&nbsp;dbPath)</pre>
<div class="block">Cleans up the internal dummy data store after a database has been
 dropped.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dbPath</code> - absolute path of the dropped database</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Built on Mon 2017-07-03 23:03:59+0530, from revision Unversioned directory</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/derby/impl/io/URLStorageFactory.html" title="class in org.apache.derby.impl.io"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/derby/impl/io/VFMemoryStorageFactory.html" target="_top">Frames</a></li>
<li><a href="VFMemoryStorageFactory.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Apache Derby V10.13 Internals - <i>Copyright &copy; 2004,2016 The Apache Software Foundation. All Rights Reserved.</i></small></p>
</body>
</html>
