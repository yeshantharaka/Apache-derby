<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_66) on Mon Jul 03 23:05:09 IST 2017 -->
<title>BlockedByteArray (Apache Derby V10.13 Internals)</title>
<meta name="date" content="2017-07-03">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="BlockedByteArray (Apache Derby V10.13 Internals)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../../org/apache/derby/impl/io/vfmem/BlockedByteArrayInputStream.html" title="class in org.apache.derby.impl.io.vfmem"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/derby/impl/io/vfmem/BlockedByteArray.html" target="_top">Frames</a></li>
<li><a href="BlockedByteArray.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.derby.impl.io.vfmem</div>
<h2 title="Class BlockedByteArray" class="title">Class BlockedByteArray</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.derby.impl.io.vfmem.BlockedByteArray</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">BlockedByteArray</span>
extends java.lang.Object</pre>
<div class="block">Stores data in blocks, and supports reading/writing data from/into these
 blocks.
 <p>
 The blocked array is expanded and shrunk as required.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/io/vfmem/BlockedByteArray.html#Z:Z_16K">_16K</a></span></code>
<div class="block">Constant for 16 KB.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/io/vfmem/BlockedByteArray.html#Z:Z_32K">_32K</a></span></code>
<div class="block">Constant for 32 KB.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/io/vfmem/BlockedByteArray.html#Z:Z_4K">_4K</a></span></code>
<div class="block">Constant for 4 KB.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/io/vfmem/BlockedByteArray.html#Z:Z_8K">_8K</a></span></code>
<div class="block">Constant for 8 KB.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/io/vfmem/BlockedByteArray.html#allocatedBlocks">allocatedBlocks</a></span></code>
<div class="block">The number of allocated blocks.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private byte[][]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/io/vfmem/BlockedByteArray.html#blocks">blocks</a></span></code>
<div class="block">References to blocks of data.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/io/vfmem/BlockedByteArray.html#blockSize">blockSize</a></span></code>
<div class="block">The size of a block of data (the allocation unit).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/io/vfmem/BlockedByteArray.html#DEFAULT_BLOCKSIZE">DEFAULT_BLOCKSIZE</a></span></code>
<div class="block">The default block size.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/io/vfmem/BlockedByteArray.html#INITIAL_BLOCK_HOLDER_SIZE">INITIAL_BLOCK_HOLDER_SIZE</a></span></code>
<div class="block">The default number of slots for holding a block of data.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/io/vfmem/BlockedByteArray.html#length">length</a></span></code>
<div class="block">The number of bytes stored in the blocked byte array.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/io/vfmem/BlockedByteArray.html#MIN_HOLDER_GROWTH">MIN_HOLDER_GROWTH</a></span></code>
<div class="block">Minimum number of holder slots to grow with when the block holder array
 has to grow to be able to reference all the data arrays.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/io/vfmem/BlockedByteArray.html#BlockedByteArray--">BlockedByteArray</a></span>()</code>
<div class="block">Creates a new blocked byte array with the default number of slots to
 hold byte arrays (blocks).</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/io/vfmem/BlockedByteArray.html#checkBlockSize-int-">checkBlockSize</a></span>(int&nbsp;len)</code>
<div class="block">Tries to optimize the block size by setting it equal to the the page
 size used by the database.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>(package private) <a href="../../../../../../org/apache/derby/impl/io/vfmem/BlockedByteArrayInputStream.html" title="class in org.apache.derby.impl.io.vfmem">BlockedByteArrayInputStream</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/io/vfmem/BlockedByteArray.html#getInputStream--">getInputStream</a></span>()</code>
<div class="block">Returns an input stream serving the data in the blocked byte array.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>(package private) <a href="../../../../../../org/apache/derby/impl/io/vfmem/BlockedByteArrayOutputStream.html" title="class in org.apache.derby.impl.io.vfmem">BlockedByteArrayOutputStream</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/io/vfmem/BlockedByteArray.html#getOutputStream-long-">getOutputStream</a></span>(long&nbsp;pos)</code>
<div class="block">Returns an output stream writing data into the blocked byte array.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/io/vfmem/BlockedByteArray.html#increaseCapacity-long-">increaseCapacity</a></span>(long&nbsp;lastIndex)</code>
<div class="block">Increases the capacity of this blocked byte array by allocating more
 blocks.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/io/vfmem/BlockedByteArray.html#length--">length</a></span>()</code>
<div class="block">Returns the number of bytes allocated.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/io/vfmem/BlockedByteArray.html#read-long-">read</a></span>(long&nbsp;pos)</code>
<div class="block">Returns the byte at the given position.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/io/vfmem/BlockedByteArray.html#read-long-byte:A-int-int-">read</a></span>(long&nbsp;pos,
    byte[]&nbsp;buf,
    int&nbsp;offset,
    int&nbsp;len)</code>
<div class="block">Reads up to <code>len</code> bytes.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/io/vfmem/BlockedByteArray.html#release--">release</a></span>()</code>
<div class="block">Releases this array.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/io/vfmem/BlockedByteArray.html#setLength-long-">setLength</a></span>(long&nbsp;newLength)</code>
<div class="block">Changes the allocated length of the data.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/io/vfmem/BlockedByteArray.html#writeByte-long-byte-">writeByte</a></span>(long&nbsp;pos,
         byte&nbsp;b)</code>
<div class="block">Writes the given byte into the blocked byte array.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/io/vfmem/BlockedByteArray.html#writeBytes-long-byte:A-int-int-">writeBytes</a></span>(long&nbsp;pos,
          byte[]&nbsp;buf,
          int&nbsp;offset,
          int&nbsp;len)</code>
<div class="block">Writes the given bytes into the blocked byte array.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="Z:Z_4K">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_4K</h4>
<pre>private static final&nbsp;int _4K</pre>
<div class="block">Constant for 4 KB.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.impl.io.vfmem.BlockedByteArray._4K">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="Z:Z_8K">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_8K</h4>
<pre>private static final&nbsp;int _8K</pre>
<div class="block">Constant for 8 KB.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.impl.io.vfmem.BlockedByteArray._8K">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="Z:Z_16K">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_16K</h4>
<pre>private static final&nbsp;int _16K</pre>
<div class="block">Constant for 16 KB.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.impl.io.vfmem.BlockedByteArray._16K">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="Z:Z_32K">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_32K</h4>
<pre>private static final&nbsp;int _32K</pre>
<div class="block">Constant for 32 KB.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.impl.io.vfmem.BlockedByteArray._32K">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="DEFAULT_BLOCKSIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_BLOCKSIZE</h4>
<pre>private static final&nbsp;int DEFAULT_BLOCKSIZE</pre>
<div class="block">The default block size.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.impl.io.vfmem.BlockedByteArray.DEFAULT_BLOCKSIZE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="INITIAL_BLOCK_HOLDER_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>INITIAL_BLOCK_HOLDER_SIZE</h4>
<pre>private static final&nbsp;int INITIAL_BLOCK_HOLDER_SIZE</pre>
<div class="block">The default number of slots for holding a block of data.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.impl.io.vfmem.BlockedByteArray.INITIAL_BLOCK_HOLDER_SIZE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="MIN_HOLDER_GROWTH">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MIN_HOLDER_GROWTH</h4>
<pre>private static final&nbsp;int MIN_HOLDER_GROWTH</pre>
<div class="block">Minimum number of holder slots to grow with when the block holder array
 has to grow to be able to reference all the data arrays.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.impl.io.vfmem.BlockedByteArray.MIN_HOLDER_GROWTH">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="blocks">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>blocks</h4>
<pre>private&nbsp;byte[][] blocks</pre>
<div class="block">References to blocks of data.</div>
</li>
</ul>
<a name="blockSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>blockSize</h4>
<pre>private&nbsp;int blockSize</pre>
<div class="block">The size of a block of data (the allocation unit).</div>
</li>
</ul>
<a name="allocatedBlocks">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allocatedBlocks</h4>
<pre>private&nbsp;int allocatedBlocks</pre>
<div class="block">The number of allocated blocks.</div>
</li>
</ul>
<a name="length">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>length</h4>
<pre>private&nbsp;long length</pre>
<div class="block">The number of bytes stored in the blocked byte array.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="BlockedByteArray--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>BlockedByteArray</h4>
<pre>public&nbsp;BlockedByteArray()</pre>
<div class="block">Creates a new blocked byte array with the default number of slots to
 hold byte arrays (blocks).
 <p>
 No blocks are pre-allocated.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/impl/io/vfmem/BlockedByteArray.html#INITIAL_BLOCK_HOLDER_SIZE"><code>INITIAL_BLOCK_HOLDER_SIZE</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="read-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read</h4>
<pre>public&nbsp;int&nbsp;read(long&nbsp;pos)</pre>
<div class="block">Returns the byte at the given position.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pos</code> - position to read from</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A single byte.</dd>
</dl>
</li>
</ul>
<a name="read-long-byte:A-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read</h4>
<pre>public&nbsp;int&nbsp;read(long&nbsp;pos,
                byte[]&nbsp;buf,
                int&nbsp;offset,
                int&nbsp;len)</pre>
<div class="block">Reads up to <code>len</code> bytes.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pos</code> - the position to start reading at</dd>
<dd><code>buf</code> - the destination buffer</dd>
<dd><code>offset</code> - offset into the destination buffer</dd>
<dd><code>len</code> - the number of bytes to read</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of bytes read.</dd>
</dl>
</li>
</ul>
<a name="length--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>length</h4>
<pre>public&nbsp;long&nbsp;length()</pre>
<div class="block">Returns the number of bytes allocated.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Bytes allocated.</dd>
</dl>
</li>
</ul>
<a name="setLength-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLength</h4>
<pre>public&nbsp;void&nbsp;setLength(long&nbsp;newLength)</pre>
<div class="block">Changes the allocated length of the data.
 <p>
 If the new length is larger than the current length, the blocked byte
 array will be extended with new blocks. If the new length is smaller,
 existing (allocated) blocks will be removed if possible.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>newLength</code> - the new length of the allocated data in bytes</dd>
</dl>
</li>
</ul>
<a name="writeBytes-long-byte:A-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeBytes</h4>
<pre>public&nbsp;int&nbsp;writeBytes(long&nbsp;pos,
                      byte[]&nbsp;buf,
                      int&nbsp;offset,
                      int&nbsp;len)</pre>
<div class="block">Writes the given bytes into the blocked byte array.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pos</code> - the position to start writing at</dd>
<dd><code>buf</code> - the source buffer</dd>
<dd><code>offset</code> - the offset into the source buffer</dd>
<dd><code>len</code> - the number of bytes to write</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of bytes written.</dd>
</dl>
</li>
</ul>
<a name="writeByte-long-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeByte</h4>
<pre>public&nbsp;int&nbsp;writeByte(long&nbsp;pos,
                     byte&nbsp;b)</pre>
<div class="block">Writes the given byte into the blocked byte array.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pos</code> - the position to write the byte at</dd>
<dd><code>b</code> - the byte to write</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>1</code>, which is the number of bytes written.</dd>
</dl>
</li>
</ul>
<a name="getInputStream--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInputStream</h4>
<pre><a href="../../../../../../org/apache/derby/impl/io/vfmem/BlockedByteArrayInputStream.html" title="class in org.apache.derby.impl.io.vfmem">BlockedByteArrayInputStream</a>&nbsp;getInputStream()</pre>
<div class="block">Returns an input stream serving the data in the blocked byte array.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An <code>InputStream</code>-object.</dd>
</dl>
</li>
</ul>
<a name="getOutputStream-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOutputStream</h4>
<pre><a href="../../../../../../org/apache/derby/impl/io/vfmem/BlockedByteArrayOutputStream.html" title="class in org.apache.derby.impl.io.vfmem">BlockedByteArrayOutputStream</a>&nbsp;getOutputStream(long&nbsp;pos)</pre>
<div class="block">Returns an output stream writing data into the blocked byte array.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pos</code> - initial position of the output stream</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An <code>OutputStream</code>-object.</dd>
</dl>
</li>
</ul>
<a name="release--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>release</h4>
<pre>void&nbsp;release()</pre>
<div class="block">Releases this array.</div>
</li>
</ul>
<a name="checkBlockSize-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkBlockSize</h4>
<pre>private&nbsp;void&nbsp;checkBlockSize(int&nbsp;len)</pre>
<div class="block">Tries to optimize the block size by setting it equal to the the page
 size used by the database.
 <p>
 Since we don't have a way of knowing which page size will be used, wait
 to set the block size until the first write request and see how many
 bytes are written then.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>len</code> - the requested number of bytes to be written</dd>
</dl>
</li>
</ul>
<a name="increaseCapacity-long-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>increaseCapacity</h4>
<pre>private&nbsp;void&nbsp;increaseCapacity(long&nbsp;lastIndex)</pre>
<div class="block">Increases the capacity of this blocked byte array by allocating more
 blocks.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>lastIndex</code> - the index that must fit into the array</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Built on Mon 2017-07-03 23:03:59+0530, from revision Unversioned directory</div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../../org/apache/derby/impl/io/vfmem/BlockedByteArrayInputStream.html" title="class in org.apache.derby.impl.io.vfmem"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/derby/impl/io/vfmem/BlockedByteArray.html" target="_top">Frames</a></li>
<li><a href="BlockedByteArray.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Apache Derby V10.13 Internals - <i>Copyright &copy; 2004,2016 The Apache Software Foundation. All Rights Reserved.</i></small></p>
</body>
</html>
