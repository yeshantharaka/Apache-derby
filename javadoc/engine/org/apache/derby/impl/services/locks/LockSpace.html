<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_66) on Mon Jul 03 23:05:16 IST 2017 -->
<title>LockSpace (Apache Derby V10.13 Internals)</title>
<meta name="date" content="2017-07-03">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="LockSpace (Apache Derby V10.13 Internals)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/derby/impl/services/locks/LockList.html" title="class in org.apache.derby.impl.services.locks"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/apache/derby/impl/services/locks/LockTable.html" title="interface in org.apache.derby.impl.services.locks"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/derby/impl/services/locks/LockSpace.html" target="_top">Frames</a></li>
<li><a href="LockSpace.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.derby.impl.services.locks</div>
<h2 title="Class LockSpace" class="title">Class LockSpace</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.derby.impl.services.locks.LockSpace</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../../org/apache/derby/iapi/services/locks/CompatibilitySpace.html" title="interface in org.apache.derby.iapi.services.locks">CompatibilitySpace</a></dd>
</dl>
<hr>
<br>
<pre>final class <span class="typeNameLabel">LockSpace</span>
extends java.lang.Object
implements <a href="../../../../../../org/apache/derby/iapi/services/locks/CompatibilitySpace.html" title="interface in org.apache.derby.iapi.services.locks">CompatibilitySpace</a></pre>
<div class="block">A LockSpace represents the complete set of locks held within
        a single compatibility space, broken into groups of locks.

    A LockSpace contains a HashMap keyed by the group reference,
    the data for each key is a HashMap of Lock's.

    <p> A <code>LockSpace</code> can have an owner (for instance a
    transaction). Currently, the owner is used by the virtual lock table to
    find out which transaction a lock belongs to. Some parts of the code also
    use the owner as a group object which guarantees that the lock is released
    on a commit or an abort. The owner has no special meaning to the lock
    manager and can be any object, including <code>null</code>. </p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/iapi/services/locks/Limit.html" title="interface in org.apache.derby.iapi.services.locks">Limit</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/services/locks/LockSpace.html#callback">callback</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.Object</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/services/locks/LockSpace.html#callbackGroup">callbackGroup</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.HashMap&lt;java.lang.Object,java.util.HashMap&lt;<a href="../../../../../../org/apache/derby/impl/services/locks/Lock.html" title="class in org.apache.derby.impl.services.locks">Lock</a>,<a href="../../../../../../org/apache/derby/impl/services/locks/Lock.html" title="class in org.apache.derby.impl.services.locks">Lock</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/services/locks/LockSpace.html#groups">groups</a></span></code>
<div class="block">Map from group references to groups of locks.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/services/locks/LockSpace.html#inLimit">inLimit</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/services/locks/LockSpace.html#limit">limit</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/services/locks/LockSpace.html#MAX_CACHED_GROUPS">MAX_CACHED_GROUPS</a></span></code>
<div class="block">The maximum number of elements to cache in <a href="../../../../../../org/apache/derby/impl/services/locks/LockSpace.html#spareGroups"><code>spareGroups</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/services/locks/LockSpace.html#nextLimitCall">nextLimitCall</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/iapi/services/locks/LockOwner.html" title="interface in org.apache.derby.iapi.services.locks">LockOwner</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/services/locks/LockSpace.html#owner">owner</a></span></code>
<div class="block">Reference to the owner of this compatibility space.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.ArrayDeque&lt;java.util.HashMap&lt;<a href="../../../../../../org/apache/derby/impl/services/locks/Lock.html" title="class in org.apache.derby.impl.services.locks">Lock</a>,<a href="../../../../../../org/apache/derby/impl/services/locks/Lock.html" title="class in org.apache.derby.impl.services.locks">Lock</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/services/locks/LockSpace.html#spareGroups">spareGroups</a></span></code>
<div class="block">Cached HashMaps for storing lock groups.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/services/locks/LockSpace.html#LockSpace-org.apache.derby.iapi.services.locks.LockOwner-">LockSpace</a></span>(<a href="../../../../../../org/apache/derby/iapi/services/locks/LockOwner.html" title="interface in org.apache.derby.iapi.services.locks">LockOwner</a>&nbsp;owner)</code>
<div class="block">Creates a new <code>LockSpace</code> instance.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/services/locks/LockSpace.html#addLock-java.lang.Object-org.apache.derby.impl.services.locks.Lock-">addLock</a></span>(java.lang.Object&nbsp;group,
       <a href="../../../../../../org/apache/derby/impl/services/locks/Lock.html" title="class in org.apache.derby.impl.services.locks">Lock</a>&nbsp;lock)</code>
<div class="block">Add a lock to a group.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/services/locks/LockSpace.html#areLocksHeld--">areLocksHeld</a></span>()</code>
<div class="block">Return true if locks are held in this compatibility space.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/services/locks/LockSpace.html#areLocksHeld-java.lang.Object-">areLocksHeld</a></span>(java.lang.Object&nbsp;group)</code>
<div class="block">Return true if locks are held in a group</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/services/locks/LockSpace.html#clearLimit-java.lang.Object-">clearLimit</a></span>(java.lang.Object&nbsp;group)</code>
<div class="block">Clear a limit set by setLimit.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/services/locks/LockSpace.html#deadlockCount-int-">deadlockCount</a></span>(int&nbsp;bail)</code>
<div class="block">Return a count of the number of locks
                held by this space.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>private java.util.HashMap&lt;<a href="../../../../../../org/apache/derby/impl/services/locks/Lock.html" title="class in org.apache.derby.impl.services.locks">Lock</a>,<a href="../../../../../../org/apache/derby/impl/services/locks/Lock.html" title="class in org.apache.derby.impl.services.locks">Lock</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/services/locks/LockSpace.html#getGroupMap-java.lang.Object-">getGroupMap</a></span>(java.lang.Object&nbsp;group)</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/services/locks/LockOwner.html" title="interface in org.apache.derby.iapi.services.locks">LockOwner</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/services/locks/LockSpace.html#getOwner--">getOwner</a></span>()</code>
<div class="block">Get the object representing the owner of the compatibility space.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/services/locks/LockSpace.html#isLockHeld-java.lang.Object-org.apache.derby.iapi.services.locks.Lockable-java.lang.Object-">isLockHeld</a></span>(java.lang.Object&nbsp;group,
          <a href="../../../../../../org/apache/derby/iapi/services/locks/Lockable.html" title="interface in org.apache.derby.iapi.services.locks">Lockable</a>&nbsp;ref,
          java.lang.Object&nbsp;qualifier)</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/services/locks/LockSpace.html#mergeGroups-java.util.HashMap-java.util.HashMap-">mergeGroups</a></span>(java.util.HashMap&lt;<a href="../../../../../../org/apache/derby/impl/services/locks/Lock.html" title="class in org.apache.derby.impl.services.locks">Lock</a>,<a href="../../../../../../org/apache/derby/impl/services/locks/Lock.html" title="class in org.apache.derby.impl.services.locks">Lock</a>&gt;&nbsp;from,
           java.util.HashMap&lt;<a href="../../../../../../org/apache/derby/impl/services/locks/Lock.html" title="class in org.apache.derby.impl.services.locks">Lock</a>,<a href="../../../../../../org/apache/derby/impl/services/locks/Lock.html" title="class in org.apache.derby.impl.services.locks">Lock</a>&gt;&nbsp;into)</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/services/locks/LockSpace.html#saveGroup-java.util.HashMap-">saveGroup</a></span>(java.util.HashMap&lt;<a href="../../../../../../org/apache/derby/impl/services/locks/Lock.html" title="class in org.apache.derby.impl.services.locks">Lock</a>,<a href="../../../../../../org/apache/derby/impl/services/locks/Lock.html" title="class in org.apache.derby.impl.services.locks">Lock</a>&gt;&nbsp;dl)</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/services/locks/LockSpace.html#setLimit-java.lang.Object-int-org.apache.derby.iapi.services.locks.Limit-">setLimit</a></span>(java.lang.Object&nbsp;group,
        int&nbsp;limit,
        <a href="../../../../../../org/apache/derby/iapi/services/locks/Limit.html" title="interface in org.apache.derby.iapi.services.locks">Limit</a>&nbsp;callback)</code>&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/services/locks/LockSpace.html#transfer-java.lang.Object-java.lang.Object-">transfer</a></span>(java.lang.Object&nbsp;oldGroup,
        java.lang.Object&nbsp;newGroup)</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/services/locks/LockSpace.html#unlockGroup-org.apache.derby.impl.services.locks.LockTable-java.lang.Object-">unlockGroup</a></span>(<a href="../../../../../../org/apache/derby/impl/services/locks/LockTable.html" title="interface in org.apache.derby.impl.services.locks">LockTable</a>&nbsp;lset,
           java.lang.Object&nbsp;group)</code>
<div class="block">Unlock all the locks in a group and then remove the group.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/services/locks/LockSpace.html#unlockGroup-org.apache.derby.impl.services.locks.LockTable-java.lang.Object-org.apache.derby.iapi.util.Matchable-">unlockGroup</a></span>(<a href="../../../../../../org/apache/derby/impl/services/locks/LockTable.html" title="interface in org.apache.derby.impl.services.locks">LockTable</a>&nbsp;lset,
           java.lang.Object&nbsp;group,
           <a href="../../../../../../org/apache/derby/iapi/util/Matchable.html" title="interface in org.apache.derby.iapi.util">Matchable</a>&nbsp;key)</code>
<div class="block">Unlock all locks in the group that match the key</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/services/locks/LockSpace.html#unlockReference-org.apache.derby.impl.services.locks.LockTable-org.apache.derby.iapi.services.locks.Lockable-java.lang.Object-java.lang.Object-">unlockReference</a></span>(<a href="../../../../../../org/apache/derby/impl/services/locks/LockTable.html" title="interface in org.apache.derby.impl.services.locks">LockTable</a>&nbsp;lset,
               <a href="../../../../../../org/apache/derby/iapi/services/locks/Lockable.html" title="interface in org.apache.derby.iapi.services.locks">Lockable</a>&nbsp;ref,
               java.lang.Object&nbsp;qualifier,
               java.lang.Object&nbsp;group)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="groups">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>groups</h4>
<pre>private final&nbsp;java.util.HashMap&lt;java.lang.Object,java.util.HashMap&lt;<a href="../../../../../../org/apache/derby/impl/services/locks/Lock.html" title="class in org.apache.derby.impl.services.locks">Lock</a>,<a href="../../../../../../org/apache/derby/impl/services/locks/Lock.html" title="class in org.apache.derby.impl.services.locks">Lock</a>&gt;&gt; groups</pre>
<div class="block">Map from group references to groups of locks.</div>
</li>
</ul>
<a name="owner">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>owner</h4>
<pre>private final&nbsp;<a href="../../../../../../org/apache/derby/iapi/services/locks/LockOwner.html" title="interface in org.apache.derby.iapi.services.locks">LockOwner</a> owner</pre>
<div class="block">Reference to the owner of this compatibility space.</div>
</li>
</ul>
<a name="MAX_CACHED_GROUPS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MAX_CACHED_GROUPS</h4>
<pre>private static final&nbsp;int MAX_CACHED_GROUPS</pre>
<div class="block">The maximum number of elements to cache in <a href="../../../../../../org/apache/derby/impl/services/locks/LockSpace.html#spareGroups"><code>spareGroups</code></a>.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.impl.services.locks.LockSpace.MAX_CACHED_GROUPS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="spareGroups">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>spareGroups</h4>
<pre>private final&nbsp;java.util.ArrayDeque&lt;java.util.HashMap&lt;<a href="../../../../../../org/apache/derby/impl/services/locks/Lock.html" title="class in org.apache.derby.impl.services.locks">Lock</a>,<a href="../../../../../../org/apache/derby/impl/services/locks/Lock.html" title="class in org.apache.derby.impl.services.locks">Lock</a>&gt;&gt; spareGroups</pre>
<div class="block">Cached HashMaps for storing lock groups.</div>
</li>
</ul>
<a name="callbackGroup">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>callbackGroup</h4>
<pre>private&nbsp;java.lang.Object callbackGroup</pre>
</li>
</ul>
<a name="limit">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>limit</h4>
<pre>private&nbsp;int limit</pre>
</li>
</ul>
<a name="nextLimitCall">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nextLimitCall</h4>
<pre>private&nbsp;int nextLimitCall</pre>
</li>
</ul>
<a name="callback">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>callback</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/derby/iapi/services/locks/Limit.html" title="interface in org.apache.derby.iapi.services.locks">Limit</a> callback</pre>
</li>
</ul>
<a name="inLimit">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>inLimit</h4>
<pre>private&nbsp;boolean inLimit</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="LockSpace-org.apache.derby.iapi.services.locks.LockOwner-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>LockSpace</h4>
<pre>LockSpace(<a href="../../../../../../org/apache/derby/iapi/services/locks/LockOwner.html" title="interface in org.apache.derby.iapi.services.locks">LockOwner</a>&nbsp;owner)</pre>
<div class="block">Creates a new <code>LockSpace</code> instance.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>owner</code> - an object representing the owner of the compatibility space</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getOwner--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOwner</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/derby/iapi/services/locks/LockOwner.html" title="interface in org.apache.derby.iapi.services.locks">LockOwner</a>&nbsp;getOwner()</pre>
<div class="block">Get the object representing the owner of the compatibility space.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/services/locks/CompatibilitySpace.html#getOwner--">getOwner</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/services/locks/CompatibilitySpace.html" title="interface in org.apache.derby.iapi.services.locks">CompatibilitySpace</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the owner of the compatibility space</dd>
</dl>
</li>
</ul>
<a name="addLock-java.lang.Object-org.apache.derby.impl.services.locks.Lock-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addLock</h4>
<pre>protected&nbsp;void&nbsp;addLock(java.lang.Object&nbsp;group,
                       <a href="../../../../../../org/apache/derby/impl/services/locks/Lock.html" title="class in org.apache.derby.impl.services.locks">Lock</a>&nbsp;lock)
                throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Add a lock to a group.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="unlockGroup-org.apache.derby.impl.services.locks.LockTable-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlockGroup</h4>
<pre>void&nbsp;unlockGroup(<a href="../../../../../../org/apache/derby/impl/services/locks/LockTable.html" title="interface in org.apache.derby.impl.services.locks">LockTable</a>&nbsp;lset,
                 java.lang.Object&nbsp;group)</pre>
<div class="block">Unlock all the locks in a group and then remove the group.</div>
</li>
</ul>
<a name="getGroupMap-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getGroupMap</h4>
<pre>private&nbsp;java.util.HashMap&lt;<a href="../../../../../../org/apache/derby/impl/services/locks/Lock.html" title="class in org.apache.derby.impl.services.locks">Lock</a>,<a href="../../../../../../org/apache/derby/impl/services/locks/Lock.html" title="class in org.apache.derby.impl.services.locks">Lock</a>&gt;&nbsp;getGroupMap(java.lang.Object&nbsp;group)</pre>
</li>
</ul>
<a name="saveGroup-java.util.HashMap-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveGroup</h4>
<pre>private&nbsp;void&nbsp;saveGroup(java.util.HashMap&lt;<a href="../../../../../../org/apache/derby/impl/services/locks/Lock.html" title="class in org.apache.derby.impl.services.locks">Lock</a>,<a href="../../../../../../org/apache/derby/impl/services/locks/Lock.html" title="class in org.apache.derby.impl.services.locks">Lock</a>&gt;&nbsp;dl)</pre>
</li>
</ul>
<a name="unlockGroup-org.apache.derby.impl.services.locks.LockTable-java.lang.Object-org.apache.derby.iapi.util.Matchable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlockGroup</h4>
<pre>void&nbsp;unlockGroup(<a href="../../../../../../org/apache/derby/impl/services/locks/LockTable.html" title="interface in org.apache.derby.impl.services.locks">LockTable</a>&nbsp;lset,
                 java.lang.Object&nbsp;group,
                 <a href="../../../../../../org/apache/derby/iapi/util/Matchable.html" title="interface in org.apache.derby.iapi.util">Matchable</a>&nbsp;key)</pre>
<div class="block">Unlock all locks in the group that match the key</div>
</li>
</ul>
<a name="transfer-java.lang.Object-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>transfer</h4>
<pre>void&nbsp;transfer(java.lang.Object&nbsp;oldGroup,
              java.lang.Object&nbsp;newGroup)</pre>
</li>
</ul>
<a name="mergeGroups-java.util.HashMap-java.util.HashMap-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mergeGroups</h4>
<pre>private&nbsp;void&nbsp;mergeGroups(java.util.HashMap&lt;<a href="../../../../../../org/apache/derby/impl/services/locks/Lock.html" title="class in org.apache.derby.impl.services.locks">Lock</a>,<a href="../../../../../../org/apache/derby/impl/services/locks/Lock.html" title="class in org.apache.derby.impl.services.locks">Lock</a>&gt;&nbsp;from,
                         java.util.HashMap&lt;<a href="../../../../../../org/apache/derby/impl/services/locks/Lock.html" title="class in org.apache.derby.impl.services.locks">Lock</a>,<a href="../../../../../../org/apache/derby/impl/services/locks/Lock.html" title="class in org.apache.derby.impl.services.locks">Lock</a>&gt;&nbsp;into)</pre>
</li>
</ul>
<a name="unlockReference-org.apache.derby.impl.services.locks.LockTable-org.apache.derby.iapi.services.locks.Lockable-java.lang.Object-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlockReference</h4>
<pre>int&nbsp;unlockReference(<a href="../../../../../../org/apache/derby/impl/services/locks/LockTable.html" title="interface in org.apache.derby.impl.services.locks">LockTable</a>&nbsp;lset,
                    <a href="../../../../../../org/apache/derby/iapi/services/locks/Lockable.html" title="interface in org.apache.derby.iapi.services.locks">Lockable</a>&nbsp;ref,
                    java.lang.Object&nbsp;qualifier,
                    java.lang.Object&nbsp;group)</pre>
</li>
</ul>
<a name="areLocksHeld-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>areLocksHeld</h4>
<pre>boolean&nbsp;areLocksHeld(java.lang.Object&nbsp;group)</pre>
<div class="block">Return true if locks are held in a group</div>
</li>
</ul>
<a name="areLocksHeld--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>areLocksHeld</h4>
<pre>boolean&nbsp;areLocksHeld()</pre>
<div class="block">Return true if locks are held in this compatibility space.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if locks are held, false otherwise</dd>
</dl>
</li>
</ul>
<a name="isLockHeld-java.lang.Object-org.apache.derby.iapi.services.locks.Lockable-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isLockHeld</h4>
<pre>boolean&nbsp;isLockHeld(java.lang.Object&nbsp;group,
                   <a href="../../../../../../org/apache/derby/iapi/services/locks/Lockable.html" title="interface in org.apache.derby.iapi.services.locks">Lockable</a>&nbsp;ref,
                   java.lang.Object&nbsp;qualifier)</pre>
</li>
</ul>
<a name="setLimit-java.lang.Object-int-org.apache.derby.iapi.services.locks.Limit-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLimit</h4>
<pre>void&nbsp;setLimit(java.lang.Object&nbsp;group,
              int&nbsp;limit,
              <a href="../../../../../../org/apache/derby/iapi/services/locks/Limit.html" title="interface in org.apache.derby.iapi.services.locks">Limit</a>&nbsp;callback)</pre>
</li>
</ul>
<a name="clearLimit-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearLimit</h4>
<pre>void&nbsp;clearLimit(java.lang.Object&nbsp;group)</pre>
<div class="block">Clear a limit set by setLimit.</div>
</li>
</ul>
<a name="deadlockCount-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>deadlockCount</h4>
<pre>int&nbsp;deadlockCount(int&nbsp;bail)</pre>
<div class="block">Return a count of the number of locks
                held by this space. The argument bail
                indicates at which point the counting
                should bail out and return the current
                count. This routine will bail if the
                count is greater than bail. Thus this
                routine is intended to for deadlock
                code to find the space with the
                fewest number of locks.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Built on Mon 2017-07-03 23:03:59+0530, from revision Unversioned directory</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/derby/impl/services/locks/LockList.html" title="class in org.apache.derby.impl.services.locks"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/apache/derby/impl/services/locks/LockTable.html" title="interface in org.apache.derby.impl.services.locks"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/derby/impl/services/locks/LockSpace.html" target="_top">Frames</a></li>
<li><a href="LockSpace.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Apache Derby V10.13 Internals - <i>Copyright &copy; 2004,2016 The Apache Software Foundation. All Rights Reserved.</i></small></p>
</body>
</html>
