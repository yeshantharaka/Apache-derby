<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_66) on Mon Jul 03 23:05:13 IST 2017 -->
<title>IndexChanger (Apache Derby V10.13 Internals)</title>
<meta name="date" content="2017-07-03">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="IndexChanger (Apache Derby V10.13 Internals)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/derby/impl/sql/execute/HashTableResultSet.html" title="class in org.apache.derby.impl.sql.execute"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexColumnOrder.html" title="class in org.apache.derby.impl.sql.execute"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/derby/impl/sql/execute/IndexChanger.html" target="_top">Frames</a></li>
<li><a href="IndexChanger.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.derby.impl.sql.execute</div>
<h2 title="Class IndexChanger" class="title">Class IndexChanger</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.derby.impl.sql.execute.IndexChanger</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>class <span class="typeNameLabel">IndexChanger</span>
extends java.lang.Object</pre>
<div class="block">Perform Index maintenance associated with DML operations for a single index.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/iapi/sql/Activation.html" title="interface in org.apache.derby.iapi.sql">Activation</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#activation">activation</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html" title="interface in org.apache.derby.iapi.store.access">ConglomerateController</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#baseCC">baseCC</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#baseRowReadMap">baseRowReadMap</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#deferrable">deferrable</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/iapi/store/access/BackingStoreHashtable.html" title="class in org.apache.derby.iapi.store.access">BackingStoreHashtable</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#deferredDuplicates">deferredDuplicates</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html" title="interface in org.apache.derby.iapi.store.access">ConglomerateController</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#indexCC">indexCC</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#indexCID">indexCID</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/iapi/store/access/DynamicCompiledOpenConglomInfo.html" title="interface in org.apache.derby.iapi.store.access">DynamicCompiledOpenConglomInfo</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#indexDCOCI">indexDCOCI</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#indexName">indexName</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/iapi/store/access/ScanController.html" title="interface in org.apache.derby.iapi.store.access">ScanController</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#indexSC">indexSC</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/iapi/store/access/StaticCompiledOpenConglomInfo.html" title="interface in org.apache.derby.iapi.store.access">StaticCompiledOpenConglomInfo</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#indexSCOCI">indexSCOCI</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/iapi/sql/dictionary/IndexRowGenerator.html" title="class in org.apache.derby.iapi.sql.dictionary">IndexRowGenerator</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#irg">irg</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#isolationLevel">isolationLevel</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/iapi/sql/conn/LanguageConnectionContext.html" title="interface in org.apache.derby.iapi.sql.conn">LanguageConnectionContext</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#lcc">lcc</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#lockMode">lockMode</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/iapi/sql/execute/ExecIndexRow.html" title="interface in org.apache.derby.iapi.sql.execute">ExecIndexRow</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#ourIndexRow">ourIndexRow</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/iapi/sql/execute/ExecIndexRow.html" title="interface in org.apache.derby.iapi.sql.execute">ExecIndexRow</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#ourUpdatedIndexRow">ourUpdatedIndexRow</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#ownIndexSC">ownIndexSC</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/impl/sql/execute/TemporaryRowHolderImpl.html" title="class in org.apache.derby.impl.sql.execute">TemporaryRowHolderImpl</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#rowHolder">rowHolder</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#rowHolderPassedIn">rowHolderPassedIn</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/iapi/store/access/TransactionController.html" title="interface in org.apache.derby.iapi.store.access">TransactionController</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#tc">tc</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/catalog/UUID.html" title="interface in org.apache.derby.catalog">UUID</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#uniqueConstraintId">uniqueConstraintId</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#IndexChanger-org.apache.derby.iapi.sql.dictionary.IndexRowGenerator-long-org.apache.derby.iapi.store.access.StaticCompiledOpenConglomInfo-org.apache.derby.iapi.store.access.DynamicCompiledOpenConglomInfo-java.lang.String-org.apache.derby.iapi.store.access.ConglomerateController-org.apache.derby.iapi.store.access.TransactionController-int-org.apache.derby.iapi.services.io.FormatableBitSet-int-org.apache.derby.iapi.sql.Activation-">IndexChanger</a></span>(<a href="../../../../../../org/apache/derby/iapi/sql/dictionary/IndexRowGenerator.html" title="class in org.apache.derby.iapi.sql.dictionary">IndexRowGenerator</a>&nbsp;irg,
            long&nbsp;indexCID,
            <a href="../../../../../../org/apache/derby/iapi/store/access/StaticCompiledOpenConglomInfo.html" title="interface in org.apache.derby.iapi.store.access">StaticCompiledOpenConglomInfo</a>&nbsp;indexSCOCI,
            <a href="../../../../../../org/apache/derby/iapi/store/access/DynamicCompiledOpenConglomInfo.html" title="interface in org.apache.derby.iapi.store.access">DynamicCompiledOpenConglomInfo</a>&nbsp;indexDCOCI,
            java.lang.String&nbsp;indexName,
            <a href="../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html" title="interface in org.apache.derby.iapi.store.access">ConglomerateController</a>&nbsp;baseCC,
            <a href="../../../../../../org/apache/derby/iapi/store/access/TransactionController.html" title="interface in org.apache.derby.iapi.store.access">TransactionController</a>&nbsp;tc,
            int&nbsp;lockMode,
            <a href="../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a>&nbsp;baseRowReadMap,
            int&nbsp;isolationLevel,
            <a href="../../../../../../org/apache/derby/iapi/sql/Activation.html" title="interface in org.apache.derby.iapi.sql">Activation</a>&nbsp;activation)</code>
<div class="block">Create an IndexChanger</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#close--">close</a></span>()</code>
<div class="block">Close this IndexChanger.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#closeIndexCC--">closeIndexCC</a></span>()</code>
<div class="block">Close our index Conglomerate Controller</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#closeIndexSC--">closeIndexSC</a></span>()</code>
<div class="block">Close our index ScanController.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#delete-org.apache.derby.iapi.sql.execute.ExecRow-org.apache.derby.iapi.types.RowLocation-">delete</a></span>(<a href="../../../../../../org/apache/derby/iapi/sql/execute/ExecRow.html" title="interface in org.apache.derby.iapi.sql.execute">ExecRow</a>&nbsp;baseRow,
      <a href="../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>&nbsp;baseRowLocation)</code>
<div class="block">Perform index maintenance to support a delete of a base table row.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#doDeferredInsert--">doDeferredInsert</a></span>()</code>
<div class="block">Insert a row into the temporary conglomerate
          
          This opens our deferred ConglomeratController the first time it
          is called.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#doDelete--">doDelete</a></span>()</code>
<div class="block">Delete a row from our index.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#doInsert--">doInsert</a></span>()</code>
<div class="block">Insert a row into our indes.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#finish--">finish</a></span>()</code>
<div class="block">Finish doing the changes for this index.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/catalog/UUID.html" title="interface in org.apache.derby.catalog">UUID</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#getUniqueConstraintId--">getUniqueConstraintId</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#indexRowChanged--">indexRowChanged</a></span>()</code>
<div class="block">Determine whether or not any columns in the current index
 row are being changed by the update.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#insert-org.apache.derby.iapi.sql.execute.ExecRow-org.apache.derby.iapi.types.RowLocation-">insert</a></span>(<a href="../../../../../../org/apache/derby/iapi/sql/execute/ExecRow.html" title="interface in org.apache.derby.iapi.sql.execute">ExecRow</a>&nbsp;newRow,
      <a href="../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>&nbsp;baseRowLocation)</code>
<div class="block">Perform index maintenance to support an insert of a base table row.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#insertAndCheckDups-org.apache.derby.iapi.sql.execute.ExecIndexRow-">insertAndCheckDups</a></span>(<a href="../../../../../../org/apache/derby/iapi/sql/execute/ExecIndexRow.html" title="interface in org.apache.derby.iapi.sql.execute">ExecIndexRow</a>&nbsp;row)</code>
<div class="block">Insert the given row into the given conglomerate and check for duplicate
 key error.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#insertForUpdate-org.apache.derby.iapi.sql.execute.ExecRow-org.apache.derby.iapi.types.RowLocation-">insertForUpdate</a></span>(<a href="../../../../../../org/apache/derby/iapi/sql/execute/ExecRow.html" title="interface in org.apache.derby.iapi.sql.execute">ExecRow</a>&nbsp;newRow,
               <a href="../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>&nbsp;baseRowLocation)</code>
<div class="block">If we're updating a unique index, the inserts have to be
          deferred.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#open--">open</a></span>()</code>
<div class="block">Open this IndexChanger.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html" title="interface in org.apache.derby.iapi.store.access">ConglomerateController</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#openIndexCC--">openIndexCC</a></span>()</code>
<div class="block">Open the ConglomerateController for this index if it isn't open yet.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#setBaseCC-org.apache.derby.iapi.store.access.ConglomerateController-">setBaseCC</a></span>(<a href="../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html" title="interface in org.apache.derby.iapi.store.access">ConglomerateController</a>&nbsp;baseCC)</code>
<div class="block">Propagate the heap's ConglomerateController to
 this index changer.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#setOurIndexRow-org.apache.derby.iapi.sql.execute.ExecRow-org.apache.derby.iapi.types.RowLocation-">setOurIndexRow</a></span>(<a href="../../../../../../org/apache/derby/iapi/sql/execute/ExecRow.html" title="interface in org.apache.derby.iapi.sql.execute">ExecRow</a>&nbsp;baseRow,
              <a href="../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>&nbsp;baseRowLoc)</code>
<div class="block">Set the column values for 'ourIndexRow' to refer to 
          a base table row and location provided by the caller.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#setOurUpdatedIndexRow-org.apache.derby.iapi.sql.execute.ExecRow-org.apache.derby.iapi.types.RowLocation-">setOurUpdatedIndexRow</a></span>(<a href="../../../../../../org/apache/derby/iapi/sql/execute/ExecRow.html" title="interface in org.apache.derby.iapi.sql.execute">ExecRow</a>&nbsp;baseRow,
                     <a href="../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>&nbsp;baseRowLoc)</code>
<div class="block">Set the column values for 'ourUpdatedIndexRow' to refer to 
          a base table row and location provided by the caller.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#setRowHolder-org.apache.derby.impl.sql.execute.TemporaryRowHolderImpl-">setRowHolder</a></span>(<a href="../../../../../../org/apache/derby/impl/sql/execute/TemporaryRowHolderImpl.html" title="class in org.apache.derby.impl.sql.execute">TemporaryRowHolderImpl</a>&nbsp;rowHolder)</code>
<div class="block">Set the row holder for this changer to use.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#setScan--">setScan</a></span>()</code>
<div class="block">Position our index scan to 'ourIndexRow'.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexChanger.html#update-org.apache.derby.iapi.sql.execute.ExecRow-org.apache.derby.iapi.sql.execute.ExecRow-org.apache.derby.iapi.types.RowLocation-">update</a></span>(<a href="../../../../../../org/apache/derby/iapi/sql/execute/ExecRow.html" title="interface in org.apache.derby.iapi.sql.execute">ExecRow</a>&nbsp;oldBaseRow,
      <a href="../../../../../../org/apache/derby/iapi/sql/execute/ExecRow.html" title="interface in org.apache.derby.iapi.sql.execute">ExecRow</a>&nbsp;newBaseRow,
      <a href="../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>&nbsp;baseRowLocation)</code>
<div class="block">Perform index maintenance to support an update of a base table row.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="irg">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>irg</h4>
<pre>private final&nbsp;<a href="../../../../../../org/apache/derby/iapi/sql/dictionary/IndexRowGenerator.html" title="class in org.apache.derby.iapi.sql.dictionary">IndexRowGenerator</a> irg</pre>
</li>
</ul>
<a name="indexCID">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>indexCID</h4>
<pre>private final&nbsp;long indexCID</pre>
</li>
</ul>
<a name="indexDCOCI">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>indexDCOCI</h4>
<pre>private final&nbsp;<a href="../../../../../../org/apache/derby/iapi/store/access/DynamicCompiledOpenConglomInfo.html" title="interface in org.apache.derby.iapi.store.access">DynamicCompiledOpenConglomInfo</a> indexDCOCI</pre>
</li>
</ul>
<a name="indexSCOCI">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>indexSCOCI</h4>
<pre>private final&nbsp;<a href="../../../../../../org/apache/derby/iapi/store/access/StaticCompiledOpenConglomInfo.html" title="interface in org.apache.derby.iapi.store.access">StaticCompiledOpenConglomInfo</a> indexSCOCI</pre>
</li>
</ul>
<a name="indexName">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>indexName</h4>
<pre>private final&nbsp;java.lang.String indexName</pre>
</li>
</ul>
<a name="baseCC">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>baseCC</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html" title="interface in org.apache.derby.iapi.store.access">ConglomerateController</a> baseCC</pre>
</li>
</ul>
<a name="tc">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tc</h4>
<pre>private final&nbsp;<a href="../../../../../../org/apache/derby/iapi/store/access/TransactionController.html" title="interface in org.apache.derby.iapi.store.access">TransactionController</a> tc</pre>
</li>
</ul>
<a name="lockMode">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lockMode</h4>
<pre>private final&nbsp;int lockMode</pre>
</li>
</ul>
<a name="baseRowReadMap">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>baseRowReadMap</h4>
<pre>private final&nbsp;<a href="../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a> baseRowReadMap</pre>
</li>
</ul>
<a name="indexCC">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>indexCC</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html" title="interface in org.apache.derby.iapi.store.access">ConglomerateController</a> indexCC</pre>
</li>
</ul>
<a name="indexSC">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>indexSC</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/derby/iapi/store/access/ScanController.html" title="interface in org.apache.derby.iapi.store.access">ScanController</a> indexSC</pre>
</li>
</ul>
<a name="ourIndexRow">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ourIndexRow</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/derby/iapi/sql/execute/ExecIndexRow.html" title="interface in org.apache.derby.iapi.sql.execute">ExecIndexRow</a> ourIndexRow</pre>
</li>
</ul>
<a name="ourUpdatedIndexRow">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ourUpdatedIndexRow</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/derby/iapi/sql/execute/ExecIndexRow.html" title="interface in org.apache.derby.iapi.sql.execute">ExecIndexRow</a> ourUpdatedIndexRow</pre>
</li>
</ul>
<a name="rowHolder">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rowHolder</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/derby/impl/sql/execute/TemporaryRowHolderImpl.html" title="class in org.apache.derby.impl.sql.execute">TemporaryRowHolderImpl</a> rowHolder</pre>
</li>
</ul>
<a name="rowHolderPassedIn">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rowHolderPassedIn</h4>
<pre>private&nbsp;boolean rowHolderPassedIn</pre>
</li>
</ul>
<a name="isolationLevel">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isolationLevel</h4>
<pre>private&nbsp;int isolationLevel</pre>
</li>
</ul>
<a name="activation">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>activation</h4>
<pre>private final&nbsp;<a href="../../../../../../org/apache/derby/iapi/sql/Activation.html" title="interface in org.apache.derby.iapi.sql">Activation</a> activation</pre>
</li>
</ul>
<a name="ownIndexSC">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ownIndexSC</h4>
<pre>private&nbsp;boolean ownIndexSC</pre>
</li>
</ul>
<a name="deferrable">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deferrable</h4>
<pre>private final&nbsp;boolean deferrable</pre>
</li>
</ul>
<a name="lcc">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lcc</h4>
<pre>private final&nbsp;<a href="../../../../../../org/apache/derby/iapi/sql/conn/LanguageConnectionContext.html" title="interface in org.apache.derby.iapi.sql.conn">LanguageConnectionContext</a> lcc</pre>
</li>
</ul>
<a name="deferredDuplicates">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deferredDuplicates</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/derby/iapi/store/access/BackingStoreHashtable.html" title="class in org.apache.derby.iapi.store.access">BackingStoreHashtable</a> deferredDuplicates</pre>
</li>
</ul>
<a name="uniqueConstraintId">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>uniqueConstraintId</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/derby/catalog/UUID.html" title="interface in org.apache.derby.catalog">UUID</a> uniqueConstraintId</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="IndexChanger-org.apache.derby.iapi.sql.dictionary.IndexRowGenerator-long-org.apache.derby.iapi.store.access.StaticCompiledOpenConglomInfo-org.apache.derby.iapi.store.access.DynamicCompiledOpenConglomInfo-java.lang.String-org.apache.derby.iapi.store.access.ConglomerateController-org.apache.derby.iapi.store.access.TransactionController-int-org.apache.derby.iapi.services.io.FormatableBitSet-int-org.apache.derby.iapi.sql.Activation-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>IndexChanger</h4>
<pre>IndexChanger(<a href="../../../../../../org/apache/derby/iapi/sql/dictionary/IndexRowGenerator.html" title="class in org.apache.derby.iapi.sql.dictionary">IndexRowGenerator</a>&nbsp;irg,
             long&nbsp;indexCID,
             <a href="../../../../../../org/apache/derby/iapi/store/access/StaticCompiledOpenConglomInfo.html" title="interface in org.apache.derby.iapi.store.access">StaticCompiledOpenConglomInfo</a>&nbsp;indexSCOCI,
             <a href="../../../../../../org/apache/derby/iapi/store/access/DynamicCompiledOpenConglomInfo.html" title="interface in org.apache.derby.iapi.store.access">DynamicCompiledOpenConglomInfo</a>&nbsp;indexDCOCI,
             java.lang.String&nbsp;indexName,
             <a href="../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html" title="interface in org.apache.derby.iapi.store.access">ConglomerateController</a>&nbsp;baseCC,
             <a href="../../../../../../org/apache/derby/iapi/store/access/TransactionController.html" title="interface in org.apache.derby.iapi.store.access">TransactionController</a>&nbsp;tc,
             int&nbsp;lockMode,
             <a href="../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a>&nbsp;baseRowReadMap,
             int&nbsp;isolationLevel,
             <a href="../../../../../../org/apache/derby/iapi/sql/Activation.html" title="interface in org.apache.derby.iapi.sql">Activation</a>&nbsp;activation)
      throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Create an IndexChanger</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>irg</code> - the IndexRowGenerator for the index.</dd>
<dd><code>indexCID</code> - the conglomerate id for the index.</dd>
<dd><code>indexSCOCI</code> - the SCOCI for the indexes.</dd>
<dd><code>indexDCOCI</code> - the DCOCI for the indexes.</dd>
<dd><code>baseCC</code> - the ConglomerateController for the base table.</dd>
<dd><code>tc</code> - The TransactionController</dd>
<dd><code>lockMode</code> - The lock mode (granularity) to use</dd>
<dd><code>baseRowReadMap</code> - Map of columns read in.  1 based.</dd>
<dd><code>isolationLevel</code> - Isolation level to use.</dd>
<dd><code>activation</code> - Current activation</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Thrown on error</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setRowHolder-org.apache.derby.impl.sql.execute.TemporaryRowHolderImpl-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRowHolder</h4>
<pre>void&nbsp;setRowHolder(<a href="../../../../../../org/apache/derby/impl/sql/execute/TemporaryRowHolderImpl.html" title="class in org.apache.derby.impl.sql.execute">TemporaryRowHolderImpl</a>&nbsp;rowHolder)</pre>
<div class="block">Set the row holder for this changer to use.
 If the row holder is set, it wont bother 
 saving copies of rows needed for deferred
 processing.  Also, it will never close the
 passed in rowHolder.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rowHolder</code> - the row holder</dd>
</dl>
</li>
</ul>
<a name="setBaseCC-org.apache.derby.iapi.store.access.ConglomerateController-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setBaseCC</h4>
<pre>void&nbsp;setBaseCC(<a href="../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html" title="interface in org.apache.derby.iapi.store.access">ConglomerateController</a>&nbsp;baseCC)</pre>
<div class="block">Propagate the heap's ConglomerateController to
 this index changer.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>baseCC</code> - The heap's ConglomerateController.</dd>
</dl>
</li>
</ul>
<a name="setOurIndexRow-org.apache.derby.iapi.sql.execute.ExecRow-org.apache.derby.iapi.types.RowLocation-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setOurIndexRow</h4>
<pre>private&nbsp;void&nbsp;setOurIndexRow(<a href="../../../../../../org/apache/derby/iapi/sql/execute/ExecRow.html" title="interface in org.apache.derby.iapi.sql.execute">ExecRow</a>&nbsp;baseRow,
                            <a href="../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>&nbsp;baseRowLoc)
                     throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Set the column values for 'ourIndexRow' to refer to 
          a base table row and location provided by the caller.
          The idea here is to</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>baseRow</code> - a base table row.</dd>
<dd><code>baseRowLoc</code> - baseRowLoc baseRow's location</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Thrown on error</dd>
</dl>
</li>
</ul>
<a name="setOurUpdatedIndexRow-org.apache.derby.iapi.sql.execute.ExecRow-org.apache.derby.iapi.types.RowLocation-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setOurUpdatedIndexRow</h4>
<pre>private&nbsp;void&nbsp;setOurUpdatedIndexRow(<a href="../../../../../../org/apache/derby/iapi/sql/execute/ExecRow.html" title="interface in org.apache.derby.iapi.sql.execute">ExecRow</a>&nbsp;baseRow,
                                   <a href="../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>&nbsp;baseRowLoc)
                            throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Set the column values for 'ourUpdatedIndexRow' to refer to 
          a base table row and location provided by the caller.
          The idea here is to</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>baseRow</code> - a base table row.</dd>
<dd><code>baseRowLoc</code> - baseRowLoc baseRow's location</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Thrown on error</dd>
</dl>
</li>
</ul>
<a name="indexRowChanged--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>indexRowChanged</h4>
<pre>private&nbsp;boolean&nbsp;indexRowChanged()
                         throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Determine whether or not any columns in the current index
 row are being changed by the update.  No need to update the
 index if no columns changed.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Nothing.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Thrown on error</dd>
</dl>
</li>
</ul>
<a name="setScan--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setScan</h4>
<pre>private&nbsp;void&nbsp;setScan()
              throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Position our index scan to 'ourIndexRow'.

          <P>This creates the scan the first time it is called.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Thrown on error</dd>
</dl>
</li>
</ul>
<a name="closeIndexCC--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeIndexCC</h4>
<pre>private&nbsp;void&nbsp;closeIndexCC()
                   throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Close our index Conglomerate Controller</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="closeIndexSC--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeIndexSC</h4>
<pre>private&nbsp;void&nbsp;closeIndexSC()
                   throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Close our index ScanController.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="doDelete--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doDelete</h4>
<pre>private&nbsp;void&nbsp;doDelete()
               throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Delete a row from our index. This assumes our index ScanController
          is positioned before the row by setScan if we own the SC, otherwise
          it is positioned on the row by the underlying index scan.
          
          <P>This verifies the row exists and is unique.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Thrown on error</dd>
</dl>
</li>
</ul>
<a name="doInsert--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doInsert</h4>
<pre>private&nbsp;void&nbsp;doInsert()
               throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Insert a row into our indes.
          
          <P>This opens our index ConglomeratController the first time it
          is called.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Thrown on error</dd>
</dl>
</li>
</ul>
<a name="doDeferredInsert--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doDeferredInsert</h4>
<pre>private&nbsp;void&nbsp;doDeferredInsert()
                       throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Insert a row into the temporary conglomerate
          
          <P>This opens our deferred ConglomeratController the first time it
          is called.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Thrown on error</dd>
</dl>
</li>
</ul>
<a name="getUniqueConstraintId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUniqueConstraintId</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/derby/catalog/UUID.html" title="interface in org.apache.derby.catalog">UUID</a>&nbsp;getUniqueConstraintId()
                            throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="insertAndCheckDups-org.apache.derby.iapi.sql.execute.ExecIndexRow-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertAndCheckDups</h4>
<pre>private&nbsp;void&nbsp;insertAndCheckDups(<a href="../../../../../../org/apache/derby/iapi/sql/execute/ExecIndexRow.html" title="interface in org.apache.derby.iapi.sql.execute">ExecIndexRow</a>&nbsp;row)
                         throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Insert the given row into the given conglomerate and check for duplicate
 key error.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>row</code> - The row to insert</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Thrown on duplicate key error unless
                                  we have a deferred constraint. In that
                                  index rows are saved for checking
                                  on commit.</dd>
</dl>
</li>
</ul>
<a name="openIndexCC--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openIndexCC</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/derby/iapi/store/access/ConglomerateController.html" title="interface in org.apache.derby.iapi.store.access">ConglomerateController</a>&nbsp;openIndexCC()
                                    throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Open the ConglomerateController for this index if it isn't open yet.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The ConglomerateController for this index.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Thrown on duplicate key error</dd>
</dl>
</li>
</ul>
<a name="open--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>open</h4>
<pre>void&nbsp;open()
   throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Open this IndexChanger.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Thrown on error</dd>
</dl>
</li>
</ul>
<a name="delete-org.apache.derby.iapi.sql.execute.ExecRow-org.apache.derby.iapi.types.RowLocation-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delete</h4>
<pre>void&nbsp;delete(<a href="../../../../../../org/apache/derby/iapi/sql/execute/ExecRow.html" title="interface in org.apache.derby.iapi.sql.execute">ExecRow</a>&nbsp;baseRow,
            <a href="../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>&nbsp;baseRowLocation)
     throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Perform index maintenance to support a delete of a base table row.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>baseRow</code> - the base table row.</dd>
<dd><code>baseRowLocation</code> - the base table row's location.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Thrown on error</dd>
</dl>
</li>
</ul>
<a name="update-org.apache.derby.iapi.sql.execute.ExecRow-org.apache.derby.iapi.sql.execute.ExecRow-org.apache.derby.iapi.types.RowLocation-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>update</h4>
<pre>void&nbsp;update(<a href="../../../../../../org/apache/derby/iapi/sql/execute/ExecRow.html" title="interface in org.apache.derby.iapi.sql.execute">ExecRow</a>&nbsp;oldBaseRow,
            <a href="../../../../../../org/apache/derby/iapi/sql/execute/ExecRow.html" title="interface in org.apache.derby.iapi.sql.execute">ExecRow</a>&nbsp;newBaseRow,
            <a href="../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>&nbsp;baseRowLocation)
     throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Perform index maintenance to support an update of a base table row.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>oldBaseRow</code> - the old image of the base table row.</dd>
<dd><code>newBaseRow</code> - the new image of the base table row.</dd>
<dd><code>baseRowLocation</code> - the base table row's location.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Thrown on error</dd>
</dl>
</li>
</ul>
<a name="insert-org.apache.derby.iapi.sql.execute.ExecRow-org.apache.derby.iapi.types.RowLocation-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insert</h4>
<pre>void&nbsp;insert(<a href="../../../../../../org/apache/derby/iapi/sql/execute/ExecRow.html" title="interface in org.apache.derby.iapi.sql.execute">ExecRow</a>&nbsp;newRow,
            <a href="../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>&nbsp;baseRowLocation)
     throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Perform index maintenance to support an insert of a base table row.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>newRow</code> - the base table row.</dd>
<dd><code>baseRowLocation</code> - the base table row's location.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Thrown on error</dd>
</dl>
</li>
</ul>
<a name="insertForUpdate-org.apache.derby.iapi.sql.execute.ExecRow-org.apache.derby.iapi.types.RowLocation-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertForUpdate</h4>
<pre>void&nbsp;insertForUpdate(<a href="../../../../../../org/apache/derby/iapi/sql/execute/ExecRow.html" title="interface in org.apache.derby.iapi.sql.execute">ExecRow</a>&nbsp;newRow,
                     <a href="../../../../../../org/apache/derby/iapi/types/RowLocation.html" title="interface in org.apache.derby.iapi.types">RowLocation</a>&nbsp;baseRowLocation)
              throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">If we're updating a unique index, the inserts have to be
          deferred.  This is to avoid uniqueness violations that are only
          temporary.  If we do all the deletes first, only "true" uniqueness
          violations can happen.  We do this here, rather than in open(),
          because this is the only operation that requires deferred inserts,
          and we only want to create the conglomerate if necessary.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>newRow</code> - the base table row.</dd>
<dd><code>baseRowLocation</code> - the base table row's location.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Thrown on error</dd>
</dl>
</li>
</ul>
<a name="finish--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finish</h4>
<pre>void&nbsp;finish()
     throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Finish doing the changes for this index.  This is intended for deferred
          inserts for unique indexes.  It has no effect unless we are doing an
          update of a unique index.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Thrown on error</dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>close</h4>
<pre>void&nbsp;close()
    throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Close this IndexChanger.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Thrown on error</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Built on Mon 2017-07-03 23:03:59+0530, from revision Unversioned directory</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/derby/impl/sql/execute/HashTableResultSet.html" title="class in org.apache.derby.impl.sql.execute"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/apache/derby/impl/sql/execute/IndexColumnOrder.html" title="class in org.apache.derby.impl.sql.execute"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/derby/impl/sql/execute/IndexChanger.html" target="_top">Frames</a></li>
<li><a href="IndexChanger.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Apache Derby V10.13 Internals - <i>Copyright &copy; 2004,2016 The Apache Software Foundation. All Rights Reserved.</i></small></p>
</body>
</html>
