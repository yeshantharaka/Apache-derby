<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_66) on Mon Jul 03 23:04:49 IST 2017 -->
<title>OptimizerImpl (Apache Derby V10.13 Internals)</title>
<meta name="date" content="2017-07-03">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="OptimizerImpl (Apache Derby V10.13 Internals)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":9,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10,"i34":10,"i35":10,"i36":10,"i37":10,"i38":10,"i39":10,"i40":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerFactoryImpl.html" title="class in org.apache.derby.impl.sql.compile"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerTracer.html" title="class in org.apache.derby.impl.sql.compile"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/derby/impl/sql/compile/OptimizerImpl.html" target="_top">Frames</a></li>
<li><a href="OptimizerImpl.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.derby.impl.sql.compile</div>
<h2 title="Class OptimizerImpl" class="title">Class OptimizerImpl</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.derby.impl.sql.compile.OptimizerImpl</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizer</a></dd>
</dl>
<hr>
<br>
<pre>class <span class="typeNameLabel">OptimizerImpl</span>
extends java.lang.Object
implements <a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizer</a></pre>
<div class="block">Optimizer uses OptimizableList to keep track of the best join order as it
 builds it.  For each available slot in the join order, we cost all of the
 Optimizables from that slot til the end of the OptimizableList.  Later,
 we will choose the best Optimizable for that slot and reorder the list
 accordingly.
 In order to do this, we probably need to move the temporary pushing and
 pulling of join clauses into Optimizer, since the logic will be different
 for other implementations.  (Of course, we're not pushing and pulling join
 clauses between permutations yet.)</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/iapi/util/JBitSet.html" title="class in org.apache.derby.iapi.util">JBitSet</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#assignedTableMap">assignedTableMap</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/impl/sql/compile/CostEstimateImpl.html" title="class in org.apache.derby.impl.sql.compile">CostEstimateImpl</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#bestCost">bestCost</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#bestJoinOrder">bestJoinOrder</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#bestJoinOrderUsedPredsFromAbove">bestJoinOrderUsedPredsFromAbove</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/iapi/sql/compile/RowOrdering.html" title="interface in org.apache.derby.iapi.sql.compile">RowOrdering</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#bestRowOrdering">bestRowOrdering</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/impl/sql/compile/CostEstimateImpl.html" title="class in org.apache.derby.impl.sql.compile">CostEstimateImpl</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#currentCost">currentCost</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/iapi/sql/compile/OptimizerPlan.html" title="class in org.apache.derby.iapi.sql.compile">OptimizerPlan</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#currentPlan">currentPlan</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/iapi/sql/compile/RowOrdering.html" title="interface in org.apache.derby.iapi.sql.compile">RowOrdering</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#currentRowOrdering">currentRowOrdering</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/impl/sql/compile/CostEstimateImpl.html" title="class in org.apache.derby.impl.sql.compile">CostEstimateImpl</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#currentSortAvoidanceCost">currentSortAvoidanceCost</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#currentTime">currentTime</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/iapi/sql/dictionary/DataDictionary.html" title="interface in org.apache.derby.iapi.sql.dictionary">DataDictionary</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#dDictionary">dDictionary</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#desiredJoinOrderFound">desiredJoinOrderFound</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/iapi/sql/compile/CostEstimate.html" title="interface in org.apache.derby.iapi.sql.compile">CostEstimate</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#finalCostEstimate">finalCostEstimate</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#firstLookOrder">firstLookOrder</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#foundABestPlan">foundABestPlan</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#joinPosition">joinPosition</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/iapi/sql/compile/JoinStrategy.html" title="interface in org.apache.derby.iapi.sql.compile">JoinStrategy</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#joinStrategies">joinStrategies</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#JUMPING">JUMPING</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/iapi/sql/conn/LanguageConnectionContext.html" title="interface in org.apache.derby.iapi.sql.conn">LanguageConnectionContext</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#lcc">lcc</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#maxMemoryPerTable">maxMemoryPerTable</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#NO_JUMP">NO_JUMP</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/iapi/util/JBitSet.html" title="class in org.apache.derby.iapi.util">JBitSet</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#nonCorrelatedTableMap">nonCorrelatedTableMap</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#noTimeout">noTimeout</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#numOptimizables">numOptimizables</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#numTablesInQuery">numTablesInQuery</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/iapi/sql/compile/OptimizableList.html" title="interface in org.apache.derby.iapi.sql.compile">OptimizableList</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#optimizableList">optimizableList</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/impl/sql/compile/CostEstimateImpl.html" title="class in org.apache.derby.impl.sql.compile">CostEstimateImpl</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#outermostCostEstimate">outermostCostEstimate</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/iapi/sql/compile/OptimizerPlan.html" title="class in org.apache.derby.iapi.sql.compile">OptimizerPlan</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#overridingPlan">overridingPlan</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#permuteState">permuteState</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/iapi/sql/compile/OptimizablePredicateList.html" title="interface in org.apache.derby.iapi.sql.compile">OptimizablePredicateList</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#predicateList">predicateList</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#proposedJoinOrder">proposedJoinOrder</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#READY_TO_JUMP">READY_TO_JUMP</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#reloadBestPlan">reloadBestPlan</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/iapi/sql/compile/RequiredRowOrdering.html" title="interface in org.apache.derby.iapi.sql.compile">RequiredRowOrdering</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#requiredRowOrdering">requiredRowOrdering</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#ruleBasedOptimization">ruleBasedOptimization</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.HashMap&lt;java.lang.Object,int[]&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#savedJoinOrders">savedJoinOrders</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/iapi/sql/compile/CostEstimate.html" title="interface in org.apache.derby.iapi.sql.compile">CostEstimate</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#sortCost">sortCost</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#tableLockThreshold">tableLockThreshold</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#timeExceeded">timeExceeded</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#timeLimit">timeLimit</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#timeOptimizationStarted">timeOptimizationStarted</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#useStatistics">useStatistics</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#usingPredsPushedFromAbove">usingPredsPushedFromAbove</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#WALK_HIGH">WALK_HIGH</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#WALK_LOW">WALK_LOW</a></span></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.apache.derby.iapi.sql.compile.Optimizer">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;org.apache.derby.iapi.sql.compile.<a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizer</a></h3>
<code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#JOIN_ORDER_OPTIMIZATION">JOIN_ORDER_OPTIMIZATION</a>, <a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#MAX_DYNAMIC_MATERIALIZED_ROWS">MAX_DYNAMIC_MATERIALIZED_ROWS</a>, <a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#MAX_MEMORY_PER_TABLE">MAX_MEMORY_PER_TABLE</a>, <a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#MODULE">MODULE</a>, <a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#NO_TIMEOUT">NO_TIMEOUT</a>, <a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#NORMAL_PLAN">NORMAL_PLAN</a>, <a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#RULE_BASED_OPTIMIZATION">RULE_BASED_OPTIMIZATION</a>, <a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#SORT_AVOIDANCE_PLAN">SORT_AVOIDANCE_PLAN</a>, <a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#USE_STATISTICS">USE_STATISTICS</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#OptimizerImpl-org.apache.derby.iapi.sql.compile.OptimizableList-org.apache.derby.iapi.sql.compile.OptimizablePredicateList-org.apache.derby.iapi.sql.dictionary.DataDictionary-boolean-boolean-boolean-int-org.apache.derby.iapi.sql.compile.JoinStrategy:A-int-org.apache.derby.iapi.sql.compile.RequiredRowOrdering-int-org.apache.derby.iapi.sql.compile.OptimizerPlan-org.apache.derby.iapi.sql.conn.LanguageConnectionContext-">OptimizerImpl</a></span>(<a href="../../../../../../org/apache/derby/iapi/sql/compile/OptimizableList.html" title="interface in org.apache.derby.iapi.sql.compile">OptimizableList</a>&nbsp;optimizableList,
             <a href="../../../../../../org/apache/derby/iapi/sql/compile/OptimizablePredicateList.html" title="interface in org.apache.derby.iapi.sql.compile">OptimizablePredicateList</a>&nbsp;predicateList,
             <a href="../../../../../../org/apache/derby/iapi/sql/dictionary/DataDictionary.html" title="interface in org.apache.derby.iapi.sql.dictionary">DataDictionary</a>&nbsp;dDictionary,
             boolean&nbsp;ruleBasedOptimization,
             boolean&nbsp;noTimeout,
             boolean&nbsp;useStatistics,
             int&nbsp;maxMemoryPerTable,
             <a href="../../../../../../org/apache/derby/iapi/sql/compile/JoinStrategy.html" title="interface in org.apache.derby.iapi.sql.compile">JoinStrategy</a>[]&nbsp;joinStrategies,
             int&nbsp;tableLockThreshold,
             <a href="../../../../../../org/apache/derby/iapi/sql/compile/RequiredRowOrdering.html" title="interface in org.apache.derby.iapi.sql.compile">RequiredRowOrdering</a>&nbsp;requiredRowOrdering,
             int&nbsp;numTablesInQuery,
             <a href="../../../../../../org/apache/derby/iapi/sql/compile/OptimizerPlan.html" title="class in org.apache.derby.iapi.sql.compile">OptimizerPlan</a>&nbsp;overridingPlan,
             <a href="../../../../../../org/apache/derby/iapi/sql/conn/LanguageConnectionContext.html" title="interface in org.apache.derby.iapi.sql.conn">LanguageConnectionContext</a>&nbsp;lcc)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#addScopedPredicatesToList-org.apache.derby.impl.sql.compile.PredicateList-org.apache.derby.iapi.services.context.ContextManager-">addScopedPredicatesToList</a></span>(<a href="../../../../../../org/apache/derby/impl/sql/compile/PredicateList.html" title="class in org.apache.derby.impl.sql.compile">PredicateList</a>&nbsp;pList,
                         <a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.html" title="class in org.apache.derby.iapi.services.context">ContextManager</a>&nbsp;cm)</code>
<div class="block">Add scoped predicates to this optimizer's predicateList.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#considerCost-org.apache.derby.iapi.sql.compile.Optimizable-org.apache.derby.iapi.sql.compile.OptimizablePredicateList-org.apache.derby.iapi.sql.compile.CostEstimate-org.apache.derby.iapi.sql.compile.CostEstimate-">considerCost</a></span>(<a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizable.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizable</a>&nbsp;optimizable,
            <a href="../../../../../../org/apache/derby/iapi/sql/compile/OptimizablePredicateList.html" title="interface in org.apache.derby.iapi.sql.compile">OptimizablePredicateList</a>&nbsp;predList,
            <a href="../../../../../../org/apache/derby/iapi/sql/compile/CostEstimate.html" title="interface in org.apache.derby.iapi.sql.compile">CostEstimate</a>&nbsp;estimatedCost,
            <a href="../../../../../../org/apache/derby/iapi/sql/compile/CostEstimate.html" title="interface in org.apache.derby.iapi.sql.compile">CostEstimate</a>&nbsp;outerCost)</code>
<div class="block">This is the version of costOptimizable for non-base-tables.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#costBasedCostOptimizable-org.apache.derby.iapi.sql.compile.Optimizable-org.apache.derby.iapi.sql.dictionary.TableDescriptor-org.apache.derby.iapi.sql.dictionary.ConglomerateDescriptor-org.apache.derby.iapi.sql.compile.OptimizablePredicateList-org.apache.derby.iapi.sql.compile.CostEstimate-">costBasedCostOptimizable</a></span>(<a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizable.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizable</a>&nbsp;optimizable,
                        <a href="../../../../../../org/apache/derby/iapi/sql/dictionary/TableDescriptor.html" title="class in org.apache.derby.iapi.sql.dictionary">TableDescriptor</a>&nbsp;td,
                        <a href="../../../../../../org/apache/derby/iapi/sql/dictionary/ConglomerateDescriptor.html" title="class in org.apache.derby.iapi.sql.dictionary">ConglomerateDescriptor</a>&nbsp;cd,
                        <a href="../../../../../../org/apache/derby/iapi/sql/compile/OptimizablePredicateList.html" title="interface in org.apache.derby.iapi.sql.compile">OptimizablePredicateList</a>&nbsp;predList,
                        <a href="../../../../../../org/apache/derby/iapi/sql/compile/CostEstimate.html" title="interface in org.apache.derby.iapi.sql.compile">CostEstimate</a>&nbsp;outerCost)</code>
<div class="block">This method decides whether the given conglomerate descriptor is
 cheapest based on cost, rather than based on rules.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#costOptimizable-org.apache.derby.iapi.sql.compile.Optimizable-org.apache.derby.iapi.sql.dictionary.TableDescriptor-org.apache.derby.iapi.sql.dictionary.ConglomerateDescriptor-org.apache.derby.iapi.sql.compile.OptimizablePredicateList-org.apache.derby.iapi.sql.compile.CostEstimate-">costOptimizable</a></span>(<a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizable.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizable</a>&nbsp;optimizable,
               <a href="../../../../../../org/apache/derby/iapi/sql/dictionary/TableDescriptor.html" title="class in org.apache.derby.iapi.sql.dictionary">TableDescriptor</a>&nbsp;td,
               <a href="../../../../../../org/apache/derby/iapi/sql/dictionary/ConglomerateDescriptor.html" title="class in org.apache.derby.iapi.sql.dictionary">ConglomerateDescriptor</a>&nbsp;cd,
               <a href="../../../../../../org/apache/derby/iapi/sql/compile/OptimizablePredicateList.html" title="interface in org.apache.derby.iapi.sql.compile">OptimizablePredicateList</a>&nbsp;predList,
               <a href="../../../../../../org/apache/derby/iapi/sql/compile/CostEstimate.html" title="interface in org.apache.derby.iapi.sql.compile">CostEstimate</a>&nbsp;outerCost)</code>
<div class="block">Cost the current Optimizable with the specified OPL.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#costPermutation--">costPermutation</a></span>()</code>
<div class="block">Cost the current permutation.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#endOfRoundCleanup--">endOfRoundCleanup</a></span>()</code>
<div class="block">Do any work that needs to be done after the current round
 of optimization has completed.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/iapi/sql/compile/CostEstimate.html" title="interface in org.apache.derby.iapi.sql.compile">CostEstimate</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#estimateTotalCost-org.apache.derby.iapi.sql.compile.OptimizablePredicateList-org.apache.derby.iapi.sql.dictionary.ConglomerateDescriptor-org.apache.derby.iapi.sql.compile.CostEstimate-org.apache.derby.iapi.sql.compile.Optimizable-">estimateTotalCost</a></span>(<a href="../../../../../../org/apache/derby/iapi/sql/compile/OptimizablePredicateList.html" title="interface in org.apache.derby.iapi.sql.compile">OptimizablePredicateList</a>&nbsp;predList,
                 <a href="../../../../../../org/apache/derby/iapi/sql/dictionary/ConglomerateDescriptor.html" title="class in org.apache.derby.iapi.sql.dictionary">ConglomerateDescriptor</a>&nbsp;cd,
                 <a href="../../../../../../org/apache/derby/iapi/sql/compile/CostEstimate.html" title="interface in org.apache.derby.iapi.sql.compile">CostEstimate</a>&nbsp;outerCost,
                 <a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizable.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizable</a>&nbsp;optimizable)</code>
<div class="block">Estimate the total cost of doing a join with the given optimizable.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/sql/dictionary/DataDictionary.html" title="interface in org.apache.derby.iapi.sql.dictionary">DataDictionary</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#getDataDictionary--">getDataDictionary</a></span>()</code>
<div class="block">Return the DataDictionary that the Optimizer is using.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/sql/compile/CostEstimate.html" title="interface in org.apache.derby.iapi.sql.compile">CostEstimate</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#getFinalCost--">getFinalCost</a></span>()</code>
<div class="block">Get the final estimated cost of the optimized query.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/sql/compile/JoinStrategy.html" title="interface in org.apache.derby.iapi.sql.compile">JoinStrategy</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#getJoinStrategy-int-">getJoinStrategy</a></span>(int&nbsp;whichStrategy)</code>
<div class="block">Gets a join strategy by number (zero-based).</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/sql/compile/JoinStrategy.html" title="interface in org.apache.derby.iapi.sql.compile">JoinStrategy</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#getJoinStrategy-java.lang.String-">getJoinStrategy</a></span>(java.lang.String&nbsp;whichStrategy)</code>
<div class="block">Gets a join strategy by name.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#getLevel--">getLevel</a></span>()</code>
<div class="block">Get the level of this optimizer.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#getMaxMemoryPerTable--">getMaxMemoryPerTable</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>(package private) <a href="../../../../../../org/apache/derby/impl/sql/compile/CostEstimateImpl.html" title="class in org.apache.derby.impl.sql.compile">CostEstimateImpl</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#getNewCostEstimate-double-double-double-">getNewCostEstimate</a></span>(double&nbsp;theCost,
                  double&nbsp;theRowCount,
                  double&nbsp;theSingleScanRowCount)</code>&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#getNextDecoratedPermutation--">getNextDecoratedPermutation</a></span>()</code>
<div class="block">Iterate through the "decorated permutations", returning false when they
 are exhausted.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#getNextPermutation--">getNextPermutation</a></span>()</code>
<div class="block">Iterate through the permutations, returning false when the permutations
 are exhausted.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#getNumberOfJoinStrategies--">getNumberOfJoinStrategies</a></span>()</code>
<div class="block">Get the number of join strategies supported by this optimizer.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizable.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizable</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#getOptimizable-int-">getOptimizable</a></span>(int&nbsp;idx)</code>
<div class="block">Get the ith (0-based) Optimizable being considered by this Optimizer.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#getOptimizableCount--">getOptimizableCount</a></span>()</code>
<div class="block">Get the number of optimizables being considered by this Optimizer.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/sql/compile/CostEstimate.html" title="interface in org.apache.derby.iapi.sql.compile">CostEstimate</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#getOptimizedCost--">getOptimizedCost</a></span>()</code>
<div class="block">Get the estimated cost of the optimized query</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/iapi/sql/dictionary/UniqueTupleDescriptor.html" title="class in org.apache.derby.iapi.sql.dictionary">UniqueTupleDescriptor</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#getTupleDescriptor-org.apache.derby.iapi.sql.compile.Optimizable-">getTupleDescriptor</a></span>(<a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizable.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizable</a>&nbsp;optimizable)</code>
<div class="block">Get the unique tuple descriptor of the current access path for an Optimizable.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#initJumpState--">initJumpState</a></span>()</code>
<div class="block">Determine if we want to try "jumping" permutations with this
 OptimizerImpl, and (re-)initialize the permuteState field accordingly.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#isPushable-org.apache.derby.iapi.sql.compile.OptimizablePredicate-">isPushable</a></span>(<a href="../../../../../../org/apache/derby/iapi/sql/compile/OptimizablePredicate.html" title="interface in org.apache.derby.iapi.sql.compile">OptimizablePredicate</a>&nbsp;pred)</code>&nbsp;</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>(package private) static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#isTableFunction-org.apache.derby.iapi.sql.compile.Optimizable-">isTableFunction</a></span>(<a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizable.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizable</a>&nbsp;optimizable)</code>
<div class="block">Return true if the optimizable is a table function</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#joinOrderMeetsDependencies-int-">joinOrderMeetsDependencies</a></span>(int&nbsp;optNumber)</code>
<div class="block">Check to see if the optimizable corresponding to the received
 optNumber can legally be placed within the current join order.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#modifyAccessPaths--">modifyAccessPaths</a></span>()</code>
<div class="block">Modify the access path for each Optimizable, as necessary.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/iapi/sql/compile/CostEstimate.html" title="interface in org.apache.derby.iapi.sql.compile">CostEstimate</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#newCostEstimate--">newCostEstimate</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#prepForNextRound--">prepForNextRound</a></span>()</code>
<div class="block">This method is called before every "round" of optimization, where
 we define a "round" to be the period between the last time a call to
 getOptimizer() (on either a ResultSetNode or an OptimizerFactory)
 returned _this_ OptimizerImpl and the time a call to this OptimizerImpl's
 getNextPermutation() method returns FALSE.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#pullOptimizableFromJoinOrder--">pullOptimizableFromJoinOrder</a></span>()</code>
<div class="block">Pull whatever optimizable is at joinPosition in the proposed
 join order from the join order, and update all corresponding
 state accordingly.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#pushPredicates-org.apache.derby.iapi.sql.compile.Optimizable-org.apache.derby.iapi.util.JBitSet-">pushPredicates</a></span>(<a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizable.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizable</a>&nbsp;curTable,
              <a href="../../../../../../org/apache/derby/iapi/util/JBitSet.html" title="class in org.apache.derby.iapi.util">JBitSet</a>&nbsp;outerTables)</code>&nbsp;</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>private double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#recoverCostFromProposedJoinOrder-boolean-">recoverCostFromProposedJoinOrder</a></span>(boolean&nbsp;sortAvoidance)</code>
<div class="block">Iterate through all optimizables in the current proposedJoinOrder
 and find the accumulated sum of their estimated costs.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#rememberBestCost-org.apache.derby.iapi.sql.compile.CostEstimate-int-">rememberBestCost</a></span>(<a href="../../../../../../org/apache/derby/iapi/sql/compile/CostEstimate.html" title="interface in org.apache.derby.iapi.sql.compile">CostEstimate</a>&nbsp;currentCost,
                int&nbsp;planType)</code>
<div class="block">Is the cost of this join order lower than the best one we've
 found so far?</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#rewindJoinOrder--">rewindJoinOrder</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#ruleBasedCostOptimizable-org.apache.derby.iapi.sql.compile.Optimizable-org.apache.derby.iapi.sql.dictionary.TableDescriptor-org.apache.derby.iapi.sql.dictionary.ConglomerateDescriptor-org.apache.derby.iapi.sql.compile.OptimizablePredicateList-org.apache.derby.iapi.sql.compile.CostEstimate-">ruleBasedCostOptimizable</a></span>(<a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizable.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizable</a>&nbsp;optimizable,
                        <a href="../../../../../../org/apache/derby/iapi/sql/dictionary/TableDescriptor.html" title="class in org.apache.derby.iapi.sql.dictionary">TableDescriptor</a>&nbsp;td,
                        <a href="../../../../../../org/apache/derby/iapi/sql/dictionary/ConglomerateDescriptor.html" title="class in org.apache.derby.iapi.sql.dictionary">ConglomerateDescriptor</a>&nbsp;cd,
                        <a href="../../../../../../org/apache/derby/iapi/sql/compile/OptimizablePredicateList.html" title="interface in org.apache.derby.iapi.sql.compile">OptimizablePredicateList</a>&nbsp;predList,
                        <a href="../../../../../../org/apache/derby/iapi/sql/compile/CostEstimate.html" title="interface in org.apache.derby.iapi.sql.compile">CostEstimate</a>&nbsp;outerCost)</code>
<div class="block">This method decides whether the given conglomerate descriptor is
 cheapest based on rules, rather than based on cost estimates.</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#setOuterRows-double-">setOuterRows</a></span>(double&nbsp;outerRows)</code>
<div class="block">Set the estimated number of outer rows - good for optimizing nested
 optimizables like subqueries and join nodes.</div>
</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#tableLockThreshold--">tableLockThreshold</a></span>()</code>
<div class="block">Get the maximum number of estimated rows touched in a table before
 we decide to open the table with table locking (as opposed to row
 locking.</div>
</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/iapi/sql/compile/OptTrace.html" title="interface in org.apache.derby.iapi.sql.compile">OptTrace</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#tracer--">tracer</a></span>()</code>
<div class="block">Get the trace machinery</div>
</td>
</tr>
<tr id="i37" class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#tracingIsOn--">tracingIsOn</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i38" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#uniqueJoinWithOuterTable-org.apache.derby.iapi.sql.compile.OptimizablePredicateList-">uniqueJoinWithOuterTable</a></span>(<a href="../../../../../../org/apache/derby/iapi/sql/compile/OptimizablePredicateList.html" title="interface in org.apache.derby.iapi.sql.compile">OptimizablePredicateList</a>&nbsp;predList)</code>
<div class="block">Tells whether any of the tables outer to the current one
 has a uniqueness condition on the given predicate list,
 and if so, how many times each unique key can be seen by
 the current table.</div>
</td>
</tr>
<tr id="i39" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#updateBestPlanMaps-short-java.lang.Object-">updateBestPlanMaps</a></span>(short&nbsp;action,
                  java.lang.Object&nbsp;planKey)</code>
<div class="block">Process (i.e. add, load, or remove) current best join order as the
 best one for some outer query or ancestor node, represented by another
 OptimizerImpl or an instance of FromTable, respectively.</div>
</td>
</tr>
<tr id="i40" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerImpl.html#useStatistics--">useStatistics</a></span>()</code>
<div class="block">If statistics should be considered by the optimizer while optimizing 
 a query.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="lcc">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lcc</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/derby/iapi/sql/conn/LanguageConnectionContext.html" title="interface in org.apache.derby.iapi.sql.conn">LanguageConnectionContext</a> lcc</pre>
</li>
</ul>
<a name="dDictionary">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dDictionary</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/derby/iapi/sql/dictionary/DataDictionary.html" title="interface in org.apache.derby.iapi.sql.dictionary">DataDictionary</a> dDictionary</pre>
</li>
</ul>
<a name="numTablesInQuery">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numTablesInQuery</h4>
<pre>private&nbsp;int numTablesInQuery</pre>
</li>
</ul>
<a name="numOptimizables">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numOptimizables</h4>
<pre>private&nbsp;int numOptimizables</pre>
</li>
</ul>
<a name="assignedTableMap">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>assignedTableMap</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/derby/iapi/util/JBitSet.html" title="class in org.apache.derby.iapi.util">JBitSet</a> assignedTableMap</pre>
</li>
</ul>
<a name="optimizableList">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>optimizableList</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/derby/iapi/sql/compile/OptimizableList.html" title="interface in org.apache.derby.iapi.sql.compile">OptimizableList</a> optimizableList</pre>
</li>
</ul>
<a name="overridingPlan">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>overridingPlan</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/derby/iapi/sql/compile/OptimizerPlan.html" title="class in org.apache.derby.iapi.sql.compile">OptimizerPlan</a> overridingPlan</pre>
</li>
</ul>
<a name="currentPlan">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>currentPlan</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/derby/iapi/sql/compile/OptimizerPlan.html" title="class in org.apache.derby.iapi.sql.compile">OptimizerPlan</a> currentPlan</pre>
</li>
</ul>
<a name="predicateList">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>predicateList</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/derby/iapi/sql/compile/OptimizablePredicateList.html" title="interface in org.apache.derby.iapi.sql.compile">OptimizablePredicateList</a> predicateList</pre>
</li>
</ul>
<a name="nonCorrelatedTableMap">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nonCorrelatedTableMap</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/derby/iapi/util/JBitSet.html" title="class in org.apache.derby.iapi.util">JBitSet</a> nonCorrelatedTableMap</pre>
</li>
</ul>
<a name="proposedJoinOrder">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>proposedJoinOrder</h4>
<pre>private&nbsp;int[] proposedJoinOrder</pre>
</li>
</ul>
<a name="bestJoinOrder">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bestJoinOrder</h4>
<pre>private&nbsp;int[] bestJoinOrder</pre>
</li>
</ul>
<a name="joinPosition">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>joinPosition</h4>
<pre>private&nbsp;int joinPosition</pre>
</li>
</ul>
<a name="desiredJoinOrderFound">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>desiredJoinOrderFound</h4>
<pre>private&nbsp;boolean desiredJoinOrderFound</pre>
</li>
</ul>
<a name="NO_JUMP">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NO_JUMP</h4>
<pre>private static final&nbsp;int NO_JUMP</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.impl.sql.compile.OptimizerImpl.NO_JUMP">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="READY_TO_JUMP">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>READY_TO_JUMP</h4>
<pre>private static final&nbsp;int READY_TO_JUMP</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.impl.sql.compile.OptimizerImpl.READY_TO_JUMP">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="JUMPING">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>JUMPING</h4>
<pre>private static final&nbsp;int JUMPING</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.impl.sql.compile.OptimizerImpl.JUMPING">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="WALK_HIGH">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>WALK_HIGH</h4>
<pre>private static final&nbsp;int WALK_HIGH</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.impl.sql.compile.OptimizerImpl.WALK_HIGH">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="WALK_LOW">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>WALK_LOW</h4>
<pre>private static final&nbsp;int WALK_LOW</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.impl.sql.compile.OptimizerImpl.WALK_LOW">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="permuteState">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>permuteState</h4>
<pre>private&nbsp;int permuteState</pre>
</li>
</ul>
<a name="firstLookOrder">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>firstLookOrder</h4>
<pre>private&nbsp;int[] firstLookOrder</pre>
</li>
</ul>
<a name="ruleBasedOptimization">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ruleBasedOptimization</h4>
<pre>private&nbsp;boolean ruleBasedOptimization</pre>
</li>
</ul>
<a name="outermostCostEstimate">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>outermostCostEstimate</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/derby/impl/sql/compile/CostEstimateImpl.html" title="class in org.apache.derby.impl.sql.compile">CostEstimateImpl</a> outermostCostEstimate</pre>
</li>
</ul>
<a name="currentCost">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>currentCost</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/derby/impl/sql/compile/CostEstimateImpl.html" title="class in org.apache.derby.impl.sql.compile">CostEstimateImpl</a> currentCost</pre>
</li>
</ul>
<a name="currentSortAvoidanceCost">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>currentSortAvoidanceCost</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/derby/impl/sql/compile/CostEstimateImpl.html" title="class in org.apache.derby.impl.sql.compile">CostEstimateImpl</a> currentSortAvoidanceCost</pre>
</li>
</ul>
<a name="bestCost">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bestCost</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/derby/impl/sql/compile/CostEstimateImpl.html" title="class in org.apache.derby.impl.sql.compile">CostEstimateImpl</a> bestCost</pre>
</li>
</ul>
<a name="timeOptimizationStarted">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>timeOptimizationStarted</h4>
<pre>private&nbsp;long timeOptimizationStarted</pre>
</li>
</ul>
<a name="currentTime">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>currentTime</h4>
<pre>private&nbsp;long currentTime</pre>
</li>
</ul>
<a name="timeExceeded">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>timeExceeded</h4>
<pre>private&nbsp;boolean timeExceeded</pre>
</li>
</ul>
<a name="noTimeout">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>noTimeout</h4>
<pre>private&nbsp;boolean noTimeout</pre>
</li>
</ul>
<a name="useStatistics">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>useStatistics</h4>
<pre>private&nbsp;boolean useStatistics</pre>
</li>
</ul>
<a name="tableLockThreshold">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tableLockThreshold</h4>
<pre>private&nbsp;int tableLockThreshold</pre>
</li>
</ul>
<a name="joinStrategies">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>joinStrategies</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/derby/iapi/sql/compile/JoinStrategy.html" title="interface in org.apache.derby.iapi.sql.compile">JoinStrategy</a>[] joinStrategies</pre>
</li>
</ul>
<a name="requiredRowOrdering">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requiredRowOrdering</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/derby/iapi/sql/compile/RequiredRowOrdering.html" title="interface in org.apache.derby.iapi.sql.compile">RequiredRowOrdering</a> requiredRowOrdering</pre>
</li>
</ul>
<a name="foundABestPlan">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>foundABestPlan</h4>
<pre>private&nbsp;boolean foundABestPlan</pre>
</li>
</ul>
<a name="sortCost">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sortCost</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/derby/iapi/sql/compile/CostEstimate.html" title="interface in org.apache.derby.iapi.sql.compile">CostEstimate</a> sortCost</pre>
</li>
</ul>
<a name="currentRowOrdering">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>currentRowOrdering</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/derby/iapi/sql/compile/RowOrdering.html" title="interface in org.apache.derby.iapi.sql.compile">RowOrdering</a> currentRowOrdering</pre>
</li>
</ul>
<a name="bestRowOrdering">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bestRowOrdering</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/derby/iapi/sql/compile/RowOrdering.html" title="interface in org.apache.derby.iapi.sql.compile">RowOrdering</a> bestRowOrdering</pre>
</li>
</ul>
<a name="maxMemoryPerTable">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maxMemoryPerTable</h4>
<pre>private&nbsp;int maxMemoryPerTable</pre>
</li>
</ul>
<a name="reloadBestPlan">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reloadBestPlan</h4>
<pre>private&nbsp;boolean reloadBestPlan</pre>
</li>
</ul>
<a name="savedJoinOrders">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>savedJoinOrders</h4>
<pre>private&nbsp;java.util.HashMap&lt;java.lang.Object,int[]&gt; savedJoinOrders</pre>
</li>
</ul>
<a name="timeLimit">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>timeLimit</h4>
<pre>private&nbsp;double timeLimit</pre>
</li>
</ul>
<a name="finalCostEstimate">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finalCostEstimate</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/derby/iapi/sql/compile/CostEstimate.html" title="interface in org.apache.derby.iapi.sql.compile">CostEstimate</a> finalCostEstimate</pre>
</li>
</ul>
<a name="usingPredsPushedFromAbove">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>usingPredsPushedFromAbove</h4>
<pre>private&nbsp;boolean usingPredsPushedFromAbove</pre>
</li>
</ul>
<a name="bestJoinOrderUsedPredsFromAbove">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>bestJoinOrderUsedPredsFromAbove</h4>
<pre>private&nbsp;boolean bestJoinOrderUsedPredsFromAbove</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="OptimizerImpl-org.apache.derby.iapi.sql.compile.OptimizableList-org.apache.derby.iapi.sql.compile.OptimizablePredicateList-org.apache.derby.iapi.sql.dictionary.DataDictionary-boolean-boolean-boolean-int-org.apache.derby.iapi.sql.compile.JoinStrategy:A-int-org.apache.derby.iapi.sql.compile.RequiredRowOrdering-int-org.apache.derby.iapi.sql.compile.OptimizerPlan-org.apache.derby.iapi.sql.conn.LanguageConnectionContext-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>OptimizerImpl</h4>
<pre>OptimizerImpl(<a href="../../../../../../org/apache/derby/iapi/sql/compile/OptimizableList.html" title="interface in org.apache.derby.iapi.sql.compile">OptimizableList</a>&nbsp;optimizableList,
              <a href="../../../../../../org/apache/derby/iapi/sql/compile/OptimizablePredicateList.html" title="interface in org.apache.derby.iapi.sql.compile">OptimizablePredicateList</a>&nbsp;predicateList,
              <a href="../../../../../../org/apache/derby/iapi/sql/dictionary/DataDictionary.html" title="interface in org.apache.derby.iapi.sql.dictionary">DataDictionary</a>&nbsp;dDictionary,
              boolean&nbsp;ruleBasedOptimization,
              boolean&nbsp;noTimeout,
              boolean&nbsp;useStatistics,
              int&nbsp;maxMemoryPerTable,
              <a href="../../../../../../org/apache/derby/iapi/sql/compile/JoinStrategy.html" title="interface in org.apache.derby.iapi.sql.compile">JoinStrategy</a>[]&nbsp;joinStrategies,
              int&nbsp;tableLockThreshold,
              <a href="../../../../../../org/apache/derby/iapi/sql/compile/RequiredRowOrdering.html" title="interface in org.apache.derby.iapi.sql.compile">RequiredRowOrdering</a>&nbsp;requiredRowOrdering,
              int&nbsp;numTablesInQuery,
              <a href="../../../../../../org/apache/derby/iapi/sql/compile/OptimizerPlan.html" title="class in org.apache.derby.iapi.sql.compile">OptimizerPlan</a>&nbsp;overridingPlan,
              <a href="../../../../../../org/apache/derby/iapi/sql/conn/LanguageConnectionContext.html" title="interface in org.apache.derby.iapi.sql.conn">LanguageConnectionContext</a>&nbsp;lcc)
       throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="prepForNextRound--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prepForNextRound</h4>
<pre>public&nbsp;void&nbsp;prepForNextRound()</pre>
<div class="block">This method is called before every "round" of optimization, where
 we define a "round" to be the period between the last time a call to
 getOptimizer() (on either a ResultSetNode or an OptimizerFactory)
 returned _this_ OptimizerImpl and the time a call to this OptimizerImpl's
 getNextPermutation() method returns FALSE.  Any re-initialization
 of state that is required before each round should be done in this
 method.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#prepForNextRound--">prepForNextRound</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizer</a></code></dd>
</dl>
</li>
</ul>
<a name="initJumpState--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initJumpState</h4>
<pre>private&nbsp;int&nbsp;initJumpState()</pre>
<div class="block">Determine if we want to try "jumping" permutations with this
 OptimizerImpl, and (re-)initialize the permuteState field accordingly.</div>
</li>
</ul>
<a name="tracingIsOn--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tracingIsOn</h4>
<pre>private&nbsp;boolean&nbsp;tracingIsOn()</pre>
</li>
</ul>
<a name="getMaxMemoryPerTable--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxMemoryPerTable</h4>
<pre>public&nbsp;int&nbsp;getMaxMemoryPerTable()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#getMaxMemoryPerTable--">getMaxMemoryPerTable</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizer</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the maximum number of bytes to be used per table.</dd>
</dl>
</li>
</ul>
<a name="getNextPermutation--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextPermutation</h4>
<pre>public&nbsp;boolean&nbsp;getNextPermutation()
                           throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#getNextPermutation--">Optimizer</a></code></span></div>
<div class="block">Iterate through the permutations, returning false when the permutations
 are exhausted.
 NOTE - Implementers are responsible for hiding tree pruning of permutations
 behind this method call.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#getNextPermutation--">getNextPermutation</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizer</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>boolean True - An optimizable permutation remains.
                                        False - Permutations are exhausted.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Thrown on error</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#getNextPermutation--"><code>Optimizer.getNextPermutation()</code></a></dd>
</dl>
</li>
</ul>
<a name="rewindJoinOrder--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rewindJoinOrder</h4>
<pre>private&nbsp;void&nbsp;rewindJoinOrder()
                      throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="endOfRoundCleanup--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>endOfRoundCleanup</h4>
<pre>private&nbsp;void&nbsp;endOfRoundCleanup()
                        throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Do any work that needs to be done after the current round
 of optimization has completed.  For now this just means walking
 the subtrees for each optimizable and removing the "bestPlan"
 that we saved (w.r.t to this OptimizerImpl) from all of the
 nodes.  If we don't do this post-optimization cleanup we
 can end up consuming a huge amount of memory for deeply-
 nested queries, which can lead to OOM errors.  DERBY-1315.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="recoverCostFromProposedJoinOrder-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recoverCostFromProposedJoinOrder</h4>
<pre>private&nbsp;double&nbsp;recoverCostFromProposedJoinOrder(boolean&nbsp;sortAvoidance)
                                         throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Iterate through all optimizables in the current proposedJoinOrder
 and find the accumulated sum of their estimated costs.  This method
 is used to 'recover' cost estimate sums that have been lost due to
 the addition/subtraction of the cost estimate for the Optimizable
 at position "joinPosition".  Ex. If the total cost for Optimizables
 at positions &lt; joinPosition is 1500, and then the Optimizable at
 joinPosition has an estimated cost of 3.14E40, adding those two
 numbers effectively "loses" the 1500. When we later subtract 3.14E40
 from the total cost estimate (as part of "pull" processing), we'll
 end up with 0 as the result--which is wrong. This method allows us
 to recover the "1500" that we lost in the process of adding and
 subtracting 3.14E40.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="joinOrderMeetsDependencies-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>joinOrderMeetsDependencies</h4>
<pre>private&nbsp;boolean&nbsp;joinOrderMeetsDependencies(int&nbsp;optNumber)
                                    throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Check to see if the optimizable corresponding to the received
 optNumber can legally be placed within the current join order.
 More specifically, if the optimizable has any dependencies,
 check to see if those dependencies are satisified by the table
 map representing the current join order.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="pullOptimizableFromJoinOrder--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pullOptimizableFromJoinOrder</h4>
<pre>private&nbsp;void&nbsp;pullOptimizableFromJoinOrder()
                                   throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Pull whatever optimizable is at joinPosition in the proposed
 join order from the join order, and update all corresponding
 state accordingly.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="pushPredicates-org.apache.derby.iapi.sql.compile.Optimizable-org.apache.derby.iapi.util.JBitSet-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pushPredicates</h4>
<pre>void&nbsp;pushPredicates(<a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizable.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizable</a>&nbsp;curTable,
                    <a href="../../../../../../org/apache/derby/iapi/util/JBitSet.html" title="class in org.apache.derby.iapi.util">JBitSet</a>&nbsp;outerTables)
             throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="getNextDecoratedPermutation--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextDecoratedPermutation</h4>
<pre>public&nbsp;boolean&nbsp;getNextDecoratedPermutation()
                                    throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#getNextDecoratedPermutation--">Optimizer</a></code></span></div>
<div class="block">Iterate through the "decorated permutations", returning false when they
 are exhausted.
 NOTE - Implementers are responsible for hiding tree pruning of access
 methods behind this method call.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#getNextDecoratedPermutation--">getNextDecoratedPermutation</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizer</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>boolean True - An optimizable decorated permutation remains.
                                        False - Decorated permutations are exhausted.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Thrown on error</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#getNextDecoratedPermutation--"><code>Optimizer.getNextDecoratedPermutation()</code></a></dd>
</dl>
</li>
</ul>
<a name="getTupleDescriptor-org.apache.derby.iapi.sql.compile.Optimizable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTupleDescriptor</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/derby/iapi/sql/dictionary/UniqueTupleDescriptor.html" title="class in org.apache.derby.iapi.sql.dictionary">UniqueTupleDescriptor</a>&nbsp;getTupleDescriptor(<a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizable.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizable</a>&nbsp;optimizable)
                                          throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Get the unique tuple descriptor of the current access path for an Optimizable.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="isTableFunction-org.apache.derby.iapi.sql.compile.Optimizable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isTableFunction</h4>
<pre>static&nbsp;boolean&nbsp;isTableFunction(<a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizable.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizable</a>&nbsp;optimizable)</pre>
<div class="block">Return true if the optimizable is a table function</div>
</li>
</ul>
<a name="rememberBestCost-org.apache.derby.iapi.sql.compile.CostEstimate-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rememberBestCost</h4>
<pre>private&nbsp;void&nbsp;rememberBestCost(<a href="../../../../../../org/apache/derby/iapi/sql/compile/CostEstimate.html" title="interface in org.apache.derby.iapi.sql.compile">CostEstimate</a>&nbsp;currentCost,
                              int&nbsp;planType)
                       throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Is the cost of this join order lower than the best one we've
 found so far?  If so, remember it.

 NOTE: If the user has specified a join order, it will be the
 only join order the optimizer considers, so it is OK to use
 costing to decide that it is the "best" join order.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Thrown on error</dd>
</dl>
</li>
</ul>
<a name="costPermutation--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>costPermutation</h4>
<pre>public&nbsp;void&nbsp;costPermutation()
                     throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#costPermutation--">Optimizer</a></code></span></div>
<div class="block">Cost the current permutation.
 Caller is responsible for pushing all predicates which can be evaluated 
 prior to costing.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#costPermutation--">costPermutation</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizer</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Thrown on error</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#costPermutation--"><code>Optimizer.costPermutation()</code></a></dd>
</dl>
</li>
</ul>
<a name="costOptimizable-org.apache.derby.iapi.sql.compile.Optimizable-org.apache.derby.iapi.sql.dictionary.TableDescriptor-org.apache.derby.iapi.sql.dictionary.ConglomerateDescriptor-org.apache.derby.iapi.sql.compile.OptimizablePredicateList-org.apache.derby.iapi.sql.compile.CostEstimate-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>costOptimizable</h4>
<pre>public&nbsp;void&nbsp;costOptimizable(<a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizable.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizable</a>&nbsp;optimizable,
                            <a href="../../../../../../org/apache/derby/iapi/sql/dictionary/TableDescriptor.html" title="class in org.apache.derby.iapi.sql.dictionary">TableDescriptor</a>&nbsp;td,
                            <a href="../../../../../../org/apache/derby/iapi/sql/dictionary/ConglomerateDescriptor.html" title="class in org.apache.derby.iapi.sql.dictionary">ConglomerateDescriptor</a>&nbsp;cd,
                            <a href="../../../../../../org/apache/derby/iapi/sql/compile/OptimizablePredicateList.html" title="interface in org.apache.derby.iapi.sql.compile">OptimizablePredicateList</a>&nbsp;predList,
                            <a href="../../../../../../org/apache/derby/iapi/sql/compile/CostEstimate.html" title="interface in org.apache.derby.iapi.sql.compile">CostEstimate</a>&nbsp;outerCost)
                     throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#costOptimizable-org.apache.derby.iapi.sql.compile.Optimizable-org.apache.derby.iapi.sql.dictionary.TableDescriptor-org.apache.derby.iapi.sql.dictionary.ConglomerateDescriptor-org.apache.derby.iapi.sql.compile.OptimizablePredicateList-org.apache.derby.iapi.sql.compile.CostEstimate-">Optimizer</a></code></span></div>
<div class="block">Cost the current Optimizable with the specified OPL.
 Caller is responsible for pushing all predicates which can be evaluated 
 prior to costing.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#costOptimizable-org.apache.derby.iapi.sql.compile.Optimizable-org.apache.derby.iapi.sql.dictionary.TableDescriptor-org.apache.derby.iapi.sql.dictionary.ConglomerateDescriptor-org.apache.derby.iapi.sql.compile.OptimizablePredicateList-org.apache.derby.iapi.sql.compile.CostEstimate-">costOptimizable</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizer</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>optimizable</code> - The Optimizable</dd>
<dd><code>td</code> - TableDescriptor of the Optimizable</dd>
<dd><code>cd</code> - The ConglomerateDescriptor for the conglom to cost
                                                (This should change to an object to represent
                                                access paths, but for now this is OK).</dd>
<dd><code>predList</code> - The OptimizablePredicateList to apply</dd>
<dd><code>outerCost</code> - The cost of the tables outer to the one being
                                                optimizer - tells how many outer rows there are.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Thrown on error</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#costOptimizable-org.apache.derby.iapi.sql.compile.Optimizable-org.apache.derby.iapi.sql.dictionary.TableDescriptor-org.apache.derby.iapi.sql.dictionary.ConglomerateDescriptor-org.apache.derby.iapi.sql.compile.OptimizablePredicateList-org.apache.derby.iapi.sql.compile.CostEstimate-"><code>Optimizer.costOptimizable(org.apache.derby.iapi.sql.compile.Optimizable, org.apache.derby.iapi.sql.dictionary.TableDescriptor, org.apache.derby.iapi.sql.dictionary.ConglomerateDescriptor, org.apache.derby.iapi.sql.compile.OptimizablePredicateList, org.apache.derby.iapi.sql.compile.CostEstimate)</code></a></dd>
</dl>
</li>
</ul>
<a name="ruleBasedCostOptimizable-org.apache.derby.iapi.sql.compile.Optimizable-org.apache.derby.iapi.sql.dictionary.TableDescriptor-org.apache.derby.iapi.sql.dictionary.ConglomerateDescriptor-org.apache.derby.iapi.sql.compile.OptimizablePredicateList-org.apache.derby.iapi.sql.compile.CostEstimate-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ruleBasedCostOptimizable</h4>
<pre>private&nbsp;void&nbsp;ruleBasedCostOptimizable(<a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizable.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizable</a>&nbsp;optimizable,
                                      <a href="../../../../../../org/apache/derby/iapi/sql/dictionary/TableDescriptor.html" title="class in org.apache.derby.iapi.sql.dictionary">TableDescriptor</a>&nbsp;td,
                                      <a href="../../../../../../org/apache/derby/iapi/sql/dictionary/ConglomerateDescriptor.html" title="class in org.apache.derby.iapi.sql.dictionary">ConglomerateDescriptor</a>&nbsp;cd,
                                      <a href="../../../../../../org/apache/derby/iapi/sql/compile/OptimizablePredicateList.html" title="interface in org.apache.derby.iapi.sql.compile">OptimizablePredicateList</a>&nbsp;predList,
                                      <a href="../../../../../../org/apache/derby/iapi/sql/compile/CostEstimate.html" title="interface in org.apache.derby.iapi.sql.compile">CostEstimate</a>&nbsp;outerCost)
                               throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">This method decides whether the given conglomerate descriptor is
 cheapest based on rules, rather than based on cost estimates.
 The rules are:

                Covering matching indexes are preferred above all
                Non-covering matching indexes are next in order of preference
                Covering non-matching indexes are next in order of preference
                Heap scans are next in order of preference
                Non-covering, non-matching indexes are last in order of
                preference.

 In the current language architecture, there will always be a
 heap, so a non-covering, non-matching index scan will never be
 chosen.  However, the optimizer may see a non-covering, non-matching
 index first, in which case it will choose it temporarily as the
 best conglomerate seen so far.

 NOTE: This method sets the cost in the optimizable, even though it
 doesn't use the cost to determine which access path to choose.  There
 are two reasons for this: the cost might be needed to determine join
 order, and the cost information is copied to the query plan.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="costBasedCostOptimizable-org.apache.derby.iapi.sql.compile.Optimizable-org.apache.derby.iapi.sql.dictionary.TableDescriptor-org.apache.derby.iapi.sql.dictionary.ConglomerateDescriptor-org.apache.derby.iapi.sql.compile.OptimizablePredicateList-org.apache.derby.iapi.sql.compile.CostEstimate-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>costBasedCostOptimizable</h4>
<pre>private&nbsp;void&nbsp;costBasedCostOptimizable(<a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizable.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizable</a>&nbsp;optimizable,
                                      <a href="../../../../../../org/apache/derby/iapi/sql/dictionary/TableDescriptor.html" title="class in org.apache.derby.iapi.sql.dictionary">TableDescriptor</a>&nbsp;td,
                                      <a href="../../../../../../org/apache/derby/iapi/sql/dictionary/ConglomerateDescriptor.html" title="class in org.apache.derby.iapi.sql.dictionary">ConglomerateDescriptor</a>&nbsp;cd,
                                      <a href="../../../../../../org/apache/derby/iapi/sql/compile/OptimizablePredicateList.html" title="interface in org.apache.derby.iapi.sql.compile">OptimizablePredicateList</a>&nbsp;predList,
                                      <a href="../../../../../../org/apache/derby/iapi/sql/compile/CostEstimate.html" title="interface in org.apache.derby.iapi.sql.compile">CostEstimate</a>&nbsp;outerCost)
                               throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">This method decides whether the given conglomerate descriptor is
 cheapest based on cost, rather than based on rules.  It compares
 the cost of using the given ConglomerateDescriptor with the cost
 of using the best ConglomerateDescriptor so far.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="considerCost-org.apache.derby.iapi.sql.compile.Optimizable-org.apache.derby.iapi.sql.compile.OptimizablePredicateList-org.apache.derby.iapi.sql.compile.CostEstimate-org.apache.derby.iapi.sql.compile.CostEstimate-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>considerCost</h4>
<pre>public&nbsp;void&nbsp;considerCost(<a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizable.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizable</a>&nbsp;optimizable,
                         <a href="../../../../../../org/apache/derby/iapi/sql/compile/OptimizablePredicateList.html" title="interface in org.apache.derby.iapi.sql.compile">OptimizablePredicateList</a>&nbsp;predList,
                         <a href="../../../../../../org/apache/derby/iapi/sql/compile/CostEstimate.html" title="interface in org.apache.derby.iapi.sql.compile">CostEstimate</a>&nbsp;estimatedCost,
                         <a href="../../../../../../org/apache/derby/iapi/sql/compile/CostEstimate.html" title="interface in org.apache.derby.iapi.sql.compile">CostEstimate</a>&nbsp;outerCost)
                  throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">This is the version of costOptimizable for non-base-tables.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#considerCost-org.apache.derby.iapi.sql.compile.Optimizable-org.apache.derby.iapi.sql.compile.OptimizablePredicateList-org.apache.derby.iapi.sql.compile.CostEstimate-org.apache.derby.iapi.sql.compile.CostEstimate-">considerCost</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizer</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>optimizable</code> - The Optimizable</dd>
<dd><code>predList</code> - The OptimizablePredicateList to apply</dd>
<dd><code>estimatedCost</code> - The estimated cost of the given optimizable</dd>
<dd><code>outerCost</code> - The cost of the tables outer to the one being
                                                optimizer - tells how many outer rows there are.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Thrown on error</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#considerCost-org.apache.derby.iapi.sql.compile.Optimizable-org.apache.derby.iapi.sql.compile.OptimizablePredicateList-org.apache.derby.iapi.sql.compile.CostEstimate-org.apache.derby.iapi.sql.compile.CostEstimate-"><code>Optimizer.considerCost(org.apache.derby.iapi.sql.compile.Optimizable, org.apache.derby.iapi.sql.compile.OptimizablePredicateList, org.apache.derby.iapi.sql.compile.CostEstimate, org.apache.derby.iapi.sql.compile.CostEstimate)</code></a></dd>
</dl>
</li>
</ul>
<a name="getDataDictionary--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDataDictionary</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/derby/iapi/sql/dictionary/DataDictionary.html" title="interface in org.apache.derby.iapi.sql.dictionary">DataDictionary</a>&nbsp;getDataDictionary()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#getDataDictionary--">Optimizer</a></code></span></div>
<div class="block">Return the DataDictionary that the Optimizer is using.
 This is useful when an Optimizable needs to call optimize() on
 a child ResultSetNode.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#getDataDictionary--">getDataDictionary</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizer</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>DataDictionary  DataDictionary that the Optimizer is using.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#getDataDictionary--"><code>Optimizer.getDataDictionary()</code></a></dd>
</dl>
</li>
</ul>
<a name="modifyAccessPaths--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>modifyAccessPaths</h4>
<pre>public&nbsp;void&nbsp;modifyAccessPaths()
                       throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#modifyAccessPaths--">Optimizer</a></code></span></div>
<div class="block">Modify the access path for each Optimizable, as necessary.  This includes
 things like adding result sets to translate from index rows to base rows.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#modifyAccessPaths--">modifyAccessPaths</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizer</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Thrown on error</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#modifyAccessPaths--"><code>Optimizer.modifyAccessPaths()</code></a></dd>
</dl>
</li>
</ul>
<a name="newCostEstimate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newCostEstimate</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/derby/iapi/sql/compile/CostEstimate.html" title="interface in org.apache.derby.iapi.sql.compile">CostEstimate</a>&nbsp;newCostEstimate()</pre>
</li>
</ul>
<a name="getOptimizedCost--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOptimizedCost</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/derby/iapi/sql/compile/CostEstimate.html" title="interface in org.apache.derby.iapi.sql.compile">CostEstimate</a>&nbsp;getOptimizedCost()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#getOptimizedCost--">Optimizer</a></code></span></div>
<div class="block">Get the estimated cost of the optimized query</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#getOptimizedCost--">getOptimizedCost</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizer</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#getOptimizedCost--"><code>Optimizer.getOptimizedCost()</code></a></dd>
</dl>
</li>
</ul>
<a name="getFinalCost--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFinalCost</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/derby/iapi/sql/compile/CostEstimate.html" title="interface in org.apache.derby.iapi.sql.compile">CostEstimate</a>&nbsp;getFinalCost()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#getFinalCost--">Optimizer</a></code></span></div>
<div class="block">Get the final estimated cost of the optimized query.  This
 should be the cost that corresponds to the best overall join
 order chosen by the optimizer, and thus this method should
 only be called after optimization is complete (i.e. when
 modifying access paths).</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#getFinalCost--">getFinalCost</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizer</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#getFinalCost--"><code>Sum up the cost of all of the trulyTheBestAccessPaths
 for the Optimizables in our list.  Assumption is that
 we only get here after optimization has completed--i.e.
 while modifying access paths.</code></a></dd>
</dl>
</li>
</ul>
<a name="setOuterRows-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setOuterRows</h4>
<pre>public&nbsp;void&nbsp;setOuterRows(double&nbsp;outerRows)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#setOuterRows-double-">Optimizer</a></code></span></div>
<div class="block">Set the estimated number of outer rows - good for optimizing nested
 optimizables like subqueries and join nodes.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#setOuterRows-double-">setOuterRows</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizer</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#setOuterRows-double-"><code>Optimizer.setOuterRows(double)</code></a></dd>
</dl>
</li>
</ul>
<a name="tableLockThreshold--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tableLockThreshold</h4>
<pre>public&nbsp;int&nbsp;tableLockThreshold()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#tableLockThreshold--">Optimizer</a></code></span></div>
<div class="block">Get the maximum number of estimated rows touched in a table before
 we decide to open the table with table locking (as opposed to row
 locking.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#tableLockThreshold--">tableLockThreshold</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizer</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#tableLockThreshold--"><code>Optimizer.tableLockThreshold()</code></a></dd>
</dl>
</li>
</ul>
<a name="getNumberOfJoinStrategies--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNumberOfJoinStrategies</h4>
<pre>public&nbsp;int&nbsp;getNumberOfJoinStrategies()</pre>
<div class="block">Get the number of join strategies supported by this optimizer.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#getNumberOfJoinStrategies--">getNumberOfJoinStrategies</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizer</a></code></dd>
</dl>
</li>
</ul>
<a name="getJoinStrategy-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJoinStrategy</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/derby/iapi/sql/compile/JoinStrategy.html" title="interface in org.apache.derby.iapi.sql.compile">JoinStrategy</a>&nbsp;getJoinStrategy(int&nbsp;whichStrategy)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#getJoinStrategy-int-">Optimizer</a></code></span></div>
<div class="block">Gets a join strategy by number (zero-based).</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#getJoinStrategy-int-">getJoinStrategy</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizer</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#getJoinStrategy-int-"><code>Optimizer.getJoinStrategy(int)</code></a></dd>
</dl>
</li>
</ul>
<a name="getJoinStrategy-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJoinStrategy</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/derby/iapi/sql/compile/JoinStrategy.html" title="interface in org.apache.derby.iapi.sql.compile">JoinStrategy</a>&nbsp;getJoinStrategy(java.lang.String&nbsp;whichStrategy)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#getJoinStrategy-java.lang.String-">Optimizer</a></code></span></div>
<div class="block">Gets a join strategy by name.  Returns null if not found.
 The look-up is case-insensitive.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#getJoinStrategy-java.lang.String-">getJoinStrategy</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizer</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#getJoinStrategy-int-"><code>Optimizer.getJoinStrategy(int)</code></a></dd>
</dl>
</li>
</ul>
<a name="uniqueJoinWithOuterTable-org.apache.derby.iapi.sql.compile.OptimizablePredicateList-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>uniqueJoinWithOuterTable</h4>
<pre>public&nbsp;double&nbsp;uniqueJoinWithOuterTable(<a href="../../../../../../org/apache/derby/iapi/sql/compile/OptimizablePredicateList.html" title="interface in org.apache.derby.iapi.sql.compile">OptimizablePredicateList</a>&nbsp;predList)
                                throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#uniqueJoinWithOuterTable-org.apache.derby.iapi.sql.compile.OptimizablePredicateList-">Optimizer</a></code></span></div>
<div class="block">Tells whether any of the tables outer to the current one
 has a uniqueness condition on the given predicate list,
 and if so, how many times each unique key can be seen by
 the current table.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#uniqueJoinWithOuterTable-org.apache.derby.iapi.sql.compile.OptimizablePredicateList-">uniqueJoinWithOuterTable</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizer</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>predList</code> - The predicate list to check</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>&lt;= 0 means there is no uniqueness condition
                        &gt; 0 means there is a uniqueness condition on an
                        outer table, and the return value is the reciprocal of
                        the maximum number of times the optimizer estimates that each
                        unique key will be returned. For example, 0.5 means the
                        optimizer thinks each distinct join key will be returned
                        at most twice.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Thrown on error</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#uniqueJoinWithOuterTable-org.apache.derby.iapi.sql.compile.OptimizablePredicateList-"><code>Optimizer.uniqueJoinWithOuterTable(org.apache.derby.iapi.sql.compile.OptimizablePredicateList)</code></a></dd>
</dl>
</li>
</ul>
<a name="isPushable-org.apache.derby.iapi.sql.compile.OptimizablePredicate-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isPushable</h4>
<pre>private&nbsp;boolean&nbsp;isPushable(<a href="../../../../../../org/apache/derby/iapi/sql/compile/OptimizablePredicate.html" title="interface in org.apache.derby.iapi.sql.compile">OptimizablePredicate</a>&nbsp;pred)</pre>
</li>
</ul>
<a name="estimateTotalCost-org.apache.derby.iapi.sql.compile.OptimizablePredicateList-org.apache.derby.iapi.sql.dictionary.ConglomerateDescriptor-org.apache.derby.iapi.sql.compile.CostEstimate-org.apache.derby.iapi.sql.compile.Optimizable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>estimateTotalCost</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/derby/iapi/sql/compile/CostEstimate.html" title="interface in org.apache.derby.iapi.sql.compile">CostEstimate</a>&nbsp;estimateTotalCost(<a href="../../../../../../org/apache/derby/iapi/sql/compile/OptimizablePredicateList.html" title="interface in org.apache.derby.iapi.sql.compile">OptimizablePredicateList</a>&nbsp;predList,
                                       <a href="../../../../../../org/apache/derby/iapi/sql/dictionary/ConglomerateDescriptor.html" title="class in org.apache.derby.iapi.sql.dictionary">ConglomerateDescriptor</a>&nbsp;cd,
                                       <a href="../../../../../../org/apache/derby/iapi/sql/compile/CostEstimate.html" title="interface in org.apache.derby.iapi.sql.compile">CostEstimate</a>&nbsp;outerCost,
                                       <a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizable.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizable</a>&nbsp;optimizable)
                                throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Estimate the total cost of doing a join with the given optimizable.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Thrown on error</dd>
</dl>
</li>
</ul>
<a name="getLevel--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLevel</h4>
<pre>public&nbsp;int&nbsp;getLevel()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#getLevel--">Optimizer</a></code></span></div>
<div class="block">Get the level of this optimizer.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#getLevel--">getLevel</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizer</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The level of this optimizer.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#getLevel--"><code>Optimizer.getLevel()</code></a></dd>
</dl>
</li>
</ul>
<a name="getNewCostEstimate-double-double-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNewCostEstimate</h4>
<pre><a href="../../../../../../org/apache/derby/impl/sql/compile/CostEstimateImpl.html" title="class in org.apache.derby.impl.sql.compile">CostEstimateImpl</a>&nbsp;getNewCostEstimate(double&nbsp;theCost,
                                    double&nbsp;theRowCount,
                                    double&nbsp;theSingleScanRowCount)</pre>
</li>
</ul>
<a name="useStatistics--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>useStatistics</h4>
<pre>public&nbsp;boolean&nbsp;useStatistics()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#useStatistics--">Optimizer</a></code></span></div>
<div class="block">If statistics should be considered by the optimizer while optimizing 
 a query. The user may disable the use of statistics by setting the
 property derby.optimizer.useStatistics or by using the property
 useStatistics in a query.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#useStatistics--">useStatistics</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizer</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#useStatistics--"><code>Optimizer.useStatistics()</code></a></dd>
</dl>
</li>
</ul>
<a name="updateBestPlanMaps-short-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateBestPlanMaps</h4>
<pre>public&nbsp;void&nbsp;updateBestPlanMaps(short&nbsp;action,
                               java.lang.Object&nbsp;planKey)
                        throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Process (i.e. add, load, or remove) current best join order as the
 best one for some outer query or ancestor node, represented by another
 OptimizerImpl or an instance of FromTable, respectively. Then
 iterate through our optimizableList and tell each Optimizable
 to do the same.  See Optimizable.updateBestPlan() for more on why
 this is necessary.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#updateBestPlanMaps-short-java.lang.Object-">updateBestPlanMaps</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizer</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>action</code> - Indicates whether to add, load, or remove the plan</dd>
<dd><code>planKey</code> - Object to use as the map key when adding/looking up
  a plan.  If this is an instance of OptimizerImpl then it corresponds
  to an outer query; otherwise it's some Optimizable above this
  OptimizerImpl that could potentially reject plans chosen by this
  OptimizerImpl.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="addScopedPredicatesToList-org.apache.derby.impl.sql.compile.PredicateList-org.apache.derby.iapi.services.context.ContextManager-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addScopedPredicatesToList</h4>
<pre>void&nbsp;addScopedPredicatesToList(<a href="../../../../../../org/apache/derby/impl/sql/compile/PredicateList.html" title="class in org.apache.derby.impl.sql.compile">PredicateList</a>&nbsp;pList,
                               <a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.html" title="class in org.apache.derby.iapi.services.context">ContextManager</a>&nbsp;cm)
                        throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Add scoped predicates to this optimizer's predicateList. This method
 is intended for use during the modifyAccessPath() phase of
 compilation, as it allows nodes (esp. SelectNodes) to add to the
 list of predicates available for the final "push" before code
 generation.  Just as the constructor for this class allows a
 caller to specify a predicate list to use during the optimization
 phase, this method allows a caller to specify a predicate list to
 use during the modify-access-paths phase.

 Before adding the received predicates, this method also
 clears out any scoped predicates that might be sitting in
 OptimizerImpl's list from the last round of optimizing.

 This method should be in the Optimizer interface, but it relies
 on an argument type (PredicateList) which lives in an impl package.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pList</code> - List of predicates to add to this OptimizerImpl's
  own list for pushing.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="tracer--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tracer</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/derby/iapi/sql/compile/OptTrace.html" title="interface in org.apache.derby.iapi.sql.compile">OptTrace</a>&nbsp;tracer()</pre>
<div class="block">Get the trace machinery</div>
</li>
</ul>
<a name="getOptimizableCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOptimizableCount</h4>
<pre>public&nbsp;int&nbsp;getOptimizableCount()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#getOptimizableCount--">Optimizer</a></code></span></div>
<div class="block">Get the number of optimizables being considered by this Optimizer.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#getOptimizableCount--">getOptimizableCount</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizer</a></code></dd>
</dl>
</li>
</ul>
<a name="getOptimizable-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getOptimizable</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizable.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizable</a>&nbsp;getOptimizable(int&nbsp;idx)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#getOptimizable-int-">Optimizer</a></code></span></div>
<div class="block">Get the ith (0-based) Optimizable being considered by this Optimizer.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html#getOptimizable-int-">getOptimizable</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/sql/compile/Optimizer.html" title="interface in org.apache.derby.iapi.sql.compile">Optimizer</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Built on Mon 2017-07-03 23:03:59+0530, from revision Unversioned directory</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerFactoryImpl.html" title="class in org.apache.derby.impl.sql.compile"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/apache/derby/impl/sql/compile/OptimizerTracer.html" title="class in org.apache.derby.impl.sql.compile"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/derby/impl/sql/compile/OptimizerImpl.html" target="_top">Frames</a></li>
<li><a href="OptimizerImpl.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Apache Derby V10.13 Internals - <i>Copyright &copy; 2004,2016 The Apache Software Foundation. All Rights Reserved.</i></small></p>
</body>
</html>
