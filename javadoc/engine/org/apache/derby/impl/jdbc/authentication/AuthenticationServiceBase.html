<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_66) on Mon Jul 03 23:05:07 IST 2017 -->
<title>AuthenticationServiceBase (Apache Derby V10.13 Internals)</title>
<meta name="date" content="2017-07-03">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="AuthenticationServiceBase (Apache Derby V10.13 Internals)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":9,"i4":9,"i5":10,"i6":10,"i7":9,"i8":10,"i9":9,"i10":10,"i11":9,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":9,"i26":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../../org/apache/derby/impl/jdbc/authentication/BasicAuthenticationServiceImpl.html" title="class in org.apache.derby.impl.jdbc.authentication"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/derby/impl/jdbc/authentication/AuthenticationServiceBase.html" target="_top">Frames</a></li>
<li><a href="AuthenticationServiceBase.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.derby.impl.jdbc.authentication</div>
<h2 title="Class AuthenticationServiceBase" class="title">Class AuthenticationServiceBase</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.derby.impl.jdbc.authentication.AuthenticationServiceBase</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../../org/apache/derby/iapi/jdbc/AuthenticationService.html" title="interface in org.apache.derby.iapi.jdbc">AuthenticationService</a>, <a href="../../../../../../org/apache/derby/iapi/services/monitor/ModuleControl.html" title="interface in org.apache.derby.iapi.services.monitor">ModuleControl</a>, <a href="../../../../../../org/apache/derby/iapi/services/monitor/ModuleSupportable.html" title="interface in org.apache.derby.iapi.services.monitor">ModuleSupportable</a>, <a href="../../../../../../org/apache/derby/iapi/services/property/PropertySetCallback.html" title="interface in org.apache.derby.iapi.services.property">PropertySetCallback</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../../org/apache/derby/impl/jdbc/authentication/BasicAuthenticationServiceImpl.html" title="class in org.apache.derby.impl.jdbc.authentication">BasicAuthenticationServiceImpl</a>, <a href="../../../../../../org/apache/derby/impl/jdbc/authentication/JNDIAuthenticationService.html" title="class in org.apache.derby.impl.jdbc.authentication">JNDIAuthenticationService</a>, <a href="../../../../../../org/apache/derby/impl/jdbc/authentication/NativeAuthenticationServiceImpl.html" title="class in org.apache.derby.impl.jdbc.authentication">NativeAuthenticationServiceImpl</a>, <a href="../../../../../../org/apache/derby/impl/jdbc/authentication/NoneAuthenticationServiceImpl.html" title="class in org.apache.derby.impl.jdbc.authentication">NoneAuthenticationServiceImpl</a>, <a href="../../../../../../org/apache/derby/impl/jdbc/authentication/SpecificAuthenticationServiceImpl.html" title="class in org.apache.derby.impl.jdbc.authentication">SpecificAuthenticationServiceImpl</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="typeNameLabel">AuthenticationServiceBase</span>
extends java.lang.Object
implements <a href="../../../../../../org/apache/derby/iapi/jdbc/AuthenticationService.html" title="interface in org.apache.derby.iapi.jdbc">AuthenticationService</a>, <a href="../../../../../../org/apache/derby/iapi/services/monitor/ModuleControl.html" title="interface in org.apache.derby.iapi.services.monitor">ModuleControl</a>, <a href="../../../../../../org/apache/derby/iapi/services/monitor/ModuleSupportable.html" title="interface in org.apache.derby.iapi.services.monitor">ModuleSupportable</a>, <a href="../../../../../../org/apache/derby/iapi/services/property/PropertySetCallback.html" title="interface in org.apache.derby.iapi.services.property">PropertySetCallback</a></pre>
<div class="block"><p>
 This is the authentication service base class.
 </p>

 <p>
 There can be 1 Authentication Service for the whole Derby
 system and/or 1 authentication per database.
 In a near future, we intend to allow multiple authentication services
 per system and/or per database.
 </p>

 <p>
 It should be extended by the specialized authentication services.
 </p>

 <p><strong>IMPORTANT NOTE:</strong></p>

 <p>
 User passwords are hashed using a message digest algorithm
 if they're stored in the database. They are not hashed
 if they were defined at the system level.
 </p>

 <p>
 The passwords can be hashed using two different schemes:
 </p>

 <ul>
 <li>The SHA-1 authentication scheme, which was the only available scheme
 in Derby 10.5 and earlier. This scheme uses the SHA-1 message digest
 algorithm.</li>
 <li>The configurable hash authentication scheme, which allows the users to
 specify which message digest algorithm to use.</li>
 </ul>

 <p>
 In order to use the configurable hash authentication scheme, the users have
 to set the <code>derby.authentication.builtin.algorithm</code> property (on
 system level or database level) to the name of an algorithm that's available
 in one of the security providers registered on the system. If this property
 is not set, or if it's set to NULL or an empty string, the SHA-1
 authentication scheme is used.
 </p>

 <p>
 Which scheme to use is decided when a password is about to be stored in the
 database. One database may therefore contain passwords stored using
 different schemes. In order to determine which scheme to use when comparing
 a user's credentials with those stored in the database, the stored password
 is prefixed with an identifier that tells which scheme is being used.
 Passwords stored using the SHA-1 authentication scheme are prefixed with
 <a href="../../../../../../org/apache/derby/iapi/sql/dictionary/PasswordHasher.html#ID_PATTERN_SHA1_SCHEME"><code>PasswordHasher.ID_PATTERN_SHA1_SCHEME</code></a>. Passwords that are stored using the
 configurable hash authentication scheme are prefixed with
 <a href="../../../../../../org/apache/derby/iapi/sql/dictionary/PasswordHasher.html#ID_PATTERN_CONFIGURABLE_HASH_SCHEME"><code>PasswordHasher.ID_PATTERN_CONFIGURABLE_HASH_SCHEME</code></a> and suffixed with the name of
 the message digest algorithm.
 </p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../org/apache/derby/authentication/UserAuthenticator.html" title="interface in org.apache.derby.authentication">UserAuthenticator</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/jdbc/authentication/AuthenticationServiceBase.html#authenticationScheme">authenticationScheme</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/jdbc/authentication/AuthenticationServiceBase.html#AuthenticationTrace">AuthenticationTrace</a></span></code>
<div class="block">Trace flag to trace authentication operations</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/jdbc/authentication/AuthenticationServiceBase.html#SECMEC_USRSSBPWD">SECMEC_USRSSBPWD</a></span></code>
<div class="block">Userid with Strong password substitute DRDA security mechanism</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/iapi/store/access/AccessFactory.html" title="interface in org.apache.derby.iapi.store.access">AccessFactory</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/jdbc/authentication/AuthenticationServiceBase.html#store">store</a></span></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.apache.derby.iapi.jdbc.AuthenticationService">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;org.apache.derby.iapi.jdbc.<a href="../../../../../../org/apache/derby/iapi/jdbc/AuthenticationService.html" title="interface in org.apache.derby.iapi.jdbc">AuthenticationService</a></h3>
<code><a href="../../../../../../org/apache/derby/iapi/jdbc/AuthenticationService.html#MODULE">MODULE</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/jdbc/authentication/AuthenticationServiceBase.html#AuthenticationServiceBase--">AuthenticationServiceBase</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/services/daemon/Serviceable.html" title="interface in org.apache.derby.iapi.services.daemon">Serviceable</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/jdbc/authentication/AuthenticationServiceBase.html#apply-java.lang.String-java.io.Serializable-java.util.Dictionary-">apply</a></span>(java.lang.String&nbsp;key,
     java.io.Serializable&nbsp;value,
     java.util.Dictionary&nbsp;p)</code>
<div class="block">Apply a property change.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/jdbc/authentication/AuthenticationServiceBase.html#authenticate-java.lang.String-java.util.Properties-">authenticate</a></span>(java.lang.String&nbsp;databaseName,
            java.util.Properties&nbsp;userInfo)</code>
<div class="block">Authenticate a User inside JBMS.T his is an overload method.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/jdbc/authentication/AuthenticationServiceBase.html#boot-boolean-java.util.Properties-">boot</a></span>(boolean&nbsp;create,
    java.util.Properties&nbsp;properties)</code>
<div class="block">Start this module.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>private static <a href="../../../../../../org/apache/derby/iapi/services/context/Context.html" title="interface in org.apache.derby.iapi.services.context">Context</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/jdbc/authentication/AuthenticationServiceBase.html#getContext-java.lang.String-">getContext</a></span>(java.lang.String&nbsp;contextID)</code>
<div class="block">Privileged lookup of a Context.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>private static <a href="../../../../../../org/apache/derby/iapi/services/context/ContextService.html" title="class in org.apache.derby.iapi.services.context">ContextService</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/jdbc/authentication/AuthenticationServiceBase.html#getContextService--">getContextService</a></span>()</code>
<div class="block">Privileged lookup of the ContextService.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>(package private) java.util.Properties</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/jdbc/authentication/AuthenticationServiceBase.html#getDatabaseProperties--">getDatabaseProperties</a></span>()</code>
<div class="block">Get all the database properties.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/jdbc/authentication/AuthenticationServiceBase.html#getDatabaseProperty-java.lang.String-">getDatabaseProperty</a></span>(java.lang.String&nbsp;key)</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>private static <a href="../../../../../../org/apache/derby/iapi/sql/dictionary/DataDictionary.html" title="interface in org.apache.derby.iapi.sql.dictionary">DataDictionary</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/jdbc/authentication/AuthenticationServiceBase.html#getDataDictionary--">getDataDictionary</a></span>()</code>
<div class="block">Find the data dictionary for the current connection.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/jdbc/authentication/AuthenticationServiceBase.html#getProperty-java.lang.String-">getProperty</a></span>(java.lang.String&nbsp;key)</code>
<div class="block">Returns a property if it was set at the database or
 system level.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>(package private) static java.lang.Object</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/jdbc/authentication/AuthenticationServiceBase.html#getServiceModule-java.lang.Object-java.lang.String-">getServiceModule</a></span>(java.lang.Object&nbsp;serviceModule,
                java.lang.String&nbsp;factoryInterface)</code>
<div class="block">Privileged module lookup.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/jdbc/authentication/AuthenticationServiceBase.html#getServiceName--">getServiceName</a></span>()</code>
<div class="block">
 Get the name of the database if we are performing authentication at the database level.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/jdbc/authentication/AuthenticationServiceBase.html#getServiceName-java.lang.Object-">getServiceName</a></span>(java.lang.Object&nbsp;serviceModule)</code>
<div class="block">Privileged service name lookup.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/jdbc/authentication/AuthenticationServiceBase.html#getSystemCredentialsDatabaseName--">getSystemCredentialsDatabaseName</a></span>()</code>
<div class="block">
 Get the name of the credentials database used to authenticate system-wide operations.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/jdbc/authentication/AuthenticationServiceBase.html#getSystemProperty-java.lang.String-">getSystemProperty</a></span>(java.lang.String&nbsp;key)</code>&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../org/apache/derby/iapi/store/access/TransactionController.html" title="interface in org.apache.derby.iapi.store.access">TransactionController</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/jdbc/authentication/AuthenticationServiceBase.html#getTransaction--">getTransaction</a></span>()</code>
<div class="block">
 Get a transaction for performing authentication at the database level.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/jdbc/authentication/AuthenticationServiceBase.html#hashPasswordSHA1Scheme-java.lang.String-">hashPasswordSHA1Scheme</a></span>(java.lang.String&nbsp;plainTxtUserPassword)</code>
<div class="block">
 This method hashes a clear user password using a
 Single Hash algorithm such as SHA-1 (SHA equivalent)
 (it is a 160 bits digest)
 

 
 The digest is returned as an object string.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>(package private) java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/jdbc/authentication/AuthenticationServiceBase.html#hashUsingDefaultAlgorithm-java.lang.String-java.lang.String-java.util.Dictionary-">hashUsingDefaultAlgorithm</a></span>(java.lang.String&nbsp;user,
                         java.lang.String&nbsp;password,
                         java.util.Dictionary&nbsp;props)</code>
<div class="block">
 Hash a password using the default message digest algorithm for this
 system before it's stored in the database.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/jdbc/authentication/AuthenticationServiceBase.html#init-boolean-java.util.Dictionary-">init</a></span>(boolean&nbsp;dbOnly,
    java.util.Dictionary&nbsp;p)</code>
<div class="block">Initialize the properties for this callback.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>java.io.Serializable</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/jdbc/authentication/AuthenticationServiceBase.html#map-java.lang.String-java.io.Serializable-java.util.Dictionary-">map</a></span>(java.lang.String&nbsp;key,
   java.io.Serializable&nbsp;value,
   java.util.Dictionary&nbsp;p)</code>
<div class="block">Map a proposed new value for a property to an official value.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>protected java.lang.Long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/jdbc/authentication/AuthenticationServiceBase.html#parsePasswordLifetime-java.lang.String-">parsePasswordLifetime</a></span>(java.lang.String&nbsp;passwordLifetimeString)</code>
<div class="block">Parse the value of the password lifetime property.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>protected java.lang.Double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/jdbc/authentication/AuthenticationServiceBase.html#parsePasswordThreshold-java.lang.String-">parsePasswordThreshold</a></span>(java.lang.String&nbsp;expirationThresholdString)</code>
<div class="block">Parse the value of the password expiration threshold property.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/jdbc/authentication/AuthenticationServiceBase.html#requireAuthentication-java.util.Properties-">requireAuthentication</a></span>(java.util.Properties&nbsp;properties)</code>&nbsp;</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/jdbc/authentication/AuthenticationServiceBase.html#setAuthenticationService-org.apache.derby.authentication.UserAuthenticator-">setAuthenticationService</a></span>(<a href="../../../../../../org/apache/derby/authentication/UserAuthenticator.html" title="interface in org.apache.derby.authentication">UserAuthenticator</a>&nbsp;aScheme)</code>&nbsp;</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/jdbc/authentication/AuthenticationServiceBase.html#stop--">stop</a></span>()</code>
<div class="block">Stop the module.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/jdbc/authentication/AuthenticationServiceBase.html#substitutePassword-java.lang.String-java.lang.String-java.util.Properties-boolean-">substitutePassword</a></span>(java.lang.String&nbsp;userName,
                  java.lang.String&nbsp;password,
                  java.util.Properties&nbsp;info,
                  boolean&nbsp;databaseUser)</code>
<div class="block">Strong Password Substitution (USRSSBPWD).</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>private static byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/jdbc/authentication/AuthenticationServiceBase.html#toHexByte-java.lang.String-">toHexByte</a></span>(java.lang.String&nbsp;str)</code>
<div class="block">
 Convert a string into a byte array in hex format.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/impl/jdbc/authentication/AuthenticationServiceBase.html#validate-java.lang.String-java.io.Serializable-java.util.Dictionary-">validate</a></span>(java.lang.String&nbsp;key,
        java.io.Serializable&nbsp;value,
        java.util.Dictionary&nbsp;p)</code>
<div class="block">Validate a property change.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.derby.iapi.services.monitor.ModuleSupportable">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.apache.derby.iapi.services.monitor.<a href="../../../../../../org/apache/derby/iapi/services/monitor/ModuleSupportable.html" title="interface in org.apache.derby.iapi.services.monitor">ModuleSupportable</a></h3>
<code><a href="../../../../../../org/apache/derby/iapi/services/monitor/ModuleSupportable.html#canSupport-java.util.Properties-">canSupport</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="authenticationScheme">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>authenticationScheme</h4>
<pre>protected&nbsp;<a href="../../../../../../org/apache/derby/authentication/UserAuthenticator.html" title="interface in org.apache.derby.authentication">UserAuthenticator</a> authenticationScheme</pre>
</li>
</ul>
<a name="store">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>store</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/derby/iapi/store/access/AccessFactory.html" title="interface in org.apache.derby.iapi.store.access">AccessFactory</a> store</pre>
</li>
</ul>
<a name="AuthenticationTrace">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>AuthenticationTrace</h4>
<pre>public static final&nbsp;java.lang.String AuthenticationTrace</pre>
<div class="block">Trace flag to trace authentication operations</div>
</li>
</ul>
<a name="SECMEC_USRSSBPWD">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SECMEC_USRSSBPWD</h4>
<pre>protected static final&nbsp;int SECMEC_USRSSBPWD</pre>
<div class="block">Userid with Strong password substitute DRDA security mechanism</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.impl.jdbc.authentication.AuthenticationServiceBase.SECMEC_USRSSBPWD">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="AuthenticationServiceBase--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AuthenticationServiceBase</h4>
<pre>public&nbsp;AuthenticationServiceBase()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setAuthenticationService-org.apache.derby.authentication.UserAuthenticator-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAuthenticationService</h4>
<pre>protected&nbsp;void&nbsp;setAuthenticationService(<a href="../../../../../../org/apache/derby/authentication/UserAuthenticator.html" title="interface in org.apache.derby.authentication">UserAuthenticator</a>&nbsp;aScheme)</pre>
</li>
</ul>
<a name="boot-boolean-java.util.Properties-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>boot</h4>
<pre>public&nbsp;void&nbsp;boot(boolean&nbsp;create,
                 java.util.Properties&nbsp;properties)
          throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Start this module.  In this case, nothing needs to be done.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/services/monitor/ModuleControl.html#boot-boolean-java.util.Properties-">boot</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/services/monitor/ModuleControl.html" title="interface in org.apache.derby.iapi.services.monitor">ModuleControl</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - upon failure to load/boot
                the expected authentication service.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/services/monitor/ModuleControl.html#boot-boolean-java.util.Properties-"><code>ModuleControl.boot(boolean, java.util.Properties)</code></a></dd>
</dl>
</li>
</ul>
<a name="stop--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stop</h4>
<pre>public&nbsp;void&nbsp;stop()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/services/monitor/ModuleControl.html#stop--">ModuleControl</a></code></span></div>
<div class="block">Stop the module.

                The module may be found via a findModule() method until some time after
                this method returns. Therefore the factory must be prepared to reject requests
                to it once it has been stopped. In addition other modules may cache a reference
                to the module and make requests of it after it has been stopped, these requests
                should be rejected as well.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/services/monitor/ModuleControl.html#stop--">stop</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/services/monitor/ModuleControl.html" title="interface in org.apache.derby.iapi.services.monitor">ModuleControl</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/services/monitor/ModuleControl.html#stop--"><code>ModuleControl.stop()</code></a></dd>
</dl>
</li>
</ul>
<a name="authenticate-java.lang.String-java.util.Properties-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>authenticate</h4>
<pre>public&nbsp;boolean&nbsp;authenticate(java.lang.String&nbsp;databaseName,
                            java.util.Properties&nbsp;userInfo)
                     throws java.sql.SQLException</pre>
<div class="block">Authenticate a User inside JBMS.T his is an overload method.

 We're passed-in a Properties object containing user credentials information
 (as well as database name if user needs to be validated for a certain
 database access).</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/jdbc/AuthenticationService.html#authenticate-java.lang.String-java.util.Properties-">authenticate</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/jdbc/AuthenticationService.html" title="interface in org.apache.derby.iapi.jdbc">AuthenticationService</a></code></dd>
<dd><code>userInfo</code> - Connection properties info.
 failure.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/jdbc/AuthenticationService.html#authenticate-java.lang.String-java.util.Properties-"><code>AuthenticationService.authenticate(java.lang.String, java.util.Properties)</code></a></dd>
</dl>
</li>
</ul>
<a name="getSystemCredentialsDatabaseName--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSystemCredentialsDatabaseName</h4>
<pre>public&nbsp;java.lang.String&nbsp;getSystemCredentialsDatabaseName()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/jdbc/AuthenticationService.html#getSystemCredentialsDatabaseName--">AuthenticationService</a></code></span></div>
<div class="block"><p>
 Get the name of the credentials database used to authenticate system-wide operations.
 This returns null for all implementations except NATIVE authentication.
 </p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/jdbc/AuthenticationService.html#getSystemCredentialsDatabaseName--">getSystemCredentialsDatabaseName</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/jdbc/AuthenticationService.html" title="interface in org.apache.derby.iapi.jdbc">AuthenticationService</a></code></dd>
</dl>
</li>
</ul>
<a name="getProperty-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getProperty</h4>
<pre>public&nbsp;java.lang.String&nbsp;getProperty(java.lang.String&nbsp;key)</pre>
<div class="block">Returns a property if it was set at the database or
 system level. Treated as SERVICE property by default.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a property string value.</dd>
</dl>
</li>
</ul>
<a name="getTransaction--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTransaction</h4>
<pre>protected&nbsp;<a href="../../../../../../org/apache/derby/iapi/store/access/TransactionController.html" title="interface in org.apache.derby.iapi.store.access">TransactionController</a>&nbsp;getTransaction()
                                        throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><p>
 Get a transaction for performing authentication at the database level.
 </p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="getDatabaseProperties--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDatabaseProperties</h4>
<pre>java.util.Properties&nbsp;getDatabaseProperties()
                                    throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Get all the database properties.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the database properties, or <code>null</code> if there is no
 access factory</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="getServiceName--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getServiceName</h4>
<pre>protected&nbsp;java.lang.String&nbsp;getServiceName()</pre>
<div class="block"><p>
 Get the name of the database if we are performing authentication at the database level.
 </p></div>
</li>
</ul>
<a name="getDatabaseProperty-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDatabaseProperty</h4>
<pre>public&nbsp;java.lang.String&nbsp;getDatabaseProperty(java.lang.String&nbsp;key)</pre>
</li>
</ul>
<a name="getSystemProperty-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSystemProperty</h4>
<pre>public&nbsp;java.lang.String&nbsp;getSystemProperty(java.lang.String&nbsp;key)</pre>
</li>
</ul>
<a name="init-boolean-java.util.Dictionary-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>public&nbsp;void&nbsp;init(boolean&nbsp;dbOnly,
                 java.util.Dictionary&nbsp;p)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/services/property/PropertySetCallback.html#init-boolean-java.util.Dictionary-">PropertySetCallback</a></code></span></div>
<div class="block">Initialize the properties for this callback.
                Called when addPropertySetNotification() is called
                with a non-null transaction controller.
                This allows code to set read its initial property
                values at boot time.

                <P>
                Code within an init() method should use the 3 argument
                PropertyUtil method getPropertyFromSet() to obtain a property's value.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/services/property/PropertySetCallback.html#init-boolean-java.util.Dictionary-">init</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/services/property/PropertySetCallback.html" title="interface in org.apache.derby.iapi.services.property">PropertySetCallback</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dbOnly</code> - true if only per-database properties are to be looked at</dd>
<dd><code>p</code> - the complete set of per-database properties.</dd>
</dl>
</li>
</ul>
<a name="validate-java.lang.String-java.io.Serializable-java.util.Dictionary-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>validate</h4>
<pre>public&nbsp;boolean&nbsp;validate(java.lang.String&nbsp;key,
                        java.io.Serializable&nbsp;value,
                        java.util.Dictionary&nbsp;p)
                 throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/services/property/PropertySetCallback.html#validate-java.lang.String-java.io.Serializable-java.util.Dictionary-">PropertySetCallback</a></code></span></div>
<div class="block">Validate a property change.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/services/property/PropertySetCallback.html#validate-java.lang.String-java.io.Serializable-java.util.Dictionary-">validate</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/services/property/PropertySetCallback.html" title="interface in org.apache.derby.iapi.services.property">PropertySetCallback</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - Property key for the property being set</dd>
<dd><code>value</code> - proposed new value for the property being set or null if
                 the property is being dropped.</dd>
<dd><code>p</code> - Property set before the change. SettingProperty may read but
                 must never change p.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if this object was interested in this property, false otherwise.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Oh well.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/services/property/PropertySetCallback.html#validate-java.lang.String-java.io.Serializable-java.util.Dictionary-"><code>PropertySetCallback.validate(java.lang.String, java.io.Serializable, java.util.Dictionary)</code></a></dd>
</dl>
</li>
</ul>
<a name="parsePasswordLifetime-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parsePasswordLifetime</h4>
<pre>protected&nbsp;java.lang.Long&nbsp;parsePasswordLifetime(java.lang.String&nbsp;passwordLifetimeString)</pre>
<div class="block">Parse the value of the password lifetime property. Return null if it is bad.</div>
</li>
</ul>
<a name="parsePasswordThreshold-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parsePasswordThreshold</h4>
<pre>protected&nbsp;java.lang.Double&nbsp;parsePasswordThreshold(java.lang.String&nbsp;expirationThresholdString)</pre>
<div class="block">Parse the value of the password expiration threshold property. Return null if it is bad.</div>
</li>
</ul>
<a name="apply-java.lang.String-java.io.Serializable-java.util.Dictionary-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>apply</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/derby/iapi/services/daemon/Serviceable.html" title="interface in org.apache.derby.iapi.services.daemon">Serviceable</a>&nbsp;apply(java.lang.String&nbsp;key,
                         java.io.Serializable&nbsp;value,
                         java.util.Dictionary&nbsp;p)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/services/property/PropertySetCallback.html#apply-java.lang.String-java.io.Serializable-java.util.Dictionary-">PropertySetCallback</a></code></span></div>
<div class="block">Apply a property change. Will only be called after validate has been called
          and only if validate returned true. If this method is called then the
          new value is the value to be used, ie. the property is not set in the
          overriding JVM system set.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/services/property/PropertySetCallback.html#apply-java.lang.String-java.io.Serializable-java.util.Dictionary-">apply</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/services/property/PropertySetCallback.html" title="interface in org.apache.derby.iapi.services.property">PropertySetCallback</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - Property key for the property being set</dd>
<dd><code>value</code> - proposed new value for the property being set or null if
                 the property is being dropped.</dd>
<dd><code>p</code> - Property set before the change. SettingProperty may read but
                 must never change p.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>post commit work for the property change.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/services/property/PropertySetCallback.html#validate-java.lang.String-java.io.Serializable-java.util.Dictionary-"><code>PropertySetCallback.validate(java.lang.String, java.io.Serializable, java.util.Dictionary)</code></a></dd>
</dl>
</li>
</ul>
<a name="map-java.lang.String-java.io.Serializable-java.util.Dictionary-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>map</h4>
<pre>public&nbsp;java.io.Serializable&nbsp;map(java.lang.String&nbsp;key,
                                java.io.Serializable&nbsp;value,
                                java.util.Dictionary&nbsp;p)
                         throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/services/property/PropertySetCallback.html#map-java.lang.String-java.io.Serializable-java.util.Dictionary-">PropertySetCallback</a></code></span></div>
<div class="block">Map a proposed new value for a property to an official value.

          Will only be called after apply() has been called.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/services/property/PropertySetCallback.html#map-java.lang.String-java.io.Serializable-java.util.Dictionary-">map</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/derby/iapi/services/property/PropertySetCallback.html" title="interface in org.apache.derby.iapi.services.property">PropertySetCallback</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - Property key for the property being set</dd>
<dd><code>value</code> - proposed new value for the property being set or null if
                 the property is being dropped.</dd>
<dd><code>p</code> - Property set before the change. SettingProperty may read but
                 must never change p.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>new value for the change</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Thrown on error.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/services/property/PropertySetCallback.html#map-java.lang.String-java.io.Serializable-java.util.Dictionary-"><code>PropertySetCallback.map(java.lang.String, java.io.Serializable, java.util.Dictionary)</code></a></dd>
</dl>
</li>
</ul>
<a name="requireAuthentication-java.util.Properties-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requireAuthentication</h4>
<pre>protected final&nbsp;boolean&nbsp;requireAuthentication(java.util.Properties&nbsp;properties)</pre>
</li>
</ul>
<a name="hashPasswordSHA1Scheme-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hashPasswordSHA1Scheme</h4>
<pre>protected&nbsp;java.lang.String&nbsp;hashPasswordSHA1Scheme(java.lang.String&nbsp;plainTxtUserPassword)</pre>
<div class="block"><p>
 This method hashes a clear user password using a
 Single Hash algorithm such as SHA-1 (SHA equivalent)
 (it is a 160 bits digest)
 </p>

 <p>
 The digest is returned as an object string.
 </p>

 <p>
 This method is only used by the SHA-1 authentication scheme.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>plainTxtUserPassword</code> - Plain text user password</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>hashed user password (digest) as a String object
         or <code>null</code> if the plaintext password is <code>null</code></dd>
</dl>
</li>
</ul>
<a name="toHexByte-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toHexByte</h4>
<pre>private static&nbsp;byte[]&nbsp;toHexByte(java.lang.String&nbsp;str)</pre>
<div class="block"><p>
 Convert a string into a byte array in hex format.
 </p>

 <p>
 For each character (b) two bytes are generated, the first byte
 represents the high nibble (4 bits) in hexadecimal (<code>b &amp; 0xf0</code>),
 the second byte represents the low nibble (<code>b &amp; 0x0f</code>).
 </p>

 <p>
 The character at <code>str.charAt(0)</code> is represented by the first two
 bytes in the returned String.
 </p>

 <p>
 New code is encouraged to use <code>String.getBytes(String)</code> or similar
 methods instead, since this method does not preserve all bits for
 characters whose codepoint exceeds 8 bits. This method is preserved for
 compatibility with the SHA-1 authentication scheme.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>str</code> - string</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the byte[] (with hexadecimal format) form of the string (str)</dd>
</dl>
</li>
</ul>
<a name="hashUsingDefaultAlgorithm-java.lang.String-java.lang.String-java.util.Dictionary-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hashUsingDefaultAlgorithm</h4>
<pre>java.lang.String&nbsp;hashUsingDefaultAlgorithm(java.lang.String&nbsp;user,
                                           java.lang.String&nbsp;password,
                                           java.util.Dictionary&nbsp;props)
                                    throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><p>
 Hash a password using the default message digest algorithm for this
 system before it's stored in the database.
 </p>

 <p>
 If the data dictionary supports the configurable hash authentication
 scheme, and the property <code>derby.authentication.builtin.algorithm</code>
 is a non-empty string, the password will be hashed using the
 algorithm specified by that property. Otherwise, we fall back to the new
 authentication scheme based on SHA-1. The algorithm used is encoded in
 the returned token so that the code that validates a user's credentials
 knows which algorithm to use.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>user</code> - the user whose password to hash</dd>
<dd><code>password</code> - the plain text password</dd>
<dd><code>props</code> - database properties</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a digest of the user name and password formatted as a string,
         or <code>null</code> if <code>password</code> is <code>null</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - if the specified algorithm is not supported</dd>
</dl>
</li>
</ul>
<a name="getDataDictionary--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDataDictionary</h4>
<pre>private static&nbsp;<a href="../../../../../../org/apache/derby/iapi/sql/dictionary/DataDictionary.html" title="interface in org.apache.derby.iapi.sql.dictionary">DataDictionary</a>&nbsp;getDataDictionary()</pre>
<div class="block">Find the data dictionary for the current connection.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the <code>DataDictionary</code> for the current connection</dd>
</dl>
</li>
</ul>
<a name="substitutePassword-java.lang.String-java.lang.String-java.util.Properties-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>substitutePassword</h4>
<pre>protected&nbsp;java.lang.String&nbsp;substitutePassword(java.lang.String&nbsp;userName,
                                              java.lang.String&nbsp;password,
                                              java.util.Properties&nbsp;info,
                                              boolean&nbsp;databaseUser)</pre>
<div class="block">Strong Password Substitution (USRSSBPWD).

 This method generates a password substitute to authenticate a client
 which is using a DRDA security mechanism such as SECMEC_USRSSBPWD.

 Depending how the user is defined in Derby and if BUILTIN
 is used, the stored password can be in clear-text (system level)
 or encrypted (hashed - *not decryptable*)) (database level) - If the
 user has authenticated at the network level via SECMEC_USRSSBPWD, it
 means we're presented with a password substitute and we need to
 generate a substitute password coming from the store to compare with
 the one passed-in.

 The substitution algorithm used is the same as the one used in the
 SHA-1 authentication scheme (<a href="../../../../../../org/apache/derby/iapi/sql/dictionary/PasswordHasher.html#ID_PATTERN_SHA1_SCHEME"><code>PasswordHasher.ID_PATTERN_SHA1_SCHEME</code></a>), so in
 the case of database passwords stored using that scheme, we can simply
 compare the received hash with the stored hash. If the configurable
 hash authentication scheme <a href="../../../../../../org/apache/derby/iapi/sql/dictionary/PasswordHasher.html#ID_PATTERN_CONFIGURABLE_HASH_SCHEME"><code>PasswordHasher.ID_PATTERN_CONFIGURABLE_HASH_SCHEME</code></a>
 is used, we have no way to find out if the received hash matches the
 stored password, since we cannot decrypt the hashed passwords and
 re-apply another hash algorithm. Therefore, strong password substitution
 only works if the database-level passwords are stored with the SHA-1
 scheme.

 NOTE: A lot of this logic could be shared with the DRDA decryption
       and client encryption managers - This will be done _once_
       code sharing along with its rules are defined between the
       Derby engine, client and network code (PENDING).
 
 Substitution algorithm works as follow:

 PW_TOKEN = SHA-1(PW, ID)
 The password (PW) and user name (ID) can be of any length greater
 than or equal to 1 byte.
 The client generates a 20-byte password substitute (PW_SUB) as follows:
 PW_SUB = SHA-1(PW_TOKEN, RDr, RDs, ID, PWSEQs)
 
 w/ (RDs) as the random client seed and (RDr) as the server one.
 
 See PWDSSB - Strong Password Substitution Security Mechanism
 (DRDA Vol.3 - P.650)</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a substituted password.</dd>
</dl>
</li>
</ul>
<a name="getContextService--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getContextService</h4>
<pre>private static&nbsp;<a href="../../../../../../org/apache/derby/iapi/services/context/ContextService.html" title="class in org.apache.derby.iapi.services.context">ContextService</a>&nbsp;getContextService()</pre>
<div class="block">Privileged lookup of the ContextService. Must be private so that user code
 can't call this entry point.</div>
</li>
</ul>
<a name="getContext-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getContext</h4>
<pre>private static&nbsp;<a href="../../../../../../org/apache/derby/iapi/services/context/Context.html" title="interface in org.apache.derby.iapi.services.context">Context</a>&nbsp;getContext(java.lang.String&nbsp;contextID)</pre>
<div class="block">Privileged lookup of a Context. Must be private so that user code
 can't call this entry point.</div>
</li>
</ul>
<a name="getServiceName-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getServiceName</h4>
<pre>private static&nbsp;java.lang.String&nbsp;getServiceName(java.lang.Object&nbsp;serviceModule)</pre>
<div class="block">Privileged service name lookup. Must be private so that user code
 can't call this entry point.</div>
</li>
</ul>
<a name="getServiceModule-java.lang.Object-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getServiceModule</h4>
<pre>static&nbsp;java.lang.Object&nbsp;getServiceModule(java.lang.Object&nbsp;serviceModule,
                                         java.lang.String&nbsp;factoryInterface)</pre>
<div class="block">Privileged module lookup. Must be package protected so that user code
 can't call this entry point.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Built on Mon 2017-07-03 23:03:59+0530, from revision Unversioned directory</div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../../org/apache/derby/impl/jdbc/authentication/BasicAuthenticationServiceImpl.html" title="class in org.apache.derby.impl.jdbc.authentication"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/derby/impl/jdbc/authentication/AuthenticationServiceBase.html" target="_top">Frames</a></li>
<li><a href="AuthenticationServiceBase.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Apache Derby V10.13 Internals - <i>Copyright &copy; 2004,2016 The Apache Software Foundation. All Rights Reserved.</i></small></p>
</body>
</html>
