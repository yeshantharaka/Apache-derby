<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_66) on Mon Jul 03 23:04:34 IST 2017 -->
<title>DaemonService (Apache Derby V10.13 Internals)</title>
<meta name="date" content="2017-07-03">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DaemonService (Apache Derby V10.13 Internals)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/derby/iapi/services/daemon/DaemonFactory.html" title="interface in org.apache.derby.iapi.services.daemon"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/apache/derby/iapi/services/daemon/IndexStatisticsDaemon.html" title="interface in org.apache.derby.iapi.services.daemon"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/derby/iapi/services/daemon/DaemonService.html" target="_top">Frames</a></li>
<li><a href="DaemonService.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.derby.iapi.services.daemon</div>
<h2 title="Interface DaemonService" class="title">Interface DaemonService</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../../../org/apache/derby/impl/services/daemon/BasicDaemon.html" title="class in org.apache.derby.impl.services.daemon">BasicDaemon</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">DaemonService</span></pre>
<div class="block">A DaemonService provides a background service which is suitable for
  asynchronous I/O and general clean up.  It should not be used as a general
  worker thread for parallel execution.  A DaemonService can be subscribe to by
  many Serviceable objects and a DaemonService will call that object's
  performWork from time to time.  The performWork method is defined by the
  client object and should be well behaved - in other words, it should not take
  too long or hog too many resources or deadlock with anyone else.  And it
  cannot (should not) error out.

  <P>It is up to each <code>DaemonService</code> implementation to define its
  level of service, including
  <UL>
  <LI>how quickly and how often the clients should expect to be be serviced
  <LI>how the clients are prioritized
  <LI>whether the clients need to tolerate spurious services
  </UL>
 
  <P>MT - all routines on the interface must be MT-safe.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/services/daemon/Serviceable.html" title="interface in org.apache.derby.iapi.services.daemon"><code>Serviceable</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/daemon/DaemonService.html#DaemonOff">DaemonOff</a></span></code>
<div class="block">Trace flag that can be used to turn off background daemons
                If DaemonOff is set, background Daemon will not attempt to do anything.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/daemon/DaemonService.html#DaemonTrace">DaemonTrace</a></span></code>
<div class="block">Trace flag that can be used by Daemons to print stuff out</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/daemon/DaemonService.html#TIMER_DELAY">TIMER_DELAY</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/daemon/DaemonService.html#clear--">clear</a></span>()</code>
<div class="block">Clear all the queued up work from this daemon.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/daemon/DaemonService.html#enqueue-org.apache.derby.iapi.services.daemon.Serviceable-boolean-">enqueue</a></span>(<a href="../../../../../../org/apache/derby/iapi/services/daemon/Serviceable.html" title="interface in org.apache.derby.iapi.services.daemon">Serviceable</a>&nbsp;newClient,
       boolean&nbsp;serviceNow)</code>
<div class="block">Request a one time service from the Daemon.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/daemon/DaemonService.html#pause--">pause</a></span>()</code>
<div class="block">Pause.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/daemon/DaemonService.html#resume--">resume</a></span>()</code>
<div class="block">Resume service after a pause</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/daemon/DaemonService.html#serviceNow-int-">serviceNow</a></span>(int&nbsp;clientNumber)</code>
<div class="block">Service this subscription ASAP.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/daemon/DaemonService.html#stop--">stop</a></span>()</code>
<div class="block">End this daemon service</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/daemon/DaemonService.html#subscribe-org.apache.derby.iapi.services.daemon.Serviceable-boolean-">subscribe</a></span>(<a href="../../../../../../org/apache/derby/iapi/services/daemon/Serviceable.html" title="interface in org.apache.derby.iapi.services.daemon">Serviceable</a>&nbsp;newClient,
         boolean&nbsp;onDemandOnly)</code>
<div class="block">Add a new client that this daemon needs to service</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/daemon/DaemonService.html#unsubscribe-int-">unsubscribe</a></span>(int&nbsp;clientNumber)</code>
<div class="block">Get rid of a client from the daemon.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/daemon/DaemonService.html#waitUntilQueueIsEmpty--">waitUntilQueueIsEmpty</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="TIMER_DELAY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TIMER_DELAY</h4>
<pre>static final&nbsp;int TIMER_DELAY</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.iapi.services.daemon.DaemonService.TIMER_DELAY">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="DaemonTrace">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DaemonTrace</h4>
<pre>static final&nbsp;java.lang.String DaemonTrace</pre>
<div class="block">Trace flag that can be used by Daemons to print stuff out</div>
</li>
</ul>
<a name="DaemonOff">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DaemonOff</h4>
<pre>static final&nbsp;java.lang.String DaemonOff</pre>
<div class="block">Trace flag that can be used to turn off background daemons
                If DaemonOff is set, background Daemon will not attempt to do anything.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="subscribe-org.apache.derby.iapi.services.daemon.Serviceable-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>subscribe</h4>
<pre>int&nbsp;subscribe(<a href="../../../../../../org/apache/derby/iapi/services/daemon/Serviceable.html" title="interface in org.apache.derby.iapi.services.daemon">Serviceable</a>&nbsp;newClient,
              boolean&nbsp;onDemandOnly)</pre>
<div class="block">Add a new client that this daemon needs to service</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>newClient</code> - a Serviceable object this daemon will service from time to time</dd>
<dd><code>onDemandOnly</code> - only service this client when it ask for service with a serviceNow request</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a client number that uniquely identifies this client (this subscription)</dd>
</dl>
</li>
</ul>
<a name="unsubscribe-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unsubscribe</h4>
<pre>void&nbsp;unsubscribe(int&nbsp;clientNumber)</pre>
<div class="block">Get rid of a client from the daemon. If a client is being serviced when
                the call is made, the implementation may choose whether or not the call
                should block until the client has completed its work. If the call does
                not block, the client must be prepared to handle calls to its
                <code>performWork()</code> method even after <code>unsubscribe()</code>
                has returned.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>clientNumber</code> - the number that uniquely identify the client</dd>
</dl>
</li>
</ul>
<a name="serviceNow-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serviceNow</h4>
<pre>void&nbsp;serviceNow(int&nbsp;clientNumber)</pre>
<div class="block">Service this subscription ASAP. When this method is called, the
 subscriber's <code>performWork()</code> method is guaranteed to be
 invoked at some point in the future. However, there is no guarantee that
 a subscriber's <code>performWork()</code> is called the same number of
 times as the subscriber calls this method. More precisely, if a
 subscriber is waiting for this daemon service to invoke its
 <code>performWork()</code> method, the daemon service may, but is not
 required to, ignore requests from that subscriber until the
 <code>performWork()</code> method has been invoked.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>clientNumber</code> - the number that uniquely identifies the client</dd>
</dl>
</li>
</ul>
<a name="enqueue-org.apache.derby.iapi.services.daemon.Serviceable-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>enqueue</h4>
<pre>boolean&nbsp;enqueue(<a href="../../../../../../org/apache/derby/iapi/services/daemon/Serviceable.html" title="interface in org.apache.derby.iapi.services.daemon">Serviceable</a>&nbsp;newClient,
                boolean&nbsp;serviceNow)</pre>
<div class="block">Request a one time service from the Daemon.  Unless performWork returns
                REQUEUE (see Serviceable), the daemon will service this client once
                and then it will get rid of this client.  Since no client number is
                associated with this client, it cannot request to be serviced or be
                unsubscribed. 

                The work is always added to the deamon, regardless of the
                state it returns.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>newClient</code> - the object that needs a one time service</dd>
<dd><code>serviceNow</code> - if true, this client should be serviced ASAP, as if a
                serviceNow has been issued.  If false, then this client will be
                serviced with the normal scheduled.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the daemon indicates it is being overloaded,
                false it's happy.</dd>
</dl>
</li>
</ul>
<a name="pause--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pause</h4>
<pre>void&nbsp;pause()</pre>
<div class="block">Pause.  No new service is performed until a resume is issued.</div>
</li>
</ul>
<a name="resume--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resume</h4>
<pre>void&nbsp;resume()</pre>
<div class="block">Resume service after a pause</div>
</li>
</ul>
<a name="stop--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stop</h4>
<pre>void&nbsp;stop()</pre>
<div class="block">End this daemon service</div>
</li>
</ul>
<a name="clear--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clear</h4>
<pre>void&nbsp;clear()</pre>
<div class="block">Clear all the queued up work from this daemon.  Subscriptions are not
                affected.</div>
</li>
</ul>
<a name="waitUntilQueueIsEmpty--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>waitUntilQueueIsEmpty</h4>
<pre>void&nbsp;waitUntilQueueIsEmpty()</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Built on Mon 2017-07-03 23:03:59+0530, from revision Unversioned directory</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/derby/iapi/services/daemon/DaemonFactory.html" title="interface in org.apache.derby.iapi.services.daemon"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/apache/derby/iapi/services/daemon/IndexStatisticsDaemon.html" title="interface in org.apache.derby.iapi.services.daemon"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/derby/iapi/services/daemon/DaemonService.html" target="_top">Frames</a></li>
<li><a href="DaemonService.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Apache Derby V10.13 Internals - <i>Copyright &copy; 2004,2016 The Apache Software Foundation. All Rights Reserved.</i></small></p>
</body>
</html>
