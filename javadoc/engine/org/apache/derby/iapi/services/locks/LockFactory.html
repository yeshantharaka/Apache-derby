<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_66) on Mon Jul 03 23:05:28 IST 2017 -->
<title>LockFactory (Apache Derby V10.13 Internals)</title>
<meta name="date" content="2017-07-03">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="LockFactory (Apache Derby V10.13 Internals)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6,"i10":6,"i11":6,"i12":6,"i13":6,"i14":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/derby/iapi/services/locks/Lockable.html" title="interface in org.apache.derby.iapi.services.locks"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/apache/derby/iapi/services/locks/LockOwner.html" title="interface in org.apache.derby.iapi.services.locks"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/derby/iapi/services/locks/LockFactory.html" target="_top">Frames</a></li>
<li><a href="LockFactory.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.derby.iapi.services.locks</div>
<h2 title="Interface LockFactory" class="title">Interface LockFactory</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd><a href="../../../../../../org/apache/derby/iapi/services/property/PropertySetCallback.html" title="interface in org.apache.derby.iapi.services.property">PropertySetCallback</a></dd>
</dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../../../org/apache/derby/impl/services/locks/AbstractPool.html" title="class in org.apache.derby.impl.services.locks">AbstractPool</a>, <a href="../../../../../../org/apache/derby/impl/services/locks/ConcurrentPool.html" title="class in org.apache.derby.impl.services.locks">ConcurrentPool</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">LockFactory</span>
extends <a href="../../../../../../org/apache/derby/iapi/services/property/PropertySetCallback.html" title="interface in org.apache.derby.iapi.services.property">PropertySetCallback</a></pre>
<div class="block">Generic locking of objects. Enables deadlock detection.

  <BR>
    MT - Mutable - Container Object - Thread Safe</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/locks/LockFactory.html#anyoneBlocked--">anyoneBlocked</a></span>()</code>
<div class="block">Returns true if locks held by anyone are blocking anyone else</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/locks/LockFactory.html#areLocksHeld-org.apache.derby.iapi.services.locks.CompatibilitySpace-">areLocksHeld</a></span>(<a href="../../../../../../org/apache/derby/iapi/services/locks/CompatibilitySpace.html" title="interface in org.apache.derby.iapi.services.locks">CompatibilitySpace</a>&nbsp;compatibilitySpace)</code>
<div class="block">Return true if locks are held in this compatibility space.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/locks/LockFactory.html#areLocksHeld-org.apache.derby.iapi.services.locks.CompatibilitySpace-java.lang.Object-">areLocksHeld</a></span>(<a href="../../../../../../org/apache/derby/iapi/services/locks/CompatibilitySpace.html" title="interface in org.apache.derby.iapi.services.locks">CompatibilitySpace</a>&nbsp;compatibilitySpace,
            java.lang.Object&nbsp;group)</code>
<div class="block">Return true if locks are held in this compatibility space and
                 this group.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/locks/LockFactory.html#clearLimit-org.apache.derby.iapi.services.locks.CompatibilitySpace-java.lang.Object-">clearLimit</a></span>(<a href="../../../../../../org/apache/derby/iapi/services/locks/CompatibilitySpace.html" title="interface in org.apache.derby.iapi.services.locks">CompatibilitySpace</a>&nbsp;compatibilitySpace,
          java.lang.Object&nbsp;group)</code>
<div class="block">Clear a limit set by setLimit.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/services/locks/CompatibilitySpace.html" title="interface in org.apache.derby.iapi.services.locks">CompatibilitySpace</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/locks/LockFactory.html#createCompatibilitySpace-org.apache.derby.iapi.services.locks.LockOwner-">createCompatibilitySpace</a></span>(<a href="../../../../../../org/apache/derby/iapi/services/locks/LockOwner.html" title="interface in org.apache.derby.iapi.services.locks">LockOwner</a>&nbsp;owner)</code>
<div class="block">Create an object which can be used as a compatibility space.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/locks/LockFactory.html#getWaitTimeout--">getWaitTimeout</a></span>()</code>
<div class="block">Get the lock timeout in milliseconds.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/locks/LockFactory.html#isLockHeld-org.apache.derby.iapi.services.locks.CompatibilitySpace-java.lang.Object-org.apache.derby.iapi.services.locks.Lockable-java.lang.Object-">isLockHeld</a></span>(<a href="../../../../../../org/apache/derby/iapi/services/locks/CompatibilitySpace.html" title="interface in org.apache.derby.iapi.services.locks">CompatibilitySpace</a>&nbsp;compatibilitySpace,
          java.lang.Object&nbsp;group,
          <a href="../../../../../../org/apache/derby/iapi/services/locks/Lockable.html" title="interface in org.apache.derby.iapi.services.locks">Lockable</a>&nbsp;ref,
          java.lang.Object&nbsp;qualifier)</code>
<div class="block">Check to see if a specific lock is held.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/locks/LockFactory.html#lockObject-org.apache.derby.iapi.services.locks.CompatibilitySpace-java.lang.Object-org.apache.derby.iapi.services.locks.Lockable-java.lang.Object-int-">lockObject</a></span>(<a href="../../../../../../org/apache/derby/iapi/services/locks/CompatibilitySpace.html" title="interface in org.apache.derby.iapi.services.locks">CompatibilitySpace</a>&nbsp;compatibilitySpace,
          java.lang.Object&nbsp;group,
          <a href="../../../../../../org/apache/derby/iapi/services/locks/Lockable.html" title="interface in org.apache.derby.iapi.services.locks">Lockable</a>&nbsp;ref,
          java.lang.Object&nbsp;qualifier,
          int&nbsp;timeout)</code>
<div class="block">Lock an object within a compatibility space
                and associate the lock with a group object,
                waits up to timeout milli-seconds for the object to become unlocked.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>java.util.Enumeration</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/locks/LockFactory.html#makeVirtualLockTable--">makeVirtualLockTable</a></span>()</code>
<div class="block">Make a virtual lock table for diagnostics.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/locks/LockFactory.html#setLimit-org.apache.derby.iapi.services.locks.CompatibilitySpace-java.lang.Object-int-org.apache.derby.iapi.services.locks.Limit-">setLimit</a></span>(<a href="../../../../../../org/apache/derby/iapi/services/locks/CompatibilitySpace.html" title="interface in org.apache.derby.iapi.services.locks">CompatibilitySpace</a>&nbsp;compatibilitySpace,
        java.lang.Object&nbsp;group,
        int&nbsp;limit,
        <a href="../../../../../../org/apache/derby/iapi/services/locks/Limit.html" title="interface in org.apache.derby.iapi.services.locks">Limit</a>&nbsp;callback)</code>
<div class="block">Install a limit that is called when the size of the group exceeds
                the required limit.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/locks/LockFactory.html#transfer-org.apache.derby.iapi.services.locks.CompatibilitySpace-java.lang.Object-java.lang.Object-">transfer</a></span>(<a href="../../../../../../org/apache/derby/iapi/services/locks/CompatibilitySpace.html" title="interface in org.apache.derby.iapi.services.locks">CompatibilitySpace</a>&nbsp;compatibilitySpace,
        java.lang.Object&nbsp;oldGroup,
        java.lang.Object&nbsp;newGroup)</code>
<div class="block">Transfer a set of locks from one group to another.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/locks/LockFactory.html#unlock-org.apache.derby.iapi.services.locks.CompatibilitySpace-java.lang.Object-org.apache.derby.iapi.services.locks.Lockable-java.lang.Object-">unlock</a></span>(<a href="../../../../../../org/apache/derby/iapi/services/locks/CompatibilitySpace.html" title="interface in org.apache.derby.iapi.services.locks">CompatibilitySpace</a>&nbsp;compatibilitySpace,
      java.lang.Object&nbsp;group,
      <a href="../../../../../../org/apache/derby/iapi/services/locks/Lockable.html" title="interface in org.apache.derby.iapi.services.locks">Lockable</a>&nbsp;ref,
      java.lang.Object&nbsp;qualifier)</code>
<div class="block">Unlock a single lock on a single object held within this compatibility
                space and locked with the supplied qualifier.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/locks/LockFactory.html#unlockGroup-org.apache.derby.iapi.services.locks.CompatibilitySpace-java.lang.Object-">unlockGroup</a></span>(<a href="../../../../../../org/apache/derby/iapi/services/locks/CompatibilitySpace.html" title="interface in org.apache.derby.iapi.services.locks">CompatibilitySpace</a>&nbsp;compatibilitySpace,
           java.lang.Object&nbsp;group)</code>
<div class="block">Unlock all locks in a group.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/locks/LockFactory.html#unlockGroup-org.apache.derby.iapi.services.locks.CompatibilitySpace-java.lang.Object-org.apache.derby.iapi.util.Matchable-">unlockGroup</a></span>(<a href="../../../../../../org/apache/derby/iapi/services/locks/CompatibilitySpace.html" title="interface in org.apache.derby.iapi.services.locks">CompatibilitySpace</a>&nbsp;compatibilitySpace,
           java.lang.Object&nbsp;group,
           <a href="../../../../../../org/apache/derby/iapi/util/Matchable.html" title="interface in org.apache.derby.iapi.util">Matchable</a>&nbsp;key)</code>
<div class="block">Unlock all locks on a group that match the passed in value.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/locks/LockFactory.html#zeroDurationlockObject-org.apache.derby.iapi.services.locks.CompatibilitySpace-org.apache.derby.iapi.services.locks.Lockable-java.lang.Object-int-">zeroDurationlockObject</a></span>(<a href="../../../../../../org/apache/derby/iapi/services/locks/CompatibilitySpace.html" title="interface in org.apache.derby.iapi.services.locks">CompatibilitySpace</a>&nbsp;compatibilitySpace,
                      <a href="../../../../../../org/apache/derby/iapi/services/locks/Lockable.html" title="interface in org.apache.derby.iapi.services.locks">Lockable</a>&nbsp;ref,
                      java.lang.Object&nbsp;qualifier,
                      int&nbsp;timeout)</code>
<div class="block">Lock an object with zero duration within a compatibility space,
                waits up to timeout milli-seconds for the object to become unlocked.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.derby.iapi.services.property.PropertySetCallback">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.apache.derby.iapi.services.property.<a href="../../../../../../org/apache/derby/iapi/services/property/PropertySetCallback.html" title="interface in org.apache.derby.iapi.services.property">PropertySetCallback</a></h3>
<code><a href="../../../../../../org/apache/derby/iapi/services/property/PropertySetCallback.html#apply-java.lang.String-java.io.Serializable-java.util.Dictionary-">apply</a>, <a href="../../../../../../org/apache/derby/iapi/services/property/PropertySetCallback.html#init-boolean-java.util.Dictionary-">init</a>, <a href="../../../../../../org/apache/derby/iapi/services/property/PropertySetCallback.html#map-java.lang.String-java.io.Serializable-java.util.Dictionary-">map</a>, <a href="../../../../../../org/apache/derby/iapi/services/property/PropertySetCallback.html#validate-java.lang.String-java.io.Serializable-java.util.Dictionary-">validate</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="createCompatibilitySpace-org.apache.derby.iapi.services.locks.LockOwner-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createCompatibilitySpace</h4>
<pre><a href="../../../../../../org/apache/derby/iapi/services/locks/CompatibilitySpace.html" title="interface in org.apache.derby.iapi.services.locks">CompatibilitySpace</a>&nbsp;createCompatibilitySpace(<a href="../../../../../../org/apache/derby/iapi/services/locks/LockOwner.html" title="interface in org.apache.derby.iapi.services.locks">LockOwner</a>&nbsp;owner)</pre>
<div class="block">Create an object which can be used as a compatibility space. A
 compatibility space object can only be used in the
 <code>LockFactory</code> that created it.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>owner</code> - the owner of the compatibility space (typically a
 transaction object). Might be <code>null</code>.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an object which represents a compatibility space</dd>
</dl>
</li>
</ul>
<a name="lockObject-org.apache.derby.iapi.services.locks.CompatibilitySpace-java.lang.Object-org.apache.derby.iapi.services.locks.Lockable-java.lang.Object-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lockObject</h4>
<pre>boolean&nbsp;lockObject(<a href="../../../../../../org/apache/derby/iapi/services/locks/CompatibilitySpace.html" title="interface in org.apache.derby.iapi.services.locks">CompatibilitySpace</a>&nbsp;compatibilitySpace,
                   java.lang.Object&nbsp;group,
                   <a href="../../../../../../org/apache/derby/iapi/services/locks/Lockable.html" title="interface in org.apache.derby.iapi.services.locks">Lockable</a>&nbsp;ref,
                   java.lang.Object&nbsp;qualifier,
                   int&nbsp;timeout)
            throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Lock an object within a compatibility space
                and associate the lock with a group object,
                waits up to timeout milli-seconds for the object to become unlocked. A 
        timeout of 0 means do not wait for the lock to be unlocked.
                Note the actual time waited is approximate.
                <P>
                A compatibility space in an space where lock requests are assumed to be
        compatible and granted by the lock manager if the trio
        {compatibilitySpace, ref, qualifier} are equal (i.e. reference equality
        for qualifier and compatibilitySpace, equals() method for ref).
                Granted by the lock manager means that the Lockable object may or may 
        not be queried to see if the request is compatible.
                <BR>
                A compatibility space is not assumed to be owned by a single thread.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>compatibilitySpace</code> - object defining compatibility space</dd>
<dd><code>group</code> - handle of group, must be private to a thread.</dd>
<dd><code>ref</code> - reference to object to be locked</dd>
<dd><code>qualifier</code> - A qualification of the request.</dd>
<dd><code>timeout</code> - the maximum time to wait in milliseconds, LockFactory.NO_WAIT means don't wait.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the lock was obtained, false if timeout is equal to LockFactory.NO_WAIT and the lock
                could not be granted.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - if a deadlock has occurred (message id
            will be LockFactory.Deadlock), or if the wait for the lock timed
            out (message id will be LockFactory.TimeOut), or if another thread
            interrupted this thread while it was waiting for the lock (this will
            be a StandardException with a nested InterruptedException, and the
            message id will be LockFactory.InterruptedExceptionId), or if
            any other error occurs when locking the object</dd>
</dl>
</li>
</ul>
<a name="unlock-org.apache.derby.iapi.services.locks.CompatibilitySpace-java.lang.Object-org.apache.derby.iapi.services.locks.Lockable-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlock</h4>
<pre>int&nbsp;unlock(<a href="../../../../../../org/apache/derby/iapi/services/locks/CompatibilitySpace.html" title="interface in org.apache.derby.iapi.services.locks">CompatibilitySpace</a>&nbsp;compatibilitySpace,
           java.lang.Object&nbsp;group,
           <a href="../../../../../../org/apache/derby/iapi/services/locks/Lockable.html" title="interface in org.apache.derby.iapi.services.locks">Lockable</a>&nbsp;ref,
           java.lang.Object&nbsp;qualifier)</pre>
<div class="block">Unlock a single lock on a single object held within this compatibility
                space and locked with the supplied qualifier.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>compatibilitySpace</code> - object defining compatibility space</dd>
<dd><code>group</code> - handle of group.</dd>
<dd><code>ref</code> - Reference to object to be unlocked.</dd>
<dd><code>qualifier</code> - qualifier of lock to be unlocked</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>number of locks released (one or zero).</dd>
</dl>
</li>
</ul>
<a name="unlockGroup-org.apache.derby.iapi.services.locks.CompatibilitySpace-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlockGroup</h4>
<pre>void&nbsp;unlockGroup(<a href="../../../../../../org/apache/derby/iapi/services/locks/CompatibilitySpace.html" title="interface in org.apache.derby.iapi.services.locks">CompatibilitySpace</a>&nbsp;compatibilitySpace,
                 java.lang.Object&nbsp;group)</pre>
<div class="block">Unlock all locks in a group.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>compatibilitySpace</code> - object defining compatibility space</dd>
<dd><code>group</code> - handle of group that objects were locked with.</dd>
</dl>
</li>
</ul>
<a name="unlockGroup-org.apache.derby.iapi.services.locks.CompatibilitySpace-java.lang.Object-org.apache.derby.iapi.util.Matchable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlockGroup</h4>
<pre>void&nbsp;unlockGroup(<a href="../../../../../../org/apache/derby/iapi/services/locks/CompatibilitySpace.html" title="interface in org.apache.derby.iapi.services.locks">CompatibilitySpace</a>&nbsp;compatibilitySpace,
                 java.lang.Object&nbsp;group,
                 <a href="../../../../../../org/apache/derby/iapi/util/Matchable.html" title="interface in org.apache.derby.iapi.util">Matchable</a>&nbsp;key)</pre>
<div class="block">Unlock all locks on a group that match the passed in value.</div>
</li>
</ul>
<a name="transfer-org.apache.derby.iapi.services.locks.CompatibilitySpace-java.lang.Object-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>transfer</h4>
<pre>void&nbsp;transfer(<a href="../../../../../../org/apache/derby/iapi/services/locks/CompatibilitySpace.html" title="interface in org.apache.derby.iapi.services.locks">CompatibilitySpace</a>&nbsp;compatibilitySpace,
              java.lang.Object&nbsp;oldGroup,
              java.lang.Object&nbsp;newGroup)</pre>
<div class="block">Transfer a set of locks from one group to another.</div>
</li>
</ul>
<a name="anyoneBlocked--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>anyoneBlocked</h4>
<pre>boolean&nbsp;anyoneBlocked()</pre>
<div class="block">Returns true if locks held by anyone are blocking anyone else</div>
</li>
</ul>
<a name="areLocksHeld-org.apache.derby.iapi.services.locks.CompatibilitySpace-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>areLocksHeld</h4>
<pre>boolean&nbsp;areLocksHeld(<a href="../../../../../../org/apache/derby/iapi/services/locks/CompatibilitySpace.html" title="interface in org.apache.derby.iapi.services.locks">CompatibilitySpace</a>&nbsp;compatibilitySpace,
                     java.lang.Object&nbsp;group)</pre>
<div class="block">Return true if locks are held in this compatibility space and
                 this group.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>group</code> - handle of group that objects were locked with.</dd>
</dl>
</li>
</ul>
<a name="areLocksHeld-org.apache.derby.iapi.services.locks.CompatibilitySpace-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>areLocksHeld</h4>
<pre>boolean&nbsp;areLocksHeld(<a href="../../../../../../org/apache/derby/iapi/services/locks/CompatibilitySpace.html" title="interface in org.apache.derby.iapi.services.locks">CompatibilitySpace</a>&nbsp;compatibilitySpace)</pre>
<div class="block">Return true if locks are held in this compatibility space.</div>
</li>
</ul>
<a name="zeroDurationlockObject-org.apache.derby.iapi.services.locks.CompatibilitySpace-org.apache.derby.iapi.services.locks.Lockable-java.lang.Object-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>zeroDurationlockObject</h4>
<pre>boolean&nbsp;zeroDurationlockObject(<a href="../../../../../../org/apache/derby/iapi/services/locks/CompatibilitySpace.html" title="interface in org.apache.derby.iapi.services.locks">CompatibilitySpace</a>&nbsp;compatibilitySpace,
                               <a href="../../../../../../org/apache/derby/iapi/services/locks/Lockable.html" title="interface in org.apache.derby.iapi.services.locks">Lockable</a>&nbsp;ref,
                               java.lang.Object&nbsp;qualifier,
                               int&nbsp;timeout)
                        throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Lock an object with zero duration within a compatibility space,
                waits up to timeout milli-seconds for the object to become unlocked. A 
        timeout of 0 means do not wait for the lock to be unlocked.
                Note the actual time waited is approximate.
                <P>
                Zero duration means the lock is released as soon as it is obtained.
                <P>
                A compatibility space in an space where lock requests are assumed to be
        compatible and granted by the lock manager if the trio
        {compatibilitySpace, ref, qualifier} are equal (i.e. reference equality
        for qualifier and compatibilitySpace, equals() method for ref).
                Granted by the lock manager means that the Lockable object may or may 
        not be queried to see if the request is compatible.
                <BR>
                A compatibility space is not assumed to be owned by a single thread.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>compatibilitySpace</code> - object defining compatibility space</dd>
<dd><code>ref</code> - reference to object to be locked</dd>
<dd><code>qualifier</code> - A qualification of the request.</dd>
<dd><code>timeout</code> - the maximum time to wait in milliseconds, LockFactory.NO_WAIT means don't wait.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the lock was obtained, false if timeout is equal to LockFactory.NO_WAIT and the lock
                could not be granted.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - if a deadlock has occurred (message id
            will be LockFactory.Deadlock), or if the wait for the lock timed
            out (message id will be LockFactory.TimeOut), or if another thread
            interrupted this thread while it was waiting for the lock (this will
            be a StandardException with a nested InterruptedException, and the
            message id will be LockFactory.InterruptedExceptionId), or if
            any other error occurs when locking the object</dd>
</dl>
</li>
</ul>
<a name="isLockHeld-org.apache.derby.iapi.services.locks.CompatibilitySpace-java.lang.Object-org.apache.derby.iapi.services.locks.Lockable-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isLockHeld</h4>
<pre>boolean&nbsp;isLockHeld(<a href="../../../../../../org/apache/derby/iapi/services/locks/CompatibilitySpace.html" title="interface in org.apache.derby.iapi.services.locks">CompatibilitySpace</a>&nbsp;compatibilitySpace,
                   java.lang.Object&nbsp;group,
                   <a href="../../../../../../org/apache/derby/iapi/services/locks/Lockable.html" title="interface in org.apache.derby.iapi.services.locks">Lockable</a>&nbsp;ref,
                   java.lang.Object&nbsp;qualifier)</pre>
<div class="block">Check to see if a specific lock is held.</div>
</li>
</ul>
<a name="getWaitTimeout--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWaitTimeout</h4>
<pre>int&nbsp;getWaitTimeout()</pre>
<div class="block">Get the lock timeout in milliseconds. A negative number means that
        there is no timeout.</div>
</li>
</ul>
<a name="setLimit-org.apache.derby.iapi.services.locks.CompatibilitySpace-java.lang.Object-int-org.apache.derby.iapi.services.locks.Limit-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLimit</h4>
<pre>void&nbsp;setLimit(<a href="../../../../../../org/apache/derby/iapi/services/locks/CompatibilitySpace.html" title="interface in org.apache.derby.iapi.services.locks">CompatibilitySpace</a>&nbsp;compatibilitySpace,
              java.lang.Object&nbsp;group,
              int&nbsp;limit,
              <a href="../../../../../../org/apache/derby/iapi/services/locks/Limit.html" title="interface in org.apache.derby.iapi.services.locks">Limit</a>&nbsp;callback)</pre>
<div class="block">Install a limit that is called when the size of the group exceeds
                the required limit.
                <BR>
                It is not guaranteed that the callback method (Limit.reached) is
                called as soon as the group size exceeds the given limit.
                If the callback method does not result in a decrease in the
                number of locks held then the lock factory implementation
                may delay calling the method again. E.g. with a limit
                of 500 and a reached() method that does nothing, may result
                in the call back method only being called when the group size reaches
                550.
                <BR>
                Only one limit may be in place for a group at any time.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/services/locks/Limit.html" title="interface in org.apache.derby.iapi.services.locks"><code>Limit</code></a></dd>
</dl>
</li>
</ul>
<a name="clearLimit-org.apache.derby.iapi.services.locks.CompatibilitySpace-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearLimit</h4>
<pre>void&nbsp;clearLimit(<a href="../../../../../../org/apache/derby/iapi/services/locks/CompatibilitySpace.html" title="interface in org.apache.derby.iapi.services.locks">CompatibilitySpace</a>&nbsp;compatibilitySpace,
                java.lang.Object&nbsp;group)</pre>
<div class="block">Clear a limit set by setLimit.</div>
</li>
</ul>
<a name="makeVirtualLockTable--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>makeVirtualLockTable</h4>
<pre>java.util.Enumeration&nbsp;makeVirtualLockTable()</pre>
<div class="block">Make a virtual lock table for diagnostics.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Built on Mon 2017-07-03 23:03:59+0530, from revision Unversioned directory</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/derby/iapi/services/locks/Lockable.html" title="interface in org.apache.derby.iapi.services.locks"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/apache/derby/iapi/services/locks/LockOwner.html" title="interface in org.apache.derby.iapi.services.locks"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/derby/iapi/services/locks/LockFactory.html" target="_top">Frames</a></li>
<li><a href="LockFactory.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Apache Derby V10.13 Internals - <i>Copyright &copy; 2004,2016 The Apache Software Foundation. All Rights Reserved.</i></small></p>
</body>
</html>
