<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_66) on Mon Jul 03 23:05:06 IST 2017 -->
<title>ContextManager (Apache Derby V10.13 Internals)</title>
<meta name="date" content="2017-07-03">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ContextManager (Apache Derby V10.13 Internals)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/derby/iapi/services/context/ContextImpl.html" title="class in org.apache.derby.iapi.services.context"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.CtxStack.html" title="class in org.apache.derby.iapi.services.context"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/derby/iapi/services/context/ContextManager.html" target="_top">Frames</a></li>
<li><a href="ContextManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.derby.iapi.services.context</div>
<h2 title="Class ContextManager" class="title">Class ContextManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.derby.iapi.services.context.ContextManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">ContextManager</span>
extends java.lang.Object</pre>
<div class="block">The ContextManager collects contexts as they are
 created. It maintains stacks of contexts by
 named ids, so that the top context of a given
 type can be returned. It also maintains a global
 stack so that contexts can be traversed in the
 order they were created.
 <p>
 The first implementation of the context manager
 assumes there is only one thread to worry about
 and that the user(s) of the class only create one
 instance of ContextManager.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.CtxStack.html" title="class in org.apache.derby.iapi.services.context">ContextManager.CtxStack</a></span></code>
<div class="block">The CtxStack implement a stack on top of an ArrayList (to avoid
 the inherent overhead associated with java.util.Stack which is
 built on top of java.util.Vector, which is fully
 synchronized).</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.html#activeCount">activeCount</a></span></code>
<div class="block">Count of the number of setCurrentContextManager calls
 by a single thread, for nesting situations with a single
 active Contextmanager.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) java.lang.Thread</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.html#activeThread">activeThread</a></span></code>
<div class="block">The thread that owns this ContextManager, set by
 ContextService.setCurrentContextManager and reset
 by resetCurrentContextManager.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.HashMap&lt;java.lang.String,<a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.CtxStack.html" title="class in org.apache.derby.iapi.services.context">ContextManager.CtxStack</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.html#ctxTable">ctxTable</a></span></code>
<div class="block">HashMap that holds the Context objects.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/iapi/services/stream/HeaderPrintWriter.html" title="interface in org.apache.derby.iapi.services.stream">HeaderPrintWriter</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.html#errorStream">errorStream</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/iapi/error/ErrorStringBuilder.html" title="class in org.apache.derby.iapi.error">ErrorStringBuilder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.html#errorStringBuilder">errorStringBuilder</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.html#extDiagSeverityLevel">extDiagSeverityLevel</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/derby/iapi/services/i18n/LocaleFinder.html" title="interface in org.apache.derby.iapi.services.i18n">LocaleFinder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.html#finder">finder</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.ArrayList&lt;<a href="../../../../../../org/apache/derby/iapi/services/context/Context.html" title="interface in org.apache.derby.iapi.services.context">Context</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.html#holder">holder</a></span></code>
<div class="block">List of all Contexts</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.html#logSeverityLevel">logSeverityLevel</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.Locale</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.html#messageLocale">messageLocale</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="../../../../../../org/apache/derby/iapi/services/context/ContextService.html" title="class in org.apache.derby.iapi.services.context">ContextService</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.html#owningCsf">owningCsf</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.html#shutdown">shutdown</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.html#threadDump">threadDump</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.html#ContextManager-org.apache.derby.iapi.services.context.ContextService-org.apache.derby.iapi.services.stream.HeaderPrintWriter-">ContextManager</a></span>(<a href="../../../../../../org/apache/derby/iapi/services/context/ContextService.html" title="class in org.apache.derby.iapi.services.context">ContextService</a>&nbsp;csf,
              <a href="../../../../../../org/apache/derby/iapi/services/stream/HeaderPrintWriter.html" title="interface in org.apache.derby.iapi.services.stream">HeaderPrintWriter</a>&nbsp;stream)</code>
<div class="block">Constructs a new instance.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.html#checkInterrupt--">checkInterrupt</a></span>()</code>
<div class="block">Check to see if we have been interrupted.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.html#cleanupOnError-java.lang.Throwable-boolean-">cleanupOnError</a></span>(java.lang.Throwable&nbsp;error,
              boolean&nbsp;diagActive)</code>
<div class="block">clean up error and print it to derby.log.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.html#flushErrorString--">flushErrorString</a></span>()</code>
<div class="block">Flush the built up error string to whereever
 it is supposed to go, and reset the error string</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/services/context/Context.html" title="interface in org.apache.derby.iapi.services.context">Context</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.html#getContext-java.lang.String-">getContext</a></span>(java.lang.String&nbsp;contextId)</code>
<div class="block">Obtain the last pushed Context object of the type indicated by
 the contextId argument.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../../../org/apache/derby/iapi/services/context/Context.html" title="interface in org.apache.derby.iapi.services.context">Context</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.html#getContextStack-java.lang.String-">getContextStack</a></span>(java.lang.String&nbsp;contextId)</code>
<div class="block">Return an unmodifiable list reference to the ArrayList backing
 CtxStack object for this type of Contexts.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.html#getErrorSeverity-java.lang.Throwable-">getErrorSeverity</a></span>(java.lang.Throwable&nbsp;error)</code>
<div class="block">return the severity of the exception.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>java.util.Locale</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.html#getMessageLocale--">getMessageLocale</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.html#isEmpty--">isEmpty</a></span>()</code>
<div class="block">Is the ContextManager empty containing no Contexts.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.html#popContext--">popContext</a></span>()</code>
<div class="block">Remove the last pushed Context object, regardless of type.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.html#popContext-org.apache.derby.iapi.services.context.Context-">popContext</a></span>(<a href="../../../../../../org/apache/derby/iapi/services/context/Context.html" title="interface in org.apache.derby.iapi.services.context">Context</a>&nbsp;theContext)</code>
<div class="block">Removes the specified Context object.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.html#pushContext-org.apache.derby.iapi.services.context.Context-">pushContext</a></span>(<a href="../../../../../../org/apache/derby/iapi/services/context/Context.html" title="interface in org.apache.derby.iapi.services.context">Context</a>&nbsp;newContext)</code>
<div class="block">Add a Context object to the ContextManager.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.html#reportError-java.lang.Throwable-">reportError</a></span>(java.lang.Throwable&nbsp;t)</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.html#setInterrupted-org.apache.derby.iapi.services.context.Context-">setInterrupted</a></span>(<a href="../../../../../../org/apache/derby/iapi/services/context/Context.html" title="interface in org.apache.derby.iapi.services.context">Context</a>&nbsp;c)</code>&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.html#setLocaleFinder-org.apache.derby.iapi.services.i18n.LocaleFinder-">setLocaleFinder</a></span>(<a href="../../../../../../org/apache/derby/iapi/services/i18n/LocaleFinder.html" title="interface in org.apache.derby.iapi.services.i18n">LocaleFinder</a>&nbsp;finder)</code>
<div class="block">Set the locale for this context.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.html#setMessageLocale-java.lang.String-">setMessageLocale</a></span>(java.lang.String&nbsp;localeID)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="ctxTable">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ctxTable</h4>
<pre>private final&nbsp;java.util.HashMap&lt;java.lang.String,<a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.CtxStack.html" title="class in org.apache.derby.iapi.services.context">ContextManager.CtxStack</a>&gt; ctxTable</pre>
<div class="block">HashMap that holds the Context objects. The Contexts are stored
 with a String key.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.html#pushContext-org.apache.derby.iapi.services.context.Context-"><code>pushContext(Context)</code></a></dd>
</dl>
</li>
</ul>
<a name="holder">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>holder</h4>
<pre>private final&nbsp;java.util.ArrayList&lt;<a href="../../../../../../org/apache/derby/iapi/services/context/Context.html" title="interface in org.apache.derby.iapi.services.context">Context</a>&gt; holder</pre>
<div class="block">List of all Contexts</div>
</li>
</ul>
<a name="messageLocale">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>messageLocale</h4>
<pre>private&nbsp;java.util.Locale messageLocale</pre>
</li>
</ul>
<a name="owningCsf">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>owningCsf</h4>
<pre>final&nbsp;<a href="../../../../../../org/apache/derby/iapi/services/context/ContextService.html" title="class in org.apache.derby.iapi.services.context">ContextService</a> owningCsf</pre>
</li>
</ul>
<a name="logSeverityLevel">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logSeverityLevel</h4>
<pre>private&nbsp;int logSeverityLevel</pre>
</li>
</ul>
<a name="extDiagSeverityLevel">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>extDiagSeverityLevel</h4>
<pre>private&nbsp;int extDiagSeverityLevel</pre>
</li>
</ul>
<a name="errorStream">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>errorStream</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/derby/iapi/services/stream/HeaderPrintWriter.html" title="interface in org.apache.derby.iapi.services.stream">HeaderPrintWriter</a> errorStream</pre>
</li>
</ul>
<a name="errorStringBuilder">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>errorStringBuilder</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/derby/iapi/error/ErrorStringBuilder.html" title="class in org.apache.derby.iapi.error">ErrorStringBuilder</a> errorStringBuilder</pre>
</li>
</ul>
<a name="threadDump">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>threadDump</h4>
<pre>private&nbsp;java.lang.String threadDump</pre>
</li>
</ul>
<a name="shutdown">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdown</h4>
<pre>private&nbsp;boolean shutdown</pre>
</li>
</ul>
<a name="finder">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finder</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/derby/iapi/services/i18n/LocaleFinder.html" title="interface in org.apache.derby.iapi.services.i18n">LocaleFinder</a> finder</pre>
</li>
</ul>
<a name="activeThread">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>activeThread</h4>
<pre>java.lang.Thread activeThread</pre>
<div class="block">The thread that owns this ContextManager, set by
 ContextService.setCurrentContextManager and reset
 by resetCurrentContextManager. Only a single
 thread can be active in a ContextManager at any time,
 and the thread only "owns" the ContextManager while
 it is executing code within Derby. In the JDBC case
 setCurrentContextManager is called at the start of
 a JBDC method and resetCurrentContextManager on completion.
 Nesting within the same thread is supported, such as server-side
 JDBC calls in a Java routine or procedure. In that case
 the activeCount will represent the level of nesting, in
 some situations.
 <BR></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/services/context/ContextService.html#setCurrentContextManager-org.apache.derby.iapi.services.context.ContextManager-"><code>ContextService.setCurrentContextManager(ContextManager)</code></a>, 
<a href="../../../../../../org/apache/derby/iapi/services/context/ContextService.html#resetCurrentContextManager-org.apache.derby.iapi.services.context.ContextManager-"><code>ContextService.resetCurrentContextManager(ContextManager)</code></a>, 
<a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.html#activeCount"><code>activeCount</code></a></dd>
</dl>
</li>
</ul>
<a name="activeCount">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>activeCount</h4>
<pre>int activeCount</pre>
<div class="block">Count of the number of setCurrentContextManager calls
 by a single thread, for nesting situations with a single
 active Contextmanager. If nesting is occuring with multiple
 different ContextManagers then this value is set to -1
 and nesting is represented by entries in a stack in the
 ThreadLocal variable, threadContextList.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/services/context/ContextService.html#threadContextList"><code>ContextService.threadContextList</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ContextManager-org.apache.derby.iapi.services.context.ContextService-org.apache.derby.iapi.services.stream.HeaderPrintWriter-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ContextManager</h4>
<pre>ContextManager(<a href="../../../../../../org/apache/derby/iapi/services/context/ContextService.html" title="class in org.apache.derby.iapi.services.context">ContextService</a>&nbsp;csf,
               <a href="../../../../../../org/apache/derby/iapi/services/stream/HeaderPrintWriter.html" title="interface in org.apache.derby.iapi.services.stream">HeaderPrintWriter</a>&nbsp;stream)</pre>
<div class="block">Constructs a new instance. No CtxStacks are inserted into the
 hashMap as they will be allocated on demand.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>csf</code> - the ContextService owning this ContextManager</dd>
<dd><code>stream</code> - error stream for reporting errors</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="pushContext-org.apache.derby.iapi.services.context.Context-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pushContext</h4>
<pre>public&nbsp;void&nbsp;pushContext(<a href="../../../../../../org/apache/derby/iapi/services/context/Context.html" title="interface in org.apache.derby.iapi.services.context">Context</a>&nbsp;newContext)</pre>
<div class="block">Add a Context object to the ContextManager. The object is added
 both to the holder list and to a stack for the specific type of
 Context.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>newContext</code> - the new Context object</dd>
</dl>
</li>
</ul>
<a name="getContext-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getContext</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/derby/iapi/services/context/Context.html" title="interface in org.apache.derby.iapi.services.context">Context</a>&nbsp;getContext(java.lang.String&nbsp;contextId)</pre>
<div class="block">Obtain the last pushed Context object of the type indicated by
 the contextId argument.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>contextId</code> - a String identifying the type of Context</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The Context object with the corresponding contextId, or null if not found</dd>
</dl>
</li>
</ul>
<a name="popContext--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>popContext</h4>
<pre>public&nbsp;void&nbsp;popContext()</pre>
<div class="block">Remove the last pushed Context object, regardless of type. If
 there are no Context objects, no action is taken.</div>
</li>
</ul>
<a name="popContext-org.apache.derby.iapi.services.context.Context-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>popContext</h4>
<pre>void&nbsp;popContext(<a href="../../../../../../org/apache/derby/iapi/services/context/Context.html" title="interface in org.apache.derby.iapi.services.context">Context</a>&nbsp;theContext)</pre>
<div class="block">Removes the specified Context object. If
 the specified Context object does not exist, the call will fail.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>theContext</code> - the Context object to remove.</dd>
</dl>
</li>
</ul>
<a name="isEmpty--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isEmpty</h4>
<pre>final&nbsp;boolean&nbsp;isEmpty()</pre>
<div class="block">Is the ContextManager empty containing no Contexts.</div>
</li>
</ul>
<a name="getContextStack-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getContextStack</h4>
<pre>public final&nbsp;java.util.List&lt;<a href="../../../../../../org/apache/derby/iapi/services/context/Context.html" title="interface in org.apache.derby.iapi.services.context">Context</a>&gt;&nbsp;getContextStack(java.lang.String&nbsp;contextId)</pre>
<div class="block">Return an unmodifiable list reference to the ArrayList backing
 CtxStack object for this type of Contexts. This method allows
 fast traversal of all Contexts on that stack. The first element
 in the List corresponds to the bottom of the stack. The
 assumption is that the Stack will not be modified while it is
 being traversed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>contextId</code> - the type of Context stack to return.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an unmodifiable "view" of the ArrayList backing the stack</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/impl/sql/conn/GenericLanguageConnectionContext.html#resetSavepoints--"><code>GenericLanguageConnectionContext.resetSavepoints()</code></a>, 
<a href="../../../../../../org/apache/derby/iapi/sql/conn/StatementContext.html#resetSavePoint--"><code>StatementContext.resetSavePoint()</code></a></dd>
</dl>
</li>
</ul>
<a name="cleanupOnError-java.lang.Throwable-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cleanupOnError</h4>
<pre>public&nbsp;boolean&nbsp;cleanupOnError(java.lang.Throwable&nbsp;error,
                              boolean&nbsp;diagActive)</pre>
<div class="block">clean up error and print it to derby.log. Extended diagnosis including
 thread dump to derby.log and javaDump if available, will print if the
 database is active and severity is greater than or equals to
 SESSTION_SEVERITY or as configured by
 derby.stream.error.extendedDiagSeverityLevel property</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>error</code> - the error we want to clean up</dd>
<dd><code>diagActive</code> - true if extended diagnostics should be considered, 
        false not interested of extended diagnostic information</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the context manager is shutdown, false otherwise.</dd>
</dl>
</li>
</ul>
<a name="setInterrupted-org.apache.derby.iapi.services.context.Context-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setInterrupted</h4>
<pre>boolean&nbsp;setInterrupted(<a href="../../../../../../org/apache/derby/iapi/services/context/Context.html" title="interface in org.apache.derby.iapi.services.context">Context</a>&nbsp;c)</pre>
</li>
</ul>
<a name="checkInterrupt--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkInterrupt</h4>
<pre>private&nbsp;void&nbsp;checkInterrupt()</pre>
<div class="block">Check to see if we have been interrupted. If we have then
                a ShutdownException will be thrown. This will be either the
                one passed to interrupt or a generic one if some outside
                source interrupted the thread.</div>
</li>
</ul>
<a name="setLocaleFinder-org.apache.derby.iapi.services.i18n.LocaleFinder-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLocaleFinder</h4>
<pre>public&nbsp;void&nbsp;setLocaleFinder(<a href="../../../../../../org/apache/derby/iapi/services/i18n/LocaleFinder.html" title="interface in org.apache.derby.iapi.services.i18n">LocaleFinder</a>&nbsp;finder)</pre>
<div class="block">Set the locale for this context.</div>
</li>
</ul>
<a name="setMessageLocale-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMessageLocale</h4>
<pre>public&nbsp;void&nbsp;setMessageLocale(java.lang.String&nbsp;localeID)
                      throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="getMessageLocale--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMessageLocale</h4>
<pre>public&nbsp;java.util.Locale&nbsp;getMessageLocale()</pre>
</li>
</ul>
<a name="flushErrorString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flushErrorString</h4>
<pre>private&nbsp;void&nbsp;flushErrorString()</pre>
<div class="block">Flush the built up error string to whereever
 it is supposed to go, and reset the error string</div>
</li>
</ul>
<a name="reportError-java.lang.Throwable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reportError</h4>
<pre>private&nbsp;boolean&nbsp;reportError(java.lang.Throwable&nbsp;t)</pre>
</li>
</ul>
<a name="getErrorSeverity-java.lang.Throwable-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getErrorSeverity</h4>
<pre>public&nbsp;int&nbsp;getErrorSeverity(java.lang.Throwable&nbsp;error)</pre>
<div class="block">return the severity of the exception. Currently, this method 
 does not determine a severity that is not StandardException 
 or SQLException.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>error</code> - - Throwable error</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>int vendorcode/severity for the Throwable error
            - error/exception to extract vendorcode/severity. 
            For error that we can not get severity, 
            NO_APPLICABLE_SEVERITY will return.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Built on Mon 2017-07-03 23:03:59+0530, from revision Unversioned directory</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/derby/iapi/services/context/ContextImpl.html" title="class in org.apache.derby.iapi.services.context"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.CtxStack.html" title="class in org.apache.derby.iapi.services.context"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/derby/iapi/services/context/ContextManager.html" target="_top">Frames</a></li>
<li><a href="ContextManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Apache Derby V10.13 Internals - <i>Copyright &copy; 2004,2016 The Apache Software Foundation. All Rights Reserved.</i></small></p>
</body>
</html>
