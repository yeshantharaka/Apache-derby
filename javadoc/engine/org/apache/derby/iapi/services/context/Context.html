<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_66) on Mon Jul 03 23:05:06 IST 2017 -->
<title>Context (Apache Derby V10.13 Internals)</title>
<meta name="date" content="2017-07-03">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Context (Apache Derby V10.13 Internals)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../../org/apache/derby/iapi/services/context/ContextImpl.html" title="class in org.apache.derby.iapi.services.context"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/derby/iapi/services/context/Context.html" target="_top">Frames</a></li>
<li><a href="Context.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.derby.iapi.services.context</div>
<h2 title="Interface Context" class="title">Interface Context</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Subinterfaces:</dt>
<dd><a href="../../../../../../org/apache/derby/iapi/sql/compile/CompilerContext.html" title="interface in org.apache.derby.iapi.sql.compile">CompilerContext</a>, <a href="../../../../../../org/apache/derby/iapi/db/DatabaseContext.html" title="interface in org.apache.derby.iapi.db">DatabaseContext</a>, <a href="../../../../../../org/apache/derby/iapi/sql/execute/ExecutionContext.html" title="interface in org.apache.derby.iapi.sql.execute">ExecutionContext</a>, <a href="../../../../../../org/apache/derby/iapi/sql/conn/LanguageConnectionContext.html" title="interface in org.apache.derby.iapi.sql.conn">LanguageConnectionContext</a>, <a href="../../../../../../org/apache/derby/iapi/sql/conn/StatementContext.html" title="interface in org.apache.derby.iapi.sql.conn">StatementContext</a></dd>
</dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../../../org/apache/derby/iapi/services/loader/ClassFactoryContext.html" title="class in org.apache.derby.iapi.services.loader">ClassFactoryContext</a>, <a href="../../../../../../org/apache/derby/impl/sql/compile/CompilerContextImpl.html" title="class in org.apache.derby.impl.sql.compile">CompilerContextImpl</a>, <a href="../../../../../../org/apache/derby/iapi/services/context/ContextImpl.html" title="class in org.apache.derby.iapi.services.context">ContextImpl</a>, <a href="../../../../../../org/apache/derby/impl/db/DatabaseContextImpl.html" title="class in org.apache.derby.impl.db">DatabaseContextImpl</a>, <a href="../../../../../../org/apache/derby/impl/jdbc/EmbedConnectionContext.html" title="class in org.apache.derby.impl.jdbc">EmbedConnectionContext</a>, <a href="../../../../../../org/apache/derby/impl/sql/execute/GenericExecutionContext.html" title="class in org.apache.derby.impl.sql.execute">GenericExecutionContext</a>, <a href="../../../../../../org/apache/derby/impl/sql/conn/GenericLanguageConnectionContext.html" title="class in org.apache.derby.impl.sql.conn">GenericLanguageConnectionContext</a>, <a href="../../../../../../org/apache/derby/impl/sql/conn/GenericStatementContext.html" title="class in org.apache.derby.impl.sql.conn">GenericStatementContext</a>, <a href="../../../../../../org/apache/derby/impl/store/access/RAMTransactionContext.html" title="class in org.apache.derby.impl.store.access">RAMTransactionContext</a>, <a href="../../../../../../org/apache/derby/impl/services/monitor/ServiceBootContext.html" title="class in org.apache.derby.impl.services.monitor">ServiceBootContext</a>, <a href="../../../../../../org/apache/derby/impl/db/StoreClassFactoryContext.html" title="class in org.apache.derby.impl.db">StoreClassFactoryContext</a>, <a href="../../../../../../org/apache/derby/iapi/services/context/SystemContext.html" title="class in org.apache.derby.iapi.services.context">SystemContext</a>, <a href="../../../../../../org/apache/derby/impl/store/raw/xact/XactContext.html" title="class in org.apache.derby.impl.store.raw.xact">XactContext</a>, <a href="../../../../../../org/apache/derby/jdbc/XATransactionState.html" title="class in org.apache.derby.jdbc">XATransactionState</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">Context</span></pre>
<div class="block">Contexts are created and used to manage the execution
 environment. They provide a convenient location for
 storing globals organized by the module using the
 globals. 
 <p>
 A basic context implementation is provided as an abstract
 class; this implementation satisfies the interface and
 should in general be used as the supertype of all context
 types.  Otherwise, context classes must satisfy the
 semantics of the interface through their own distinct
 implementations.
 <p>
 Contexts assist in cleanup
 when errors are caught in the outer block.
 <p>
 Use of context cleanup is preferred over using try/catch
 blocks throughout the code.
 <p>
 Use of context pushing and popping is preferred over
 using many instance or local variables, even when try/catch is present.
 when the instance or local variables would be holding resources.
 <P>
 Usually Context's have a reference based equality, ie. they do not provide
 an implementation of equals(). Contexts may implement a value based equality
 but this usually means there is only one instance of the Context on the stack,
 This is because the popContext(Context) will remove the most recently pushed
 Context that matches via the equals method, not by a reference check.
 Implementing equals is useful for Contexts used in notifyAllThreads() that
 is not aimed at a single thread.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/context/Context.html#cleanupOnError-java.lang.Throwable-">cleanupOnError</a></span>(java.lang.Throwable&nbsp;error)</code>
<div class="block">Contexts will be passed errors that are caught
 by the outer system when they are serious enough
 to require corrective action.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.html" title="class in org.apache.derby.iapi.services.context">ContextManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/context/Context.html#getContextManager--">getContextManager</a></span>()</code>
<div class="block">Returns the context manager that has stored this
 context in its stack.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/context/Context.html#getIdName--">getIdName</a></span>()</code>
<div class="block">Returns the current id name associated
 with this context.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/context/Context.html#isLastHandler-int-">isLastHandler</a></span>(int&nbsp;severity)</code>
<div class="block">Return whether or not this context is the "last" handler for a
 the specified severity level.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/context/Context.html#popMe--">popMe</a></span>()</code>
<div class="block">Pop myself of the context stack.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/services/context/Context.html#pushMe--">pushMe</a></span>()</code>
<div class="block">Push myself onto my context stack.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getContextManager--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getContextManager</h4>
<pre><a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.html" title="class in org.apache.derby.iapi.services.context">ContextManager</a>&nbsp;getContextManager()</pre>
<div class="block">Returns the context manager that has stored this
 context in its stack.</div>
</li>
</ul>
<a name="getIdName--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIdName</h4>
<pre>java.lang.String&nbsp;getIdName()</pre>
<div class="block">Returns the current id name associated
 with this context. Contexts are placed into
 stacks by id, in a context manager. Null
 if the context is not assigned to an id.
 Contexts known by context managers are always
 assigned to an id.
 <p>
 A default Id name should be defined in each
 specific context interface as a static final
 field with the name CONTEXT_ID. For example,
 see org.apache.derby.iapi.sql.compile.CompilerContext.CONTEXT_ID.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/sql/compile/CompilerContext.html" title="interface in org.apache.derby.iapi.sql.compile"><code>CompilerContext</code></a></dd>
</dl>
</li>
</ul>
<a name="cleanupOnError-java.lang.Throwable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cleanupOnError</h4>
<pre>void&nbsp;cleanupOnError(java.lang.Throwable&nbsp;error)
             throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Contexts will be passed errors that are caught
 by the outer system when they are serious enough
 to require corrective action. They will be told
 what the error is, so that they can react appropriately.
 Most of the time, the contexts will react by either
 doing nothing or by removing themselves from the
 context manager. If there are no other references
 to the context, removing itself from the manager
 equates to freeing it.
 <BR>
 On an exception that is session severity or greater
 the Context must push itself off the stack. This is
 to ensure that after a session has been closed there
 are no Contexts on the stack that potentially hold
 references to objects, thus delaying their garbage
 collection.
 <p>
 Contexts must release all their resources before
 removing themselves from their context manager.
 <p>
 The context manager 
 will "unwind" the contexts during cleanup in the
 reverse order they were placed on its global stack.

 <P>
 If error is an instance of StandardException then an implementation
 of this method may throw a new exception if and only if the new exception
 is an instance of StandardException that is more severe than the original error
 or the new exception is a not an instance of StandardException (e.g java.lang.NullPointerException).</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - thrown if cleanup goes awry</dd>
</dl>
</li>
</ul>
<a name="pushMe--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pushMe</h4>
<pre>void&nbsp;pushMe()</pre>
<div class="block">Push myself onto my context stack.</div>
</li>
</ul>
<a name="popMe--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>popMe</h4>
<pre>void&nbsp;popMe()</pre>
<div class="block">Pop myself of the context stack.</div>
</li>
</ul>
<a name="isLastHandler-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isLastHandler</h4>
<pre>boolean&nbsp;isLastHandler(int&nbsp;severity)</pre>
<div class="block">Return whether or not this context is the "last" handler for a
 the specified severity level.  Previously, the context manager would march
 through all of the contexts in cleanupOnError() and call each of 
 their cleanupOnError() methods.  That did not work with server side
 JDBC, especially for a StatementException, because outer contexts
 could get cleaned up incorrectly.  This functionality is specific
 to the Language system.  Any non-language system contexts should
 return ExceptionSeverity.NOT_APPLICABLE_SEVERITY.

 NOTE: Both the LanguageConnectionContext and the JDBC Connection Context are
 interested in session level errors because they both have clean up to do.
 This method allows both of them to return false so that all such handlers
 under them can do their clean up.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Built on Mon 2017-07-03 23:03:59+0530, from revision Unversioned directory</div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../../org/apache/derby/iapi/services/context/ContextImpl.html" title="class in org.apache.derby.iapi.services.context"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/derby/iapi/services/context/Context.html" target="_top">Frames</a></li>
<li><a href="Context.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Apache Derby V10.13 Internals - <i>Copyright &copy; 2004,2016 The Apache Software Foundation. All Rights Reserved.</i></small></p>
</body>
</html>
