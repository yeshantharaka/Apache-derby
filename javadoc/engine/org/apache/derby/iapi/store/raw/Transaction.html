<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_66) on Mon Jul 03 23:05:09 IST 2017 -->
<title>Transaction (Apache Derby V10.13 Internals)</title>
<meta name="date" content="2017-07-03">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Transaction (Apache Derby V10.13 Internals)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6,"i10":6,"i11":6,"i12":6,"i13":6,"i14":6,"i15":6,"i16":6,"i17":6,"i18":6,"i19":6,"i20":6,"i21":6,"i22":6,"i23":6,"i24":6,"i25":6,"i26":6,"i27":6,"i28":6,"i29":6,"i30":6,"i31":6,"i32":6,"i33":6,"i34":6,"i35":6,"i36":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/derby/iapi/store/raw/StreamContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/apache/derby/iapi/store/raw/Undoable.html" title="interface in org.apache.derby.iapi.store.raw"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/derby/iapi/store/raw/Transaction.html" target="_top">Frames</a></li>
<li><a href="Transaction.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.derby.iapi.store.raw</div>
<h2 title="Interface Transaction" class="title">Interface Transaction</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../../../org/apache/derby/impl/store/raw/xact/InternalXact.html" title="class in org.apache.derby.impl.store.raw.xact">InternalXact</a>, <a href="../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>, <a href="../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html" title="class in org.apache.derby.impl.store.raw.xact">Xact</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">Transaction</span></pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#KEEP_LOCKS">KEEP_LOCKS</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#RELEASE_LOCKS">RELEASE_LOCKS</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#XA_OK">XA_OK</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#XA_RDONLY">XA_RDONLY</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#abort--">abort</a></span>()</code>
<div class="block">Abort all changes made by this transaction since the last commit, abort
                or the point the transaction was started, whichever is the most recent.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#addAndLoadStreamContainer-long-java.util.Properties-org.apache.derby.iapi.store.access.RowSource-">addAndLoadStreamContainer</a></span>(long&nbsp;segmentId,
                         java.util.Properties&nbsp;tableProperties,
                         <a href="../../../../../../org/apache/derby/iapi/store/access/RowSource.html" title="interface in org.apache.derby.iapi.store.access">RowSource</a>&nbsp;rowSource)</code>
<div class="block">Add a new stream container to the segment and load the stream container.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#addContainer-long-long-int-java.util.Properties-int-">addContainer</a></span>(long&nbsp;segmentId,
            long&nbsp;containerId,
            int&nbsp;mode,
            java.util.Properties&nbsp;tableProperties,
            int&nbsp;temporaryFlag)</code>
<div class="block">Add a new container to the segment.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#addPostAbortWork-org.apache.derby.iapi.services.daemon.Serviceable-">addPostAbortWork</a></span>(<a href="../../../../../../org/apache/derby/iapi/services/daemon/Serviceable.html" title="interface in org.apache.derby.iapi.services.daemon">Serviceable</a>&nbsp;work)</code>
<div class="block">Add to the list of post abort work that may be processed after this
                transaction aborts.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#addPostCommitWork-org.apache.derby.iapi.services.daemon.Serviceable-">addPostCommitWork</a></span>(<a href="../../../../../../org/apache/derby/iapi/services/daemon/Serviceable.html" title="interface in org.apache.derby.iapi.services.daemon">Serviceable</a>&nbsp;work)</code>
<div class="block">Add to the list of post commit work that may be processed after this
                transaction commits.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#addPostTerminationWork-org.apache.derby.iapi.services.daemon.Serviceable-">addPostTerminationWork</a></span>(<a href="../../../../../../org/apache/derby/iapi/services/daemon/Serviceable.html" title="interface in org.apache.derby.iapi.services.daemon">Serviceable</a>&nbsp;work)</code>
<div class="block">Add to the list of post termination work that may be processed after this
                transaction commits or aborts.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#anyoneBlocked--">anyoneBlocked</a></span>()</code>
<div class="block">Return true if any transaction is blocked, even if not by this one.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#close--">close</a></span>()</code>
<div class="block">Close this transaction, the transaction must be idle.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#commit--">commit</a></span>()</code>
<div class="block">Commit this transaction.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#commitNoSync-int-">commitNoSync</a></span>(int&nbsp;commitflag)</code>
<div class="block">"Commit" this transaction without sync'ing the log.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#createXATransactionFromLocalTransaction-int-byte:A-byte:A-">createXATransactionFromLocalTransaction</a></span>(int&nbsp;format_id,
                                       byte[]&nbsp;global_id,
                                       byte[]&nbsp;branch_id)</code>
<div class="block">Convert a local transaction to a global transaction.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#destroy--">destroy</a></span>()</code>
<div class="block">If this transaction is not idle, abort it.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#dropContainer-org.apache.derby.iapi.store.raw.ContainerKey-">dropContainer</a></span>(<a href="../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;containerId)</code>
<div class="block">Drop a container.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#dropStreamContainer-long-long-">dropStreamContainer</a></span>(long&nbsp;segmentId,
                   long&nbsp;containerId)</code>
<div class="block">Drop a stream container.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#getActiveStateTxIdString--">getActiveStateTxIdString</a></span>()</code>
<div class="block">get string ID of the actual transaction ID that will 
 be used when transaction is in  active state.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/services/locks/CompatibilitySpace.html" title="interface in org.apache.derby.iapi.services.locks">CompatibilitySpace</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#getCompatibilitySpace--">getCompatibilitySpace</a></span>()</code>
<div class="block">Get the compatibility space of the transaction.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.html" title="class in org.apache.derby.iapi.services.context">ContextManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#getContextManager--">getContextManager</a></span>()</code>
<div class="block">Return the context manager this transaction is associated with.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/types/DataValueFactory.html" title="interface in org.apache.derby.iapi.types">DataValueFactory</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#getDataValueFactory--">getDataValueFactory</a></span>()</code>
<div class="block">Get DataValueFactory.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw">LockingPolicy</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#getDefaultLockingPolicy--">getDefaultLockingPolicy</a></span>()</code>
<div class="block">Get the current default locking policy for all operations within this
                transaction.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/store/access/FileResource.html" title="interface in org.apache.derby.iapi.store.access">FileResource</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#getFileHandler--">getFileHandler</a></span>()</code>
<div class="block">Get an object to handle non-transactional files.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/store/raw/GlobalTransactionId.html" title="interface in org.apache.derby.iapi.store.raw">GlobalTransactionId</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#getGlobalId--">getGlobalId</a></span>()</code>
<div class="block">Return my transaction identifier.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#isIdle--">isIdle</a></span>()</code>
<div class="block">Reveals whether the transaction has ever read or written data.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#isPristine--">isPristine</a></span>()</code>
<div class="block">Reveal whether the transaction is in a pristine state, which
          means it hasn't done any updates since the last commit.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#logAndDo-org.apache.derby.iapi.store.raw.Loggable-">logAndDo</a></span>(<a href="../../../../../../org/apache/derby/iapi/store/raw/Loggable.html" title="interface in org.apache.derby.iapi.store.raw">Loggable</a>&nbsp;operation)</code>
<div class="block">Log an operation and then action it in the context of this transaction.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw">LockingPolicy</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#newLockingPolicy-int-int-boolean-">newLockingPolicy</a></span>(int&nbsp;mode,
                int&nbsp;isolation,
                boolean&nbsp;stricterOk)</code>
<div class="block">Obtain a locking policy for use in openContainer().</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/store/raw/ContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw">ContainerHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#openContainer-org.apache.derby.iapi.store.raw.ContainerKey-int-">openContainer</a></span>(<a href="../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;containerId,
             int&nbsp;mode)</code>
<div class="block">Open a container, with the transaction's default locking policy.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/store/raw/ContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw">ContainerHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#openContainer-org.apache.derby.iapi.store.raw.ContainerKey-org.apache.derby.iapi.store.raw.LockingPolicy-int-">openContainer</a></span>(<a href="../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;containerId,
             <a href="../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw">LockingPolicy</a>&nbsp;locking,
             int&nbsp;mode)</code>
<div class="block">Open a container, with the defined locking policy, otherwise
                as openContainer(int containerId,  boolean forUpdate).</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/store/raw/StreamContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw">StreamContainerHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#openStreamContainer-long-long-boolean-">openStreamContainer</a></span>(long&nbsp;segmentId,
                   long&nbsp;containerId,
                   boolean&nbsp;hold)</code>
<div class="block">Open a stream container.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#releaseSavePoint-java.lang.String-java.lang.Object-">releaseSavePoint</a></span>(java.lang.String&nbsp;name,
                java.lang.Object&nbsp;kindOfSavepoint)</code>
<div class="block">Release the save point of the given name.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#rollbackToSavePoint-java.lang.String-java.lang.Object-">rollbackToSavePoint</a></span>(java.lang.String&nbsp;name,
                   java.lang.Object&nbsp;kindOfSavepoint)</code>
<div class="block">Rollback all changes made since the named savepoint was set.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#setDefaultLockingPolicy-org.apache.derby.iapi.store.raw.LockingPolicy-">setDefaultLockingPolicy</a></span>(<a href="../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw">LockingPolicy</a>&nbsp;policy)</code>
<div class="block">Set the default locking policy for all operations within this
                transaction.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#setNoLockWait-boolean-">setNoLockWait</a></span>(boolean&nbsp;noWait)</code>
<div class="block">Tell this transaction whether it should time out immediately if a lock
 cannot be granted without waiting.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#setSavePoint-java.lang.String-java.lang.Object-">setSavePoint</a></span>(java.lang.String&nbsp;name,
            java.lang.Object&nbsp;kindOfSavepoint)</code>
<div class="block">Set a save point in the current transaction.</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#setup-org.apache.derby.iapi.services.property.PersistentSet-">setup</a></span>(<a href="../../../../../../org/apache/derby/iapi/services/property/PersistentSet.html" title="interface in org.apache.derby.iapi.services.property">PersistentSet</a>&nbsp;set)</code>
<div class="block">Called after the transaction has been attached to an Access Manger
                TransactionController.</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#xa_commit-boolean-">xa_commit</a></span>(boolean&nbsp;onePhase)</code>
<div class="block">This method is called to commit the current XA global transaction.</div>
</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#xa_prepare--">xa_prepare</a></span>()</code>
<div class="block">This method is called to ask the resource manager to prepare for
 a transaction commit of the transaction specified in xid.</div>
</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#xa_rollback--">xa_rollback</a></span>()</code>
<div class="block">rollback the current global transaction.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="RELEASE_LOCKS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RELEASE_LOCKS</h4>
<pre>static final&nbsp;int RELEASE_LOCKS</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.Transaction.RELEASE_LOCKS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="KEEP_LOCKS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KEEP_LOCKS</h4>
<pre>static final&nbsp;int KEEP_LOCKS</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.Transaction.KEEP_LOCKS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="XA_RDONLY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>XA_RDONLY</h4>
<pre>static final&nbsp;int XA_RDONLY</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.Transaction.XA_RDONLY">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="XA_OK">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>XA_OK</h4>
<pre>static final&nbsp;int XA_OK</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.Transaction.XA_OK">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getContextManager--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getContextManager</h4>
<pre><a href="../../../../../../org/apache/derby/iapi/services/context/ContextManager.html" title="class in org.apache.derby.iapi.services.context">ContextManager</a>&nbsp;getContextManager()</pre>
<div class="block">Return the context manager this transaction is associated with.</div>
</li>
</ul>
<a name="getCompatibilitySpace--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCompatibilitySpace</h4>
<pre><a href="../../../../../../org/apache/derby/iapi/services/locks/CompatibilitySpace.html" title="interface in org.apache.derby.iapi.services.locks">CompatibilitySpace</a>&nbsp;getCompatibilitySpace()</pre>
<div class="block">Get the compatibility space of the transaction.
 <p>
 Returns an object that can be used with the lock manager to provide
 the compatibility space of a transaction.  2 transactions with the
 same compatibility space will not conflict in locks.  The usual case
 is that each transaction has it's own unique compatibility space.
 <p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The compatibility space of the transaction.</dd>
</dl>
</li>
</ul>
<a name="setNoLockWait-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNoLockWait</h4>
<pre>void&nbsp;setNoLockWait(boolean&nbsp;noWait)</pre>
<div class="block">Tell this transaction whether it should time out immediately if a lock
 cannot be granted without waiting. This could be used in a nested
 transaction to prevent long waits if there is a lock conflict between
 the nested transaction and its parent. If it is used this way, the
 calling code should catch timeout exceptions from the nested transaction
 and retry the operation (without disabling waiting) in the parent
 transaction.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>noWait</code> - if <code>true</code> never wait for a lock in this transaction,
 but time out immediately</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/services/locks/LockOwner.html#noWait--"><code>LockOwner.noWait()</code></a></dd>
</dl>
</li>
</ul>
<a name="setup-org.apache.derby.iapi.services.property.PersistentSet-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setup</h4>
<pre>void&nbsp;setup(<a href="../../../../../../org/apache/derby/iapi/services/property/PersistentSet.html" title="interface in org.apache.derby.iapi.services.property">PersistentSet</a>&nbsp;set)
    throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Called after the transaction has been attached to an Access Manger
                TransactionController. Thus may not be called for all transactions.
                Purpose is to allow a transaction access to database (service) properties.

                Will not be called for transactions early in the boot process, ie. before
                the property conglomerate is set up.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby exception policy</dd>
</dl>
</li>
</ul>
<a name="getGlobalId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getGlobalId</h4>
<pre><a href="../../../../../../org/apache/derby/iapi/store/raw/GlobalTransactionId.html" title="interface in org.apache.derby.iapi.store.raw">GlobalTransactionId</a>&nbsp;getGlobalId()</pre>
<div class="block">Return my transaction identifier. Transaction identifiers may be 
        re-used for transactions that do not modify the raw store.
                May return null if this transaction has no globalId.</div>
</li>
</ul>
<a name="getDefaultLockingPolicy--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDefaultLockingPolicy</h4>
<pre><a href="../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw">LockingPolicy</a>&nbsp;getDefaultLockingPolicy()</pre>
<div class="block">Get the current default locking policy for all operations within this
                transaction. The transaction is initially started with a default
                locking policy equivalent to
                <PRE>
                         newLockingPolicy(
              LockingPolicy.MODE_RECORD, LockingPolicy.ISOLATION_SERIALIZABLE, true);
                </PRE>
        This default can be changed by subsequent calls to 
        setDefaultLockingPolicy(LockingPolicy policy).</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The current default locking policy in this transaction.</dd>
</dl>
</li>
</ul>
<a name="newLockingPolicy-int-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newLockingPolicy</h4>
<pre><a href="../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw">LockingPolicy</a>&nbsp;newLockingPolicy(int&nbsp;mode,
                               int&nbsp;isolation,
                               boolean&nbsp;stricterOk)</pre>
<div class="block">Obtain a locking policy for use in openContainer(). The mode
                and isolation must be constants from LockingPolicy. If higherOK is true
                then the object returned may implement a stricter form of locking than
                the one requested.
                <BR>
                A null LockingPolicy reference is identical to a LockingPolicy obtained 
        by using MODE_NONE which is guaranteed to exist.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mode</code> - A constant of the form LockingPolicy.MODE_*</dd>
<dd><code>isolation</code> - A constant of the form LockingPolicy.ISOLATION_*</dd>
<dd><code>stricterOk</code> - True if a stricter level of locking is acceptable, 
        false if an exact match is required.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A object that can be used in an openContainer call, 
        null if a matching policy cannot be found.</dd>
</dl>
</li>
</ul>
<a name="setDefaultLockingPolicy-org.apache.derby.iapi.store.raw.LockingPolicy-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDefaultLockingPolicy</h4>
<pre>void&nbsp;setDefaultLockingPolicy(<a href="../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw">LockingPolicy</a>&nbsp;policy)</pre>
<div class="block">Set the default locking policy for all operations within this
                transaction. The transaction is intially started with a default
                locking policy equivalent to
                <PRE>
                         newLockingPolicy(
              LockingPolicy.MODE_RECORD, LockingPolicy.ISOLATION_SERIALIZABLE, true);
                </PRE></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>policy</code> - The lock policy to use, if null then then a no locking 
        policy will be installed as the default.</dd>
</dl>
</li>
</ul>
<a name="commit--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commit</h4>
<pre><a href="../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;commit()
           throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Commit this transaction. All savepoints within this transaction are 
        released.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the commit instant of this transaction, or null if it
                didn't make any changes</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - A transaction level exception is thrown
        if the transaction was aborted due to some error. Any exceptions that 
        occur of lower severity than Transaction severity are caught, the 
        transaction is then aborted and then an exception of Transaction
                severity is thrown nesting the original exception.
        Any exception more severe than a
        Transaction exception is not caught and the transaction is not aborted.
        The transaction will be aborted by the standard context mechanism.</dd>
</dl>
</li>
</ul>
<a name="commitNoSync-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commitNoSync</h4>
<pre><a href="../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;commitNoSync(int&nbsp;commitflag)
                 throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">"Commit" this transaction without sync'ing the log.
                Everything else is identical to commit(), use this at your own risk.
                
                <BR>bits in the commitflag can turn on to fine tuned the "commit":
                KEEP_LOCKS - no locks will be released by the commit and no post commit
                processing will be initiated.  If, for some reasons, the locks cannot be
                kept even if this flag is set, then the commit will sync the log, i.e.,
                it will revert to the normal commit.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - A transaction level exception is thrown
        if the transaction was aborted due to some error. Any exceptions that 
        occur of lower severity than Transaction severity are caught, the 
        transaction is then aborted and then an exception of Transaction
                severity is thrown nesting the original exception.
        Any exception more severe than a
        Transaction exception is not caught and the transaction is not aborted.
        The transaction will be aborted by the standard context mechanism.</dd>
</dl>
</li>
</ul>
<a name="abort--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>abort</h4>
<pre>void&nbsp;abort()
    throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Abort all changes made by this transaction since the last commit, abort
                or the point the transaction was started, whichever is the most recent.
                All savepoints within this transaction are released.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Only exceptions with severities greater 
        than ExceptionSeverity.TRANSACTION_SEVERITY will be thrown.</dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>void&nbsp;close()
    throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Close this transaction, the transaction must be idle. This close will
                pop the transaction context off the stack that was pushed when the 
        transaction was started.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - A transaction level exception is 
        thrown if the transaction is not idle.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/store/raw/RawStoreFactory.html#startTransaction-org.apache.derby.iapi.services.context.ContextManager-java.lang.String-"><code>RawStoreFactory.startTransaction(org.apache.derby.iapi.services.context.ContextManager, java.lang.String)</code></a></dd>
</dl>
</li>
</ul>
<a name="destroy--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>destroy</h4>
<pre>void&nbsp;destroy()
      throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">If this transaction is not idle, abort it.  After this call close().</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - A transaction level exception is 
        thrown if the transaction is not idle.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/store/raw/RawStoreFactory.html#startTransaction-org.apache.derby.iapi.services.context.ContextManager-java.lang.String-"><code>RawStoreFactory.startTransaction(org.apache.derby.iapi.services.context.ContextManager, java.lang.String)</code></a></dd>
</dl>
</li>
</ul>
<a name="setSavePoint-java.lang.String-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSavePoint</h4>
<pre>int&nbsp;setSavePoint(java.lang.String&nbsp;name,
                 java.lang.Object&nbsp;kindOfSavepoint)
          throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Set a save point in the current transaction. A save point defines a 
        point in time in the transaction that changes can be rolled back to. 
        Savepoints can be nested and they behave like a stack. Setting save 
        points "one" and "two" and the rolling back "one" will rollback all 
        the changes made since "one" (including those made since "two") and 
        release savepoint "two".</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - The user provided name of the savepoint</dd>
<dd><code>kindOfSavepoint</code> - A NULL value means it is an internal savepoint (ie not a user defined savepoint)
                    Non NULL value means it is a user defined savepoint which can be a SQL savepoint or a JDBC savepoint
                    A String value for kindOfSavepoint would mean it is SQL savepoint
                    A JDBC Savepoint object value for kindOfSavepoint would mean it is JDBC savepoint</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>returns total number of savepoints in the stack.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - A statement level exception is thrown if a savepoint already 
        exists in the current transaction with the same name.</dd>
</dl>
</li>
</ul>
<a name="releaseSavePoint-java.lang.String-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>releaseSavePoint</h4>
<pre>int&nbsp;releaseSavePoint(java.lang.String&nbsp;name,
                     java.lang.Object&nbsp;kindOfSavepoint)
              throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Release the save point of the given name. Relasing a savepoint removes 
        all knowledge from this transaction of the named savepoint and any 
        savepoints set since the named savepoint was set.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - The user provided name of the savepoint, set by the user
                    in the setSavePoint() call.</dd>
<dd><code>kindOfSavepoint</code> - A NULL value means it is an internal savepoint (ie not a user defined savepoint)
                    Non NULL value means it is a user defined savepoint which can be a SQL savepoint or a JDBC savepoint
                    A String value for kindOfSavepoint would mean it is SQL savepoint
                    A JDBC Savepoint object value for kindOfSavepoint would mean it is JDBC savepoint</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>returns total number of savepoints in the stack.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - A statement level exception is thrown if a savepoint already
        exists in the current transaction with the same name.</dd>
</dl>
</li>
</ul>
<a name="rollbackToSavePoint-java.lang.String-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rollbackToSavePoint</h4>
<pre>int&nbsp;rollbackToSavePoint(java.lang.String&nbsp;name,
                        java.lang.Object&nbsp;kindOfSavepoint)
                 throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Rollback all changes made since the named savepoint was set. The named
                savepoint is not released, it remains valid within this transaction, and
                thus can be named it future rollbackToSavePoint() calls. Any savepoints
                set since this named savepoint are released (and their changes rolled
        back).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - The user provided name of the savepoint, set by the user
                    in the setSavePoint() call.</dd>
<dd><code>kindOfSavepoint</code> - A NULL value means it is an internal savepoint (ie not a user defined savepoint)
                    Non NULL value means it is a user defined savepoint which can be a SQL savepoint or a JDBC savepoint
                    A String value for kindOfSavepoint would mean it is SQL savepoint
                    A JDBC Savepoint object value for kindOfSavepoint would mean it is JDBC savepoint</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>returns total number of savepoints in the stack.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - A statement level exception is thrown if no savepoint exists with 
        the given name.</dd>
</dl>
</li>
</ul>
<a name="openContainer-org.apache.derby.iapi.store.raw.ContainerKey-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openContainer</h4>
<pre><a href="../../../../../../org/apache/derby/iapi/store/raw/ContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw">ContainerHandle</a>&nbsp;openContainer(<a href="../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;containerId,
                              int&nbsp;mode)
                       throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Open a container, with the transaction's default locking policy.

        <p>
        Note that if NOWAIT has been specified lock will be 
        requested with no wait time, and if lock is not granted a 
        SQLState.LOCK_TIMEOUT exception will be thrown.
                <P>
                The release() method of ContainerHandle will be called when this 
        transaction is aborted or commited, it may be called explicitly to
                release the ContainerHandle before the end of the transaction.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a valid ContainerHandle or null if the container does not exist.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby exception policy</dd>
</dl>
</li>
</ul>
<a name="openContainer-org.apache.derby.iapi.store.raw.ContainerKey-org.apache.derby.iapi.store.raw.LockingPolicy-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openContainer</h4>
<pre><a href="../../../../../../org/apache/derby/iapi/store/raw/ContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw">ContainerHandle</a>&nbsp;openContainer(<a href="../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;containerId,
                              <a href="../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw">LockingPolicy</a>&nbsp;locking,
                              int&nbsp;mode)
                       throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Open a container, with the defined locking policy, otherwise
                as openContainer(int containerId,  boolean forUpdate).

                <P>
                Calls locking.lockContainer(this, returnValue, forUpdate) to lock the
        container.  Note that if NOWAIT has been specified lock will be 
        requested with no wait time, and if lock is not granted a 
        SQLState.LOCK_TIMEOUT exception will be thrown.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>locking</code> - The lock policy to use, if null then then a no locking 
                       policy will be used.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a valid ContainerHandle or null if the container does not exist.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby exception policy</dd>
</dl>
</li>
</ul>
<a name="addContainer-long-long-int-java.util.Properties-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addContainer</h4>
<pre>long&nbsp;addContainer(long&nbsp;segmentId,
                  long&nbsp;containerId,
                  int&nbsp;mode,
                  java.util.Properties&nbsp;tableProperties,
                  int&nbsp;temporaryFlag)
           throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Add a new container to the segment. The new container initially has
                one page, page Container.FIRST_PAGE_NUMBER.

                <BR>
                If pageSize is equal to ContainerHandle.DEFAULT_PAGESIZE or invalid 
        then a default page size will be picked.
                <BR>
                SpareSpace indicates that percent (0% - 100%) of page space that will 
        be attempted to be reserved for updates. E.g. with a value of 20 a page
        that would normally hold 40 rows will be limited to 32 rows,
                actual calculation for the threshold where no more inserts are all 
        accepted is up to the implementation.  Whatever the value of 
        spaceSpace an empty page will always accept at least one insert.
                If spare space is equal to ContainerHandle.DEFAULT_PAGESIZE or invalid 
        then a default value will be used.

            <P><B>Synchronisation</B>
                <P>
                The new container is exclusivly locked by this transaction until
                it commits.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>segmentId</code> - segment to create the container in.</dd>
<dd><code>containerId</code> - If not equal to 0 then this container id will be 
                            used to create the container, else if set to 0 then
                            the raw store will assign a number.</dd>
<dd><code>mode</code> - mode description in @see ContainerHandle.  This mode is
                only effective for the duration of the addContainer call and not stored
                persistently for the lifetime of the container.</dd>
<dd><code>tableProperties</code> - Implementation-specific properties of the
                conglomerate.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a container identifer that can be used in openContainer()
                This id is only valid within this RawStoreFactory.  Returns a negative 
        number if a container could not be allocated.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="dropContainer-org.apache.derby.iapi.store.raw.ContainerKey-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dropContainer</h4>
<pre>void&nbsp;dropContainer(<a href="../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;containerId)
            throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Drop a container.

            <P><B>Synchronisation</B>
                <P>
                This call will mark the container as dropped and then obtain an CX lock
                on the container. Once a container has been marked as dropped it cannot
                be retrieved by any openContainer() call.
                <P>
                Once the exclusive lock has been obtained the container is removed
                and all its pages deallocated. The container will be fully removed
                at the commit time of the transaction.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="addAndLoadStreamContainer-long-java.util.Properties-org.apache.derby.iapi.store.access.RowSource-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addAndLoadStreamContainer</h4>
<pre>long&nbsp;addAndLoadStreamContainer(long&nbsp;segmentId,
                               java.util.Properties&nbsp;tableProperties,
                               <a href="../../../../../../org/apache/derby/iapi/store/access/RowSource.html" title="interface in org.apache.derby.iapi.store.access">RowSource</a>&nbsp;rowSource)
                        throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Add a new stream container to the segment and load the stream container.
                
                This stream container doesn't not have locks, and do not log.
                It does not have the concept of a page.
                It is used by the external sort only.

            <P><B>Synchronisation</B>
                <P>
                This call will mark the container as dropped and then obtain an CX lock
                on the container. Once a container has been marked as dropped it cannot
                be retrieved by any openContainer() call.
                <P>
                Once the exclusive lock has been obtained the container is removed
                and all its pages deallocated. The container will be fully removed
                at the commit time of the transaction.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="openStreamContainer-long-long-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openStreamContainer</h4>
<pre><a href="../../../../../../org/apache/derby/iapi/store/raw/StreamContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw">StreamContainerHandle</a>&nbsp;openStreamContainer(long&nbsp;segmentId,
                                          long&nbsp;containerId,
                                          boolean&nbsp;hold)
                                   throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Open a stream container.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a valid StreamContainerHandle or null if the container does not exist.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby exception policy</dd>
</dl>
</li>
</ul>
<a name="dropStreamContainer-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dropStreamContainer</h4>
<pre>void&nbsp;dropStreamContainer(long&nbsp;segmentId,
                         long&nbsp;containerId)
                  throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Drop a stream container.

            <P><B>Synchronisation</B>
                <P>
                This call will remove the container.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="logAndDo-org.apache.derby.iapi.store.raw.Loggable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logAndDo</h4>
<pre>void&nbsp;logAndDo(<a href="../../../../../../org/apache/derby/iapi/store/raw/Loggable.html" title="interface in org.apache.derby.iapi.store.raw">Loggable</a>&nbsp;operation)
       throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Log an operation and then action it in the context of this transaction.
                The Loggable Operation is logged in the transaction log file and then 
        its doMe method is called to perform the required change. If this 
        transaction aborts or a rollback is performed of the current savepoint 
        (if any) then a compensation Operation needs to be generated that will 
        compensate for the change of this Operation.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>operation</code> - the operation that is to be applied</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby exception policy</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/store/raw/Loggable.html" title="interface in org.apache.derby.iapi.store.raw"><code>Loggable</code></a></dd>
</dl>
</li>
</ul>
<a name="addPostCommitWork-org.apache.derby.iapi.services.daemon.Serviceable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addPostCommitWork</h4>
<pre>void&nbsp;addPostCommitWork(<a href="../../../../../../org/apache/derby/iapi/services/daemon/Serviceable.html" title="interface in org.apache.derby.iapi.services.daemon">Serviceable</a>&nbsp;work)</pre>
<div class="block">Add to the list of post commit work that may be processed after this
                transaction commits.  If this transaction aborts, then the post commit
                work list will be thrown away.  No post commit work will be taken out
                on a rollback to save point.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>work</code> - the post commit work that is added</dd>
</dl>
</li>
</ul>
<a name="addPostAbortWork-org.apache.derby.iapi.services.daemon.Serviceable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addPostAbortWork</h4>
<pre>void&nbsp;addPostAbortWork(<a href="../../../../../../org/apache/derby/iapi/services/daemon/Serviceable.html" title="interface in org.apache.derby.iapi.services.daemon">Serviceable</a>&nbsp;work)</pre>
<div class="block">Add to the list of post abort work that may be processed after this
                transaction aborts.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>work</code> - the post commit work that is added</dd>
</dl>
</li>
</ul>
<a name="addPostTerminationWork-org.apache.derby.iapi.services.daemon.Serviceable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addPostTerminationWork</h4>
<pre>void&nbsp;addPostTerminationWork(<a href="../../../../../../org/apache/derby/iapi/services/daemon/Serviceable.html" title="interface in org.apache.derby.iapi.services.daemon">Serviceable</a>&nbsp;work)</pre>
<div class="block">Add to the list of post termination work that may be processed after this
                transaction commits or aborts.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>work</code> - the post termination work that is added</dd>
</dl>
</li>
</ul>
<a name="isIdle--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isIdle</h4>
<pre>boolean&nbsp;isIdle()</pre>
<div class="block">Reveals whether the transaction has ever read or written data.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true If the transaction has never read or written data.</dd>
</dl>
</li>
</ul>
<a name="isPristine--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isPristine</h4>
<pre>boolean&nbsp;isPristine()</pre>
<div class="block">Reveal whether the transaction is in a pristine state, which
          means it hasn't done any updates since the last commit.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if so, false otherwise</dd>
</dl>
</li>
</ul>
<a name="getFileHandler--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFileHandler</h4>
<pre><a href="../../../../../../org/apache/derby/iapi/store/access/FileResource.html" title="interface in org.apache.derby.iapi.store.access">FileResource</a>&nbsp;getFileHandler()</pre>
<div class="block">Get an object to handle non-transactional files.</div>
</li>
</ul>
<a name="anyoneBlocked--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>anyoneBlocked</h4>
<pre>boolean&nbsp;anyoneBlocked()</pre>
<div class="block">Return true if any transaction is blocked, even if not by this one.</div>
</li>
</ul>
<a name="createXATransactionFromLocalTransaction-int-byte:A-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createXATransactionFromLocalTransaction</h4>
<pre>void&nbsp;createXATransactionFromLocalTransaction(int&nbsp;format_id,
                                             byte[]&nbsp;global_id,
                                             byte[]&nbsp;branch_id)
                                      throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Convert a local transaction to a global transaction.
 <p>
 Get a transaction controller with which to manipulate data within
 the access manager.  Tbis controller allows one to manipulate a 
 global XA conforming transaction.
 <p>
 Must only be called a previous local transaction was created and exists
 in the context.  Can only be called if the current transaction is in
 the idle state.  
 <p>
 The (format_id, global_id, branch_id) triplet is meant to come exactly
 from a javax.transaction.xa.Xid.  We don't use Xid so that the system
 can be delivered on a non-1.2 vm system and not require the javax classes
 in the path.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>format_id</code> - the format id part of the Xid - ie. Xid.getFormatId().</dd>
<dd><code>global_id</code> - the global transaction identifier part of XID - ie.
                  Xid.getGlobalTransactionId().</dd>
<dd><code>branch_id</code> - The branch qualifier of the Xid - ie. 
                  Xid.getBranchQaulifier()</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="xa_commit-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>xa_commit</h4>
<pre>void&nbsp;xa_commit(boolean&nbsp;onePhase)
        throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">This method is called to commit the current XA global transaction.
 <p>
 RESOLVE - how do we map to the "right" XAExceptions.
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>onePhase</code> - If true, the resource manager should use a one-phase
                 commit protocol to commit the work done on behalf of 
                 current xid.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="xa_prepare--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>xa_prepare</h4>
<pre>int&nbsp;xa_prepare()
        throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">This method is called to ask the resource manager to prepare for
 a transaction commit of the transaction specified in xid.
 <p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A value indicating the resource manager's vote on the
                 the outcome of the transaction.  The possible values
                 are:  XA_RDONLY or XA_OK.  If the resource manager wants
                 to roll back the transaction, it should do so by 
                 throwing an appropriate XAException in the prepare
                 method.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="xa_rollback--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>xa_rollback</h4>
<pre>void&nbsp;xa_rollback()
          throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">rollback the current global transaction.
 <p>
 The given transaction is roll'ed back and it's history is not
 maintained in the transaction table or long term log.
 <p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="getActiveStateTxIdString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getActiveStateTxIdString</h4>
<pre>java.lang.String&nbsp;getActiveStateTxIdString()</pre>
<div class="block">get string ID of the actual transaction ID that will 
 be used when transaction is in  active state.</div>
</li>
</ul>
<a name="getDataValueFactory--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getDataValueFactory</h4>
<pre><a href="../../../../../../org/apache/derby/iapi/types/DataValueFactory.html" title="interface in org.apache.derby.iapi.types">DataValueFactory</a>&nbsp;getDataValueFactory()
                              throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Get DataValueFactory.
 <p>
 Return a DataValueFactory that can be used to allocate objects.  Used
 to make calls to: 
     DataValueFactory.getInstanceUsingFormatIdAndCollationType()</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a booted data value factory.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Built on Mon 2017-07-03 23:03:59+0530, from revision Unversioned directory</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/derby/iapi/store/raw/StreamContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/apache/derby/iapi/store/raw/Undoable.html" title="interface in org.apache.derby.iapi.store.raw"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/derby/iapi/store/raw/Transaction.html" target="_top">Frames</a></li>
<li><a href="Transaction.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Apache Derby V10.13 Internals - <i>Copyright &copy; 2004,2016 The Apache Software Foundation. All Rights Reserved.</i></small></p>
</body>
</html>
