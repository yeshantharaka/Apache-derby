<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_66) on Mon Jul 03 23:04:56 IST 2017 -->
<title>RawTransaction (Apache Derby V10.13 Internals)</title>
<meta name="date" content="2017-07-03">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="RawTransaction (Apache Derby V10.13 Internals)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":10,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6,"i10":6,"i11":6,"i12":6,"i13":6,"i14":6,"i15":6,"i16":6,"i17":10,"i18":6,"i19":6,"i20":10,"i21":6,"i22":6,"i23":6,"i24":6,"i25":6,"i26":6,"i27":10,"i28":6,"i29":6,"i30":6,"i31":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/TransactionFactory.html" title="interface in org.apache.derby.iapi.store.raw.xact"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/derby/iapi/store/raw/xact/RawTransaction.html" target="_top">Frames</a></li>
<li><a href="RawTransaction.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.derby.iapi.store.raw.xact</div>
<h2 title="Class RawTransaction" class="title">Class RawTransaction</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../../org/apache/derby/iapi/services/monitor/DerbyObservable.html" title="class in org.apache.derby.iapi.services.monitor">org.apache.derby.iapi.services.monitor.DerbyObservable</a></li>
<li>
<ul class="inheritance">
<li>org.apache.derby.iapi.store.raw.xact.RawTransaction</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../../../org/apache/derby/impl/store/raw/xact/Xact.html" title="class in org.apache.derby.impl.store.raw.xact">Xact</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="typeNameLabel">RawTransaction</span>
extends <a href="../../../../../../../org/apache/derby/iapi/services/monitor/DerbyObservable.html" title="class in org.apache.derby.iapi.services.monitor">DerbyObservable</a>
implements <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></pre>
<div class="block">RawTransaction is the form of Transaction used within the raw store. This
        allows the break down of RawStore functionality into (at least) three modules
        (Transactions, Data, Log) without exposing internal information on the
        external interface.

        <P>
        The transaction will notify any Observer's just before the transaction
        is committed, aborted or a rollback to savepoint occurs. The argument passed
        to the update() method of the Observer's will be one of
        <UL>
        <LI> RawTransaction.COMMIT - transaction is committing
        <LI> RawTransaction.ABORT - transaction is aborting
        <LI> RawTransaction.SAVEPOINTROLLBACK - transaction is being rolled back to a savepoint
        </UL>
        The observer's must perform a value equality check (equals()) on the 
    update arg to see why it is being notified.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>Observer</code></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.Integer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#ABORT">ABORT</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.Integer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#COMMIT">COMMIT</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.Integer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#LOCK_ESCALATE">LOCK_ESCALATE</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#observerException">observerException</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.Integer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#SAVEPOINT_ROLLBACK">SAVEPOINT_ROLLBACK</a></span></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.apache.derby.iapi.store.raw.Transaction">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;org.apache.derby.iapi.store.raw.<a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></h3>
<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#KEEP_LOCKS">KEEP_LOCKS</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#RELEASE_LOCKS">RELEASE_LOCKS</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#XA_OK">XA_OK</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#XA_RDONLY">XA_RDONLY</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#RawTransaction--">RawTransaction</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#addUpdateTransaction-int-">addUpdateTransaction</a></span>(int&nbsp;transactionStatus)</code>
<div class="block">Add this raw transaction on to the list of update transaction</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>abstract boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#blockBackup-boolean-">blockBackup</a></span>(boolean&nbsp;wait)</code>
<div class="block">Make the transaction block the online backup.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#checkLogicalOperationOk--">checkLogicalOperationOk</a></span>()</code>
<div class="block">Check to see if a logical operation is allowed by this transaction, 
        throws a TransactionExceotion if it isn't.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#checkpointInRollForwardRecovery-org.apache.derby.iapi.store.raw.log.LogInstant-long-long-">checkpointInRollForwardRecovery</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;cinstant,
                               long&nbsp;redoLWM,
                               long&nbsp;undoLWM)</code>
<div class="block">Redo a checkpoint during rollforward recovery.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>abstract <a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#getDataFactory--">getDataFactory</a></span>()</code>
<div class="block">Get the data factory to be used during this transaction.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>abstract <a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#getFirstLogInstant--">getFirstLogInstant</a></span>()</code>
<div class="block">Get the log instant for the first log record written by this 
        transaction.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>abstract <a href="../../../../../../../org/apache/derby/iapi/store/raw/GlobalTransactionId.html" title="interface in org.apache.derby.iapi.store.raw">GlobalTransactionId</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#getGlobalId--">getGlobalId</a></span>()</code>
<div class="block">Get the shortId of this transaction.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>abstract <a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/TransactionId.html" title="interface in org.apache.derby.iapi.store.raw.xact">TransactionId</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#getId--">getId</a></span>()</code>
<div class="block">Get the shortId of this transaction.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>abstract <a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#getLastLogInstant--">getLastLogInstant</a></span>()</code>
<div class="block">Get the log instant for the last log record written by this transaction.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>abstract <a href="../../../../../../../org/apache/derby/iapi/services/locks/LockFactory.html" title="interface in org.apache.derby.iapi.services.locks">LockFactory</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#getLockFactory--">getLockFactory</a></span>()</code>
<div class="block">Get the lock factory to be used during this transaction.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>abstract <a href="../../../../../../../org/apache/derby/iapi/services/io/DynamicByteArrayOutputStream.html" title="class in org.apache.derby.iapi.services.io">DynamicByteArrayOutputStream</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#getLogBuffer--">getLogBuffer</a></span>()</code>
<div class="block">Get the log buffer to be used during this transaction.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>abstract <a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html" title="interface in org.apache.derby.iapi.store.raw.log">LogFactory</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#getLogFactory--">getLogFactory</a></span>()</code>
<div class="block">Get the log factory to be used during this transaction.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>abstract boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#handlesPostTerminationWork--">handlesPostTerminationWork</a></span>()</code>
<div class="block">Can this transaction handles post termination work</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>abstract boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#inAbort--">inAbort</a></span>()</code>
<div class="block">Is the transaction in the middle of an abort.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>abstract boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#inRollForwardRecovery--">inRollForwardRecovery</a></span>()</code>
<div class="block">Retunrs true if the transaction is part of rollforward recovery</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>abstract boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#isBlockingBackup--">isBlockingBackup</a></span>()</code>
<div class="block">Check if the transaction is blocking the backup ?</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#logAndUndo-org.apache.derby.iapi.store.raw.Compensation-org.apache.derby.iapi.store.raw.log.LogInstant-org.apache.derby.iapi.services.io.LimitObjectInput-">logAndUndo</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/Compensation.html" title="interface in org.apache.derby.iapi.store.raw">Compensation</a>&nbsp;compensation,
          <a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;undoInstant,
          <a href="../../../../../../../org/apache/derby/iapi/services/io/LimitObjectInput.html" title="interface in org.apache.derby.iapi.services.io">LimitObjectInput</a>&nbsp;in)</code>
<div class="block">Log a compensation operation and then action it in the context of this 
        transaction.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#notifyObservers-java.lang.Object-">notifyObservers</a></span>(java.lang.Object&nbsp;arg)</code>
<div class="block">Allow my users to notigy my observers.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>abstract <a href="../../../../../../../org/apache/derby/iapi/store/raw/data/RawContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw.data">RawContainerHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#openDroppedContainer-org.apache.derby.iapi.store.raw.ContainerKey-org.apache.derby.iapi.store.raw.LockingPolicy-">openDroppedContainer</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;containerId,
                    <a href="../../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw">LockingPolicy</a>&nbsp;locking)</code>
<div class="block">Open a container that may be dropped - use only by logging and recovery.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#prepareTransaction--">prepareTransaction</a></span>()</code>
<div class="block">Change the state of transaction in table to prepare.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#recoveryRollbackFirst--">recoveryRollbackFirst</a></span>()</code>
<div class="block">Return true if this transaction should be rolled back first
                in recovery.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#recoveryTransaction--">recoveryTransaction</a></span>()</code>
<div class="block">Make this transaction aware that it is being used by recovery</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#reCreateContainerForRedoRecovery-long-long-org.apache.derby.iapi.util.ByteArray-">reCreateContainerForRedoRecovery</a></span>(long&nbsp;segmentId,
                                long&nbsp;containerId,
                                <a href="../../../../../../../org/apache/derby/iapi/util/ByteArray.html" title="class in org.apache.derby.iapi.util">ByteArray</a>&nbsp;containerInfo)</code>
<div class="block">Recreate a container during redo recovery.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#removeUpdateTransaction--">removeUpdateTransaction</a></span>()</code>
<div class="block">Remove this raw transaction from the list of update transaction</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#reprepare--">reprepare</a></span>()</code>
<div class="block">During recovery re-prepare a transaction.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#setFirstLogInstant-org.apache.derby.iapi.store.raw.log.LogInstant-">setFirstLogInstant</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant)</code>
<div class="block">Set the log instant for the first log record written by this 
        transaction.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#setLastLogInstant-org.apache.derby.iapi.store.raw.log.LogInstant-">setLastLogInstant</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant)</code>
<div class="block">Set the log instant for the last log record written by this transaction.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#setObserverException-org.apache.derby.iapi.error.StandardException-">setObserverException</a></span>(<a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a>&nbsp;se)</code>
<div class="block">Allow an Observer to indicate an exception to the transaction that
                is raised in its update() method.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#setTransactionId-org.apache.derby.iapi.store.raw.Loggable-org.apache.derby.iapi.store.raw.xact.TransactionId-">setTransactionId</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/Loggable.html" title="interface in org.apache.derby.iapi.store.raw">Loggable</a>&nbsp;beginXact,
                <a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/TransactionId.html" title="interface in org.apache.derby.iapi.store.raw.xact">TransactionId</a>&nbsp;shortId)</code>
<div class="block">Set the transactionId (Global and internal) of this transaction using a
                log record that contains the Global id</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>abstract <a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#startNestedTopTransaction--">startNestedTopTransaction</a></span>()</code>
<div class="block">Start a nested top transaction.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>protected abstract int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#statusForBeginXactLog--">statusForBeginXactLog</a></span>()</code>
<div class="block">Status that needs to go into the begin transaction log record, if there
                is one, to help with recovery</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>protected abstract int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html#statusForEndXactLog--">statusForEndXactLog</a></span>()</code>
<div class="block">Status that needs to go into the end transaction log record, if there
                is one, to help with recovery</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.derby.iapi.services.monitor.DerbyObservable">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.derby.iapi.services.monitor.<a href="../../../../../../../org/apache/derby/iapi/services/monitor/DerbyObservable.html" title="class in org.apache.derby.iapi.services.monitor">DerbyObservable</a></h3>
<code><a href="../../../../../../../org/apache/derby/iapi/services/monitor/DerbyObservable.html#addObserver-org.apache.derby.iapi.services.monitor.DerbyObserver-">addObserver</a>, <a href="../../../../../../../org/apache/derby/iapi/services/monitor/DerbyObservable.html#countObservers--">countObservers</a>, <a href="../../../../../../../org/apache/derby/iapi/services/monitor/DerbyObservable.html#deleteObserver-org.apache.derby.iapi.services.monitor.DerbyObserver-">deleteObserver</a>, <a href="../../../../../../../org/apache/derby/iapi/services/monitor/DerbyObservable.html#notifyObservers--">notifyObservers</a>, <a href="../../../../../../../org/apache/derby/iapi/services/monitor/DerbyObservable.html#setChanged--">setChanged</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.derby.iapi.store.raw.Transaction">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.apache.derby.iapi.store.raw.<a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></h3>
<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#abort--">abort</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#addAndLoadStreamContainer-long-java.util.Properties-org.apache.derby.iapi.store.access.RowSource-">addAndLoadStreamContainer</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#addContainer-long-long-int-java.util.Properties-int-">addContainer</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#addPostAbortWork-org.apache.derby.iapi.services.daemon.Serviceable-">addPostAbortWork</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#addPostCommitWork-org.apache.derby.iapi.services.daemon.Serviceable-">addPostCommitWork</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#addPostTerminationWork-org.apache.derby.iapi.services.daemon.Serviceable-">addPostTerminationWork</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#anyoneBlocked--">anyoneBlocked</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#close--">close</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#commit--">commit</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#commitNoSync-int-">commitNoSync</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#createXATransactionFromLocalTransaction-int-byte:A-byte:A-">createXATransactionFromLocalTransaction</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#destroy--">destroy</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#dropContainer-org.apache.derby.iapi.store.raw.ContainerKey-">dropContainer</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#dropStreamContainer-long-long-">dropStreamContainer</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#getActiveStateTxIdString--">getActiveStateTxIdString</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#getCompatibilitySpace--">getCompatibilitySpace</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#getContextManager--">getContextManager</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#getDataValueFactory--">getDataValueFactory</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#getDefaultLockingPolicy--">getDefaultLockingPolicy</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#getFileHandler--">getFileHandler</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#isIdle--">isIdle</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#isPristine--">isPristine</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#logAndDo-org.apache.derby.iapi.store.raw.Loggable-">logAndDo</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#newLockingPolicy-int-int-boolean-">newLockingPolicy</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#openContainer-org.apache.derby.iapi.store.raw.ContainerKey-int-">openContainer</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#openContainer-org.apache.derby.iapi.store.raw.ContainerKey-org.apache.derby.iapi.store.raw.LockingPolicy-int-">openContainer</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#openStreamContainer-long-long-boolean-">openStreamContainer</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#releaseSavePoint-java.lang.String-java.lang.Object-">releaseSavePoint</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#rollbackToSavePoint-java.lang.String-java.lang.Object-">rollbackToSavePoint</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#setDefaultLockingPolicy-org.apache.derby.iapi.store.raw.LockingPolicy-">setDefaultLockingPolicy</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#setNoLockWait-boolean-">setNoLockWait</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#setSavePoint-java.lang.String-java.lang.Object-">setSavePoint</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#setup-org.apache.derby.iapi.services.property.PersistentSet-">setup</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#xa_commit-boolean-">xa_commit</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#xa_prepare--">xa_prepare</a>, <a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#xa_rollback--">xa_rollback</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="COMMIT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>COMMIT</h4>
<pre>public static final&nbsp;java.lang.Integer COMMIT</pre>
</li>
</ul>
<a name="ABORT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ABORT</h4>
<pre>public static final&nbsp;java.lang.Integer ABORT</pre>
</li>
</ul>
<a name="SAVEPOINT_ROLLBACK">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SAVEPOINT_ROLLBACK</h4>
<pre>public static final&nbsp;java.lang.Integer SAVEPOINT_ROLLBACK</pre>
</li>
</ul>
<a name="LOCK_ESCALATE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOCK_ESCALATE</h4>
<pre>public static final&nbsp;java.lang.Integer LOCK_ESCALATE</pre>
</li>
</ul>
<a name="observerException">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>observerException</h4>
<pre>protected&nbsp;<a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a> observerException</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="RawTransaction--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>RawTransaction</h4>
<pre>public&nbsp;RawTransaction()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getLockFactory--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLockFactory</h4>
<pre>public abstract&nbsp;<a href="../../../../../../../org/apache/derby/iapi/services/locks/LockFactory.html" title="interface in org.apache.derby.iapi.services.locks">LockFactory</a>&nbsp;getLockFactory()</pre>
<div class="block">Get the lock factory to be used during this transaction.</div>
</li>
</ul>
<a name="getDataFactory--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDataFactory</h4>
<pre>public abstract&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a>&nbsp;getDataFactory()</pre>
<div class="block">Get the data factory to be used during this transaction.</div>
</li>
</ul>
<a name="getLogFactory--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLogFactory</h4>
<pre>public abstract&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html" title="interface in org.apache.derby.iapi.store.raw.log">LogFactory</a>&nbsp;getLogFactory()</pre>
<div class="block">Get the log factory to be used during this transaction.</div>
</li>
</ul>
<a name="getLogBuffer--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLogBuffer</h4>
<pre>public abstract&nbsp;<a href="../../../../../../../org/apache/derby/iapi/services/io/DynamicByteArrayOutputStream.html" title="class in org.apache.derby.iapi.services.io">DynamicByteArrayOutputStream</a>&nbsp;getLogBuffer()</pre>
<div class="block">Get the log buffer to be used during this transaction.</div>
</li>
</ul>
<a name="logAndUndo-org.apache.derby.iapi.store.raw.Compensation-org.apache.derby.iapi.store.raw.log.LogInstant-org.apache.derby.iapi.services.io.LimitObjectInput-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logAndUndo</h4>
<pre>public abstract&nbsp;void&nbsp;logAndUndo(<a href="../../../../../../../org/apache/derby/iapi/store/raw/Compensation.html" title="interface in org.apache.derby.iapi.store.raw">Compensation</a>&nbsp;compensation,
                                <a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;undoInstant,
                                <a href="../../../../../../../org/apache/derby/iapi/services/io/LimitObjectInput.html" title="interface in org.apache.derby.iapi.services.io">LimitObjectInput</a>&nbsp;in)
                         throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Log a compensation operation and then action it in the context of this 
        transaction.
                The CompensationOperation is logged in the transaction log file and 
        then its doMe method is called to perform the required change.  This 
        compensation operation will rollback the change that was done by the 
        Loggable Operation at undoInstant.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>compensation</code> - the Compensation Operation</dd>
<dd><code>undoInstant</code> - the LogInstant of the Loggable Operation this 
                                                        compensation operation is going to roll back</dd>
<dd><code>in</code> - optional data for the rollback operation</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby exception policy</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Compensation.html" title="interface in org.apache.derby.iapi.store.raw"><code>Compensation</code></a></dd>
</dl>
</li>
</ul>
<a name="setTransactionId-org.apache.derby.iapi.store.raw.Loggable-org.apache.derby.iapi.store.raw.xact.TransactionId-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTransactionId</h4>
<pre>public abstract&nbsp;void&nbsp;setTransactionId(<a href="../../../../../../../org/apache/derby/iapi/store/raw/Loggable.html" title="interface in org.apache.derby.iapi.store.raw">Loggable</a>&nbsp;beginXact,
                                      <a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/TransactionId.html" title="interface in org.apache.derby.iapi.store.raw.xact">TransactionId</a>&nbsp;shortId)</pre>
<div class="block">Set the transactionId (Global and internal) of this transaction using a
                log record that contains the Global id</div>
</li>
</ul>
<a name="getId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getId</h4>
<pre>public abstract&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/TransactionId.html" title="interface in org.apache.derby.iapi.store.raw.xact">TransactionId</a>&nbsp;getId()</pre>
<div class="block">Get the shortId of this transaction.  May return null if transactio
                has no ID.</div>
</li>
</ul>
<a name="getGlobalId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getGlobalId</h4>
<pre>public abstract&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/GlobalTransactionId.html" title="interface in org.apache.derby.iapi.store.raw">GlobalTransactionId</a>&nbsp;getGlobalId()</pre>
<div class="block">Get the shortId of this transaction.  May return null if transactio
                has no ID.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#getGlobalId--">getGlobalId</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a></code></dd>
</dl>
</li>
</ul>
<a name="addUpdateTransaction-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addUpdateTransaction</h4>
<pre>public abstract&nbsp;void&nbsp;addUpdateTransaction(int&nbsp;transactionStatus)</pre>
<div class="block">Add this raw transaction on to the list of update transaction</div>
</li>
</ul>
<a name="removeUpdateTransaction--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeUpdateTransaction</h4>
<pre>public abstract&nbsp;void&nbsp;removeUpdateTransaction()</pre>
<div class="block">Remove this raw transaction from the list of update transaction</div>
</li>
</ul>
<a name="prepareTransaction--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prepareTransaction</h4>
<pre>public abstract&nbsp;void&nbsp;prepareTransaction()</pre>
<div class="block">Change the state of transaction in table to prepare.</div>
</li>
</ul>
<a name="setFirstLogInstant-org.apache.derby.iapi.store.raw.log.LogInstant-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFirstLogInstant</h4>
<pre>public abstract&nbsp;void&nbsp;setFirstLogInstant(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant)</pre>
<div class="block">Set the log instant for the first log record written by this 
        transaction.</div>
</li>
</ul>
<a name="getFirstLogInstant--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFirstLogInstant</h4>
<pre>public abstract&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;getFirstLogInstant()</pre>
<div class="block">Get the log instant for the first log record written by this 
        transaction.</div>
</li>
</ul>
<a name="setLastLogInstant-org.apache.derby.iapi.store.raw.log.LogInstant-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLastLogInstant</h4>
<pre>public abstract&nbsp;void&nbsp;setLastLogInstant(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant)</pre>
<div class="block">Set the log instant for the last log record written by this transaction.</div>
</li>
</ul>
<a name="getLastLogInstant--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastLogInstant</h4>
<pre>public abstract&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;getLastLogInstant()</pre>
<div class="block">Get the log instant for the last log record written by this transaction. 
                If the transaction is unclear what its last log instant is, 
                than it may return null.</div>
</li>
</ul>
<a name="checkLogicalOperationOk--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkLogicalOperationOk</h4>
<pre>public&nbsp;void&nbsp;checkLogicalOperationOk()
                             throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Check to see if a logical operation is allowed by this transaction, 
        throws a TransactionExceotion if it isn't. This implementation allows
                logical operations. Transactions that need to disallow logical 
        operations should hide this method.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy,</dd>
</dl>
</li>
</ul>
<a name="recoveryRollbackFirst--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recoveryRollbackFirst</h4>
<pre>public&nbsp;boolean&nbsp;recoveryRollbackFirst()</pre>
<div class="block">Return true if this transaction should be rolled back first
                in recovery. This implementation returns false. Transactions that
                need to rollback first during recovery should hide this method.</div>
</li>
</ul>
<a name="reprepare--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reprepare</h4>
<pre>public abstract&nbsp;void&nbsp;reprepare()
                        throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">During recovery re-prepare a transaction.
 <p>
 After redo() and undo(), this routine is called on all outstanding 
 in-doubt (prepared) transactions.  This routine re-acquires all 
 logical write locks for operations in the xact, and then modifies
 the transaction table entry to make the transaction look as if it
 had just been prepared following startup after recovery.
 <p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="setObserverException-org.apache.derby.iapi.error.StandardException-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setObserverException</h4>
<pre>public&nbsp;void&nbsp;setObserverException(<a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a>&nbsp;se)</pre>
<div class="block">Allow an Observer to indicate an exception to the transaction that
                is raised in its update() method.</div>
</li>
</ul>
<a name="startNestedTopTransaction--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startNestedTopTransaction</h4>
<pre>public abstract&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;startNestedTopTransaction()
                                                  throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Start a nested top transaction. A nested top transaction behaves exactly
                like a user transaction. Nested top transaction allow system type work
                to proceed in a separate transaction to the current user transaction
                and be committed independently of the user transaction (usually before
                the user transaction).
                Only one nested top transaction can be active in a context at any one
        time.
                After a commit the transaction may be re-used.

                A nested top transaction conflicts on the logical locks of its "parent"
        transaction.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="openDroppedContainer-org.apache.derby.iapi.store.raw.ContainerKey-org.apache.derby.iapi.store.raw.LockingPolicy-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openDroppedContainer</h4>
<pre>public abstract&nbsp;<a href="../../../../../../../org/apache/derby/iapi/store/raw/data/RawContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw.data">RawContainerHandle</a>&nbsp;openDroppedContainer(<a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;containerId,
                                                        <a href="../../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw">LockingPolicy</a>&nbsp;locking)
                                                 throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Open a container that may be dropped - use only by logging and recovery.
                During recovery redo, a log record may refer to a container that has
                long been dropped.  This interface is provided so a dropped container
                may be opened.

                If the container has been dropped and is known to be committed, then
                even if we open the dropped container with forUpdate true, the
                container will be silently opened as read only.  Logging and recovery
                code always check for committed drop status.  Anybody else wanting to
                use this interface must keep this in mind.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby exception policy</dd>
</dl>
</li>
</ul>
<a name="reCreateContainerForRedoRecovery-long-long-org.apache.derby.iapi.util.ByteArray-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reCreateContainerForRedoRecovery</h4>
<pre>public abstract&nbsp;void&nbsp;reCreateContainerForRedoRecovery(long&nbsp;segmentId,
                                                      long&nbsp;containerId,
                                                      <a href="../../../../../../../org/apache/derby/iapi/util/ByteArray.html" title="class in org.apache.derby.iapi.util">ByteArray</a>&nbsp;containerInfo)
                                               throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Recreate a container during redo recovery.

        Used during redo recovery when processing log records trying to 
        create a container, but no container is found in the db.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby exception policy</dd>
</dl>
</li>
</ul>
<a name="statusForBeginXactLog--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>statusForBeginXactLog</h4>
<pre>protected abstract&nbsp;int&nbsp;statusForBeginXactLog()</pre>
<div class="block">Status that needs to go into the begin transaction log record, if there
                is one, to help with recovery</div>
</li>
</ul>
<a name="statusForEndXactLog--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>statusForEndXactLog</h4>
<pre>protected abstract&nbsp;int&nbsp;statusForEndXactLog()</pre>
<div class="block">Status that needs to go into the end transaction log record, if there
                is one, to help with recovery</div>
</li>
</ul>
<a name="inAbort--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inAbort</h4>
<pre>public abstract&nbsp;boolean&nbsp;inAbort()</pre>
<div class="block">Is the transaction in the middle of an abort.</div>
</li>
</ul>
<a name="handlesPostTerminationWork--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handlesPostTerminationWork</h4>
<pre>public abstract&nbsp;boolean&nbsp;handlesPostTerminationWork()</pre>
<div class="block">Can this transaction handles post termination work</div>
</li>
</ul>
<a name="recoveryTransaction--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recoveryTransaction</h4>
<pre>public abstract&nbsp;void&nbsp;recoveryTransaction()</pre>
<div class="block">Make this transaction aware that it is being used by recovery</div>
</li>
</ul>
<a name="notifyObservers-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>notifyObservers</h4>
<pre>public&nbsp;void&nbsp;notifyObservers(java.lang.Object&nbsp;arg)</pre>
<div class="block">Allow my users to notigy my observers.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/services/monitor/DerbyObservable.html#notifyObservers-java.lang.Object-">notifyObservers</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org/apache/derby/iapi/services/monitor/DerbyObservable.html" title="class in org.apache.derby.iapi.services.monitor">DerbyObservable</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>arg</code> - Extra information to be passed to the observer's callback method.</dd>
</dl>
</li>
</ul>
<a name="inRollForwardRecovery--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inRollForwardRecovery</h4>
<pre>public abstract&nbsp;boolean&nbsp;inRollForwardRecovery()</pre>
<div class="block">Retunrs true if the transaction is part of rollforward recovery</div>
</li>
</ul>
<a name="checkpointInRollForwardRecovery-org.apache.derby.iapi.store.raw.log.LogInstant-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkpointInRollForwardRecovery</h4>
<pre>public abstract&nbsp;void&nbsp;checkpointInRollForwardRecovery(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;cinstant,
                                                     long&nbsp;redoLWM,
                                                     long&nbsp;undoLWM)
                                              throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Redo a checkpoint during rollforward recovery.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cinstant</code> - The LogInstant of the checkpoint</dd>
<dd><code>redoLWM</code> - Redo Low Water Mark in the check point record</dd>
<dd><code>undoLWM</code> - Undo Low Water Mark in the checkpoint</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Exception encountered during checkpoint</dd>
</dl>
</li>
</ul>
<a name="blockBackup-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>blockBackup</h4>
<pre>public abstract&nbsp;boolean&nbsp;blockBackup(boolean&nbsp;wait)
                             throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Make the transaction block the online backup.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>wait</code> - if <tt>true</tt>, waits until the transaction
             can block the backup.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><tt>true</tt> if the transaction  blocked the  
             backup.  <tt>false</tt> otherwise.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - if interrupted while waiting 
            for the backup in progress to complete.</dd>
</dl>
</li>
</ul>
<a name="isBlockingBackup--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isBlockingBackup</h4>
<pre>public abstract&nbsp;boolean&nbsp;isBlockingBackup()</pre>
<div class="block">Check if the transaction is blocking the backup ?</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><tt> true </tt> if this transaction is 
         blocking the backup, otherwise <tt> false </tt></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Built on Mon 2017-07-03 23:03:59+0530, from revision Unversioned directory</div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/TransactionFactory.html" title="interface in org.apache.derby.iapi.store.raw.xact"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/derby/iapi/store/raw/xact/RawTransaction.html" target="_top">Frames</a></li>
<li><a href="RawTransaction.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Apache Derby V10.13 Internals - <i>Copyright &copy; 2004,2016 The Apache Software Foundation. All Rights Reserved.</i></small></p>
</body>
</html>
