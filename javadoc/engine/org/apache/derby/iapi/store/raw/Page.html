<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_66) on Mon Jul 03 23:05:09 IST 2017 -->
<title>Page (Apache Derby V10.13 Internals)</title>
<meta name="date" content="2017-07-03">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Page (Apache Derby V10.13 Internals)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6,"i10":6,"i11":6,"i12":6,"i13":6,"i14":6,"i15":6,"i16":6,"i17":6,"i18":6,"i19":6,"i20":6,"i21":6,"i22":6,"i23":6,"i24":6,"i25":6,"i26":6,"i27":6,"i28":6,"i29":6,"i30":6,"i31":6,"i32":6,"i33":6,"i34":6,"i35":6,"i36":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/derby/iapi/store/raw/LogicalUndoable.html" title="interface in org.apache.derby.iapi.store.raw"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/apache/derby/iapi/store/raw/PageKey.html" title="class in org.apache.derby.iapi.store.raw"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/derby/iapi/store/raw/Page.html" target="_top">Frames</a></li>
<li><a href="Page.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.derby.iapi.store.raw</div>
<h2 title="Interface Page" class="title">Interface Page</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../../../org/apache/derby/impl/store/raw/data/AllocPage.html" title="class in org.apache.derby.impl.store.raw.data">AllocPage</a>, <a href="../../../../../../org/apache/derby/impl/store/raw/data/BasePage.html" title="class in org.apache.derby.impl.store.raw.data">BasePage</a>, <a href="../../../../../../org/apache/derby/impl/store/raw/data/CachedPage.html" title="class in org.apache.derby.impl.store.raw.data">CachedPage</a>, <a href="../../../../../../org/apache/derby/impl/store/raw/data/StoredPage.html" title="class in org.apache.derby.impl.store.raw.data">StoredPage</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">Page</span></pre>
<div class="block">A Page contains an ordered set of records which are the stored form of rows.
        A record is a stream of bytes created from a row array. The record
        contains one or more fields, fields have a one to one correlation with
        the DataValueDescriptor's contained within a row array.
    <P>
        A Page represents <B>exclusive</B> access to a data page within a container.
        Exclusive access is released by calling the unlatch() method, once that 
    occurs the caller must no longer use the Page reference.
        <P>
        Several of the methods in Page take a RecordHandle as an argument. 
    RecordHandles are obtained from a Page, while holding exclusive access of 
    Page or a from a previous exclusive access of a Page representing the same 
    data page.
        All RecordHandle's used as arguments to methods (with the exception of 
    recordExists()) must be valid for the current state of the page. If they 
    are not valid then the method will throw an exception. A caller can ensure 
    that a record handle is valid by:
        <UL>
        <LI> Obtaining the handle during this exclusive access of this page
        <LI> Checking the record still exists with the method recordExists()
        <LI> Not using a handle after a deleteAtSlot().
        </UL>
        <P>
        Several of the methods in Page take a slot number as an argument.  A slot 
    always correspond to a record, which may be deleted or undeleted.

    <BR>
        MT - Latched - In general every method requires the page to be latched.

  <P>
  <B>Latching</B>
  <P>
  All page methods which are not valid for a latched page throw an
  exception if the page is not latched.  [@exception clauses on all
  the methods should be updated to reflect this].

  <P>
  <B>Aux Objects</B>
  <BR>
  The page cache will manage a client object along with the page as long
  as it remains in cache.  This object is called the "aux object".  The 
  aux object is associated with the page with setAuxObject(), and can be
  retreived later with getAuxObject().  The aux object will remain valid
  as long as the page is latched, but callers cannot assume that an aux
  object will ever stick around once the page is unlatched.  However, the
  page manager promises to call pageBeingEvicted() once before clearing
  the aux reference from the page.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>Object</code>, 
<a href="../../../../../../org/apache/derby/iapi/store/raw/ContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw"><code>ContainerHandle</code></a>, 
<a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw"><code>RecordHandle</code></a>, 
<a href="../../../../../../org/apache/derby/iapi/store/raw/AuxObject.html" title="interface in org.apache.derby.iapi.store.raw"><code>AuxObject</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#DIAG_BYTES_FREE">DIAG_BYTES_FREE</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#DIAG_BYTES_RESERVED">DIAG_BYTES_RESERVED</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#DIAG_MAXROWSIZE">DIAG_MAXROWSIZE</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#DIAG_MINIMUM_REC_SIZE">DIAG_MINIMUM_REC_SIZE</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#DIAG_MINROWSIZE">DIAG_MINROWSIZE</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#DIAG_NUMOVERFLOWED">DIAG_NUMOVERFLOWED</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#DIAG_PAGE_SIZE">DIAG_PAGE_SIZE</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#DIAG_PAGEOVERHEAD">DIAG_PAGEOVERHEAD</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#DIAG_RESERVED_SPACE">DIAG_RESERVED_SPACE</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#DIAG_ROWSIZE">DIAG_ROWSIZE</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#DIAG_SLOTTABLE_SIZE">DIAG_SLOTTABLE_SIZE</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#FIRST_SLOT_NUMBER">FIRST_SLOT_NUMBER</a></span></code>
<div class="block">The slot number of the first slot.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static byte</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#INSERT_CONDITIONAL">INSERT_CONDITIONAL</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static byte</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#INSERT_DEFAULT">INSERT_DEFAULT</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static byte</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#INSERT_FOR_SPLIT">INSERT_FOR_SPLIT</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static byte</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#INSERT_INITIAL">INSERT_INITIAL</a></span></code>
<div class="block">Values for insertFlag.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static byte</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#INSERT_OVERFLOW">INSERT_OVERFLOW</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static byte</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#INSERT_UNDO_WITH_PURGE">INSERT_UNDO_WITH_PURGE</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#INVALID_SLOT_NUMBER">INVALID_SLOT_NUMBER</a></span></code>
<div class="block">A slot number guaranteed to be invalid.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#copyAndPurge-org.apache.derby.iapi.store.raw.Page-int-int-int-">copyAndPurge</a></span>(<a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a>&nbsp;destPage,
            int&nbsp;src_slot,
            int&nbsp;num_rows,
            int&nbsp;dest_slot)</code>
<div class="block">move rows from one page to another, purging in the process.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/store/raw/PageTimeStamp.html" title="interface in org.apache.derby.iapi.store.raw">PageTimeStamp</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#currentTimeStamp--">currentTimeStamp</a></span>()</code>
<div class="block">Return a time stamp that can be used to identify the page of this
                specific instance.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#deleteAtSlot-int-boolean-org.apache.derby.iapi.store.access.conglomerate.LogicalUndo-">deleteAtSlot</a></span>(int&nbsp;slot,
            boolean&nbsp;delete,
            <a href="../../../../../../org/apache/derby/iapi/store/access/conglomerate/LogicalUndo.html" title="interface in org.apache.derby.iapi.store.access.conglomerate">LogicalUndo</a>&nbsp;undo)</code>
<div class="block">Mark the record at slot as deleted or undeleted according to delete flag.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#equalTimeStamp-org.apache.derby.iapi.store.raw.PageTimeStamp-">equalTimeStamp</a></span>(<a href="../../../../../../org/apache/derby/iapi/store/raw/PageTimeStamp.html" title="interface in org.apache.derby.iapi.store.raw">PageTimeStamp</a>&nbsp;ts)</code>
<div class="block">See if timeStamp for this page is the same as the current
                instance of the page.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#fetchFieldFromSlot-int-int-java.lang.Object-">fetchFieldFromSlot</a></span>(int&nbsp;slot,
                  int&nbsp;fieldId,
                  java.lang.Object&nbsp;column)</code>
<div class="block">Fetch a single field from a deleted or non-deleted record.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#fetchFromSlot-org.apache.derby.iapi.store.raw.RecordHandle-int-java.lang.Object:A-org.apache.derby.iapi.store.raw.FetchDescriptor-boolean-">fetchFromSlot</a></span>(<a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;rh,
             int&nbsp;slot,
             java.lang.Object[]&nbsp;row,
             <a href="../../../../../../org/apache/derby/iapi/store/raw/FetchDescriptor.html" title="class in org.apache.derby.iapi.store.raw">FetchDescriptor</a>&nbsp;fetchDesc,
             boolean&nbsp;ignoreDelete)</code>
<div class="block">Fetch a record located in the passed in slot.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#fetchNumFields-org.apache.derby.iapi.store.raw.RecordHandle-">fetchNumFields</a></span>(<a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;handle)</code>
<div class="block">Fetch the number of fields in a record.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#fetchNumFieldsAtSlot-int-">fetchNumFieldsAtSlot</a></span>(int&nbsp;slot)</code>
<div class="block">Fetch the number of fields in a record.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/store/raw/AuxObject.html" title="interface in org.apache.derby.iapi.store.raw">AuxObject</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#getAuxObject--">getAuxObject</a></span>()</code>
<div class="block">Retrieve this page's aux object, returning null if there isn't one.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#getInvalidRecordHandle--">getInvalidRecordHandle</a></span>()</code>
<div class="block">Return an invalid record handle.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#getNextSlotNumber-org.apache.derby.iapi.store.raw.RecordHandle-">getNextSlotNumber</a></span>(<a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;handle)</code>
<div class="block">Find slot for record with an id greater than the passed in identifier.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/store/raw/PageKey.html" title="class in org.apache.derby.iapi.store.raw">PageKey</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#getPageKey--">getPageKey</a></span>()</code>
<div class="block">Return the page key of this page.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#getPageNumber--">getPageNumber</a></span>()</code>
<div class="block">Return the page number of this page.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#getPageVersion--">getPageVersion</a></span>()</code>
<div class="block">Get the current version number of the page.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#getRecordHandle-int-">getRecordHandle</a></span>(int&nbsp;recordId)</code>
<div class="block">Get a record handle from a previously stored record id.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#getRecordHandleAtSlot-int-">getRecordHandleAtSlot</a></span>(int&nbsp;slot)</code>
<div class="block">Get the record handle of row at slot.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#getSlotNumber-org.apache.derby.iapi.store.raw.RecordHandle-">getSlotNumber</a></span>(<a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;handle)</code>
<div class="block">Get the slot number.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#insert-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-byte-int-">insert</a></span>(java.lang.Object[]&nbsp;row,
      <a href="../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a>&nbsp;validColumns,
      byte&nbsp;insertFlag,
      int&nbsp;overflowThreshold)</code>
<div class="block">Insert a record anywhere on the page.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#insertAtSlot-int-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-org.apache.derby.iapi.store.access.conglomerate.LogicalUndo-byte-int-">insertAtSlot</a></span>(int&nbsp;slot,
            java.lang.Object[]&nbsp;row,
            <a href="../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a>&nbsp;validColumns,
            <a href="../../../../../../org/apache/derby/iapi/store/access/conglomerate/LogicalUndo.html" title="interface in org.apache.derby.iapi.store.access.conglomerate">LogicalUndo</a>&nbsp;undo,
            byte&nbsp;insertFlag,
            int&nbsp;overflowThreshold)</code>
<div class="block">Insert a record at the specified slot.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#isDeletedAtSlot-int-">isDeletedAtSlot</a></span>(int&nbsp;slot)</code>
<div class="block">Test if a record is deleted.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#isLatched--">isLatched</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#isRepositionNeeded-long-">isRepositionNeeded</a></span>(long&nbsp;version)</code>
<div class="block">Check if this page has been changed in such a way that scans that are
 positioned on it will have to reposition.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#makeRecordHandle-int-">makeRecordHandle</a></span>(int&nbsp;recordHandleConstant)</code>
<div class="block">Return a record handle for the given constant record id.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#moveRecordForCompressAtSlot-int-java.lang.Object:A-org.apache.derby.iapi.store.raw.RecordHandle:A-org.apache.derby.iapi.store.raw.RecordHandle:A-">moveRecordForCompressAtSlot</a></span>(int&nbsp;slot,
                           java.lang.Object[]&nbsp;row,
                           <a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>[]&nbsp;old_handle,
                           <a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>[]&nbsp;new_handle)</code>
<div class="block">Move record to a page toward the beginning of the file.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#nonDeletedRecordCount--">nonDeletedRecordCount</a></span>()</code>
<div class="block">Return the number of records on this page that are <B> not </B> marked as deleted.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#purgeAtSlot-int-int-boolean-">purgeAtSlot</a></span>(int&nbsp;slot,
           int&nbsp;numpurges,
           boolean&nbsp;needDataLogged)</code>
<div class="block">Purge the row(s) from page.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#recordCount--">recordCount</a></span>()</code>
<div class="block">Return the number of records on the page.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#recordExists-org.apache.derby.iapi.store.raw.RecordHandle-boolean-">recordExists</a></span>(<a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;handle,
            boolean&nbsp;ignoreDelete)</code>
<div class="block">does the record still exist on the page?</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#setAuxObject-org.apache.derby.iapi.store.raw.AuxObject-">setAuxObject</a></span>(<a href="../../../../../../org/apache/derby/iapi/store/raw/AuxObject.html" title="interface in org.apache.derby.iapi.store.raw">AuxObject</a>&nbsp;aux)</code>
<div class="block">Set the aux object for this page.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#setRepositionNeeded--">setRepositionNeeded</a></span>()</code>
<div class="block">Set a hint in the page object to indicate that scans positioned on it
 need to reposition.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#setTimeStamp-org.apache.derby.iapi.store.raw.PageTimeStamp-">setTimeStamp</a></span>(<a href="../../../../../../org/apache/derby/iapi/store/raw/PageTimeStamp.html" title="interface in org.apache.derby.iapi.store.raw">PageTimeStamp</a>&nbsp;ts)</code>
<div class="block">Set the time stamp to what is on page at this instance.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#shouldReclaimSpace-int-int-">shouldReclaimSpace</a></span>(int&nbsp;num_non_deleted_rows,
                  int&nbsp;slot_just_deleted)</code>
<div class="block">Is this page/deleted row a candidate for immediate reclaim space.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#spaceForInsert--">spaceForInsert</a></span>()</code>
<div class="block">Is it likely that an insert will fit on this page?</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#spaceForInsert-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-int-">spaceForInsert</a></span>(java.lang.Object[]&nbsp;row,
              <a href="../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a>&nbsp;validColumns,
              int&nbsp;overflowThreshold)</code>
<div class="block">will insert of this row fit on this page?</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#unlatch--">unlatch</a></span>()</code>
<div class="block">Unlatch me, the page is exclusivly latched by its current user until
                this method call is made.</div>
</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#updateAtSlot-int-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-">updateAtSlot</a></span>(int&nbsp;slot,
            java.lang.Object[]&nbsp;row,
            <a href="../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a>&nbsp;validColumns)</code>
<div class="block">Update the complete record identified by the slot.</div>
</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#updateFieldAtSlot-int-int-java.lang.Object-org.apache.derby.iapi.store.access.conglomerate.LogicalUndo-">updateFieldAtSlot</a></span>(int&nbsp;slot,
                 int&nbsp;fieldId,
                 java.lang.Object&nbsp;newValue,
                 <a href="../../../../../../org/apache/derby/iapi/store/access/conglomerate/LogicalUndo.html" title="interface in org.apache.derby.iapi.store.access.conglomerate">LogicalUndo</a>&nbsp;undo)</code>
<div class="block">Update a field within the record, replacing its current value with
                the stored representation of newValue.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="FIRST_SLOT_NUMBER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FIRST_SLOT_NUMBER</h4>
<pre>static final&nbsp;int FIRST_SLOT_NUMBER</pre>
<div class="block">The slot number of the first slot.  This is guaranteed to be zero.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.Page.FIRST_SLOT_NUMBER">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="INVALID_SLOT_NUMBER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>INVALID_SLOT_NUMBER</h4>
<pre>static final&nbsp;int INVALID_SLOT_NUMBER</pre>
<div class="block">A slot number guaranteed to be invalid.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.Page.INVALID_SLOT_NUMBER">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="INSERT_INITIAL">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>INSERT_INITIAL</h4>
<pre>static final&nbsp;byte INSERT_INITIAL</pre>
<div class="block">Values for insertFlag.
 <p>

 INSERT_INITIAL                 - flag initializer

 INSERT_DEFAULT                 - default insert behavior, if the record does
                            not fit on the page where the insert 
                            operation is called, an error will be 
                            returned, instead of overflowing the record.

 INSERT_UNDO_WITH_PURGE - if this is set, then the undo of this insert 
                            will purge the row rather than mark it as 
                            deleted, which is the default behaviro for 
                            insertAtSlot and insert.

 INSERT_CONDITIONAL             - if this flag is set, then, the overflow is 
                            conditional.  The record will be overflowed 
                            only if it exceeds the threshold specified 
                            by the properties, or the parameter.

 INSERT_OVERFLOW                        - if this flag is set, then the insert 
                            operation will overflow the record if it does
                            not fit on the page.  

 INSERT_FOR_SPLIT                   - a record is being updated that causes new 
                            portions to be inserted *and* the last new 
                            portion needs to point to an existing portion.

 Rules for the insert flags:
 1. If INSERT_DEFAULT is set, INSERT_CONDITIONAL and INSERT_OVERFLOW 
    will be ignored
 2. INSERT_UNDO_WITH_PURGE can be set with any of the other 3 flags.
 3. If INSERT_OVERFLOW is not set, INSERT_CONDITIONAL will be ignored.  
    But, it is not necessary to set INSERT_CONDITIONAL when setting 
    INSERT_OVERFLOW.
 4. If INSERT_DEFAULT, INSERT_OVERFLOW both are not set, then, default 
    insert action will be taken, i.e. no overflow will be allowed.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.Page.INSERT_INITIAL">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="INSERT_DEFAULT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>INSERT_DEFAULT</h4>
<pre>static final&nbsp;byte INSERT_DEFAULT</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.Page.INSERT_DEFAULT">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="INSERT_UNDO_WITH_PURGE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>INSERT_UNDO_WITH_PURGE</h4>
<pre>static final&nbsp;byte INSERT_UNDO_WITH_PURGE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.Page.INSERT_UNDO_WITH_PURGE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="INSERT_CONDITIONAL">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>INSERT_CONDITIONAL</h4>
<pre>static final&nbsp;byte INSERT_CONDITIONAL</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.Page.INSERT_CONDITIONAL">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="INSERT_OVERFLOW">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>INSERT_OVERFLOW</h4>
<pre>static final&nbsp;byte INSERT_OVERFLOW</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.Page.INSERT_OVERFLOW">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="INSERT_FOR_SPLIT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>INSERT_FOR_SPLIT</h4>
<pre>static final&nbsp;byte INSERT_FOR_SPLIT</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.Page.INSERT_FOR_SPLIT">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="DIAG_PAGE_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DIAG_PAGE_SIZE</h4>
<pre>static final&nbsp;java.lang.String DIAG_PAGE_SIZE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.Page.DIAG_PAGE_SIZE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="DIAG_RESERVED_SPACE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DIAG_RESERVED_SPACE</h4>
<pre>static final&nbsp;java.lang.String DIAG_RESERVED_SPACE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.Page.DIAG_RESERVED_SPACE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="DIAG_MINIMUM_REC_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DIAG_MINIMUM_REC_SIZE</h4>
<pre>static final&nbsp;java.lang.String DIAG_MINIMUM_REC_SIZE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.Page.DIAG_MINIMUM_REC_SIZE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="DIAG_BYTES_FREE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DIAG_BYTES_FREE</h4>
<pre>static final&nbsp;java.lang.String DIAG_BYTES_FREE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.Page.DIAG_BYTES_FREE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="DIAG_BYTES_RESERVED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DIAG_BYTES_RESERVED</h4>
<pre>static final&nbsp;java.lang.String DIAG_BYTES_RESERVED</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.Page.DIAG_BYTES_RESERVED">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="DIAG_NUMOVERFLOWED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DIAG_NUMOVERFLOWED</h4>
<pre>static final&nbsp;java.lang.String DIAG_NUMOVERFLOWED</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.Page.DIAG_NUMOVERFLOWED">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="DIAG_ROWSIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DIAG_ROWSIZE</h4>
<pre>static final&nbsp;java.lang.String DIAG_ROWSIZE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.Page.DIAG_ROWSIZE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="DIAG_MINROWSIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DIAG_MINROWSIZE</h4>
<pre>static final&nbsp;java.lang.String DIAG_MINROWSIZE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.Page.DIAG_MINROWSIZE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="DIAG_MAXROWSIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DIAG_MAXROWSIZE</h4>
<pre>static final&nbsp;java.lang.String DIAG_MAXROWSIZE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.Page.DIAG_MAXROWSIZE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="DIAG_PAGEOVERHEAD">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DIAG_PAGEOVERHEAD</h4>
<pre>static final&nbsp;java.lang.String DIAG_PAGEOVERHEAD</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.Page.DIAG_PAGEOVERHEAD">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="DIAG_SLOTTABLE_SIZE">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DIAG_SLOTTABLE_SIZE</h4>
<pre>static final&nbsp;java.lang.String DIAG_SLOTTABLE_SIZE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.Page.DIAG_SLOTTABLE_SIZE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getPageNumber--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPageNumber</h4>
<pre>long&nbsp;getPageNumber()</pre>
<div class="block">Return the page number of this page. 
 <p>
 Page numbers are unique within a container and start at 
 ContainerHandle.FIRST_PAGE_NUMBER and increment by 1 regardless of the 
 page size.
 <p>

 <BR> MT - Latched</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The page number of this page.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/store/raw/ContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw"><code>ContainerHandle</code></a></dd>
</dl>
</li>
</ul>
<a name="getPageKey--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPageKey</h4>
<pre><a href="../../../../../../org/apache/derby/iapi/store/raw/PageKey.html" title="class in org.apache.derby.iapi.store.raw">PageKey</a>&nbsp;getPageKey()</pre>
<div class="block">Return the page key of this page. 
 <p>

 <BR> MT - Latched</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The page key of this page.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/store/raw/ContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw"><code>ContainerHandle</code></a></dd>
</dl>
</li>
</ul>
<a name="getInvalidRecordHandle--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInvalidRecordHandle</h4>
<pre><a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;getInvalidRecordHandle()</pre>
<div class="block">Return an invalid record handle.
 <p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an invalid record handle.</dd>
</dl>
</li>
</ul>
<a name="makeRecordHandle-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>makeRecordHandle</h4>
<pre><a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;makeRecordHandle(int&nbsp;recordHandleConstant)
                       throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Return a record handle for the given constant record id.
 <p>
 Return a record handle that doesn't represent a record but rather has 
 a special meaning.  Used for special cases like creating a key 
 specific to the page, but not specific to a row on the page.
 <p>
 See RecordHandle interface for a list of "special record handles."</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>recordHandleConstant</code> - the special recordId</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The created record handle.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - if input is not a special record identifier.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw"><code>RecordHandle</code></a></dd>
</dl>
</li>
</ul>
<a name="getRecordHandle-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRecordHandle</h4>
<pre><a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;getRecordHandle(int&nbsp;recordId)</pre>
<div class="block">Get a record handle from a previously stored record id.
 <p>
 Get a record handle from a previously stored record identifier that was
 obtained from a RecordHandle.
 <p>
 <BR> MT - Latched</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>recordId</code> - previously stored recordId.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A valid record handle or null if the record no longer exists.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html#getId--"><code>RecordHandle.getId()</code></a></dd>
</dl>
</li>
</ul>
<a name="recordExists-org.apache.derby.iapi.store.raw.RecordHandle-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recordExists</h4>
<pre>boolean&nbsp;recordExists(<a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;handle,
                     boolean&nbsp;ignoreDelete)
              throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">does the record still exist on the page?
 <p>
 If "ignoreDelete" is true and the record handle represents a record on 
 the page (either marked deleted or not) return true.  If "ignoreDelete" 
 is false return true if the record handle represents a record on the 
 page and the record is not marked as deleted.  Return false otherwise.

 <BR> MT - Latched</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>handle</code> - handle of the record to look for.</dd>
<dd><code>ignoreDelete</code> - if true, then routine will return true even if the
                      row is marked deleted.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>boolean indicating if the record still exists on the page.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="spaceForInsert--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>spaceForInsert</h4>
<pre>boolean&nbsp;spaceForInsert()
                throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Is it likely that an insert will fit on this page?
 <p>
 Return true if there is a good chance an insert will fit on this page, 
 false otherwise.  If this returns true then an insert may still fail by 
 throwing an exception or by returning null, see insertAtSlot for details.
 It is very probable that this call is much faster than the version that 
 takes a row. In situations where it is expected that the 
 majority of times a row will fit on a page this method should be used 
 and the null return handled from insert/insertAtSlot.

 <BR>
 MT - latched</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if it is likely an insert will fit on the page.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="spaceForInsert-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>spaceForInsert</h4>
<pre>boolean&nbsp;spaceForInsert(java.lang.Object[]&nbsp;row,
                       <a href="../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a>&nbsp;validColumns,
                       int&nbsp;overflowThreshold)
                throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">will insert of this row fit on this page?
 <p>
 Return true if this record is guaranteed to be inserted successfully 
 using insert() or insertAtSlot(). This guarantee is only valid if the 
 following conditions are fulfilled before an insert is called with t
 his row.
 <UL>
 <LI> The page is not unlatched
 <LI> The page is not modified in any way, ie. no updates or other inserts
 <LI> The row is not modified in such a way that would change its 
      storage size
 </UL>

 <BR>
 MT - latched</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>row</code> - The row to check for insert.</dd>
<dd><code>validColumns</code> - bit map to interpret valid columns in row.</dd>
<dd><code>overflowThreshold</code> - The percentage of the page to use for the
                              insert.  100 means use 100% of the page,
                              50 means use 50% of page (ie. make sure
                              2 rows fit per page).</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if insert of this row will fit on this page.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="insert-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-byte-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insert</h4>
<pre><a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;insert(java.lang.Object[]&nbsp;row,
                    <a href="../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a>&nbsp;validColumns,
                    byte&nbsp;insertFlag,
                    int&nbsp;overflowThreshold)
             throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Insert a record anywhere on the page.
 <P>

 <B>Locking Policy</B>
 <BR>
 Calls the lockRecordForWrite() method of the LockingPolicy object
 passed to the openContainer() call before the record is inserted.
 <BR>
 MT - latched</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>row</code> - The row version of the data</dd>
<dd><code>validColumns</code> - a bit map of which columns in the row is valid.  
                      ValidColumns will not be changed by RawStore.</dd>
<dd><code>insertFlag</code> - see values for insertFlag below.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A RecordHandle representing the new record.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - if the container was not opened in update
 mode, or if the row cannot fit on the page, or if the row is null</dd>
</dl>
</li>
</ul>
<a name="moveRecordForCompressAtSlot-int-java.lang.Object:A-org.apache.derby.iapi.store.raw.RecordHandle:A-org.apache.derby.iapi.store.raw.RecordHandle:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>moveRecordForCompressAtSlot</h4>
<pre>int&nbsp;moveRecordForCompressAtSlot(int&nbsp;slot,
                                java.lang.Object[]&nbsp;row,
                                <a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>[]&nbsp;old_handle,
                                <a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>[]&nbsp;new_handle)
                         throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Move record to a page toward the beginning of the file.
 <p>
 As part of compressing the table records need to be moved from the
 end of the file toward the beginning of the file.  Only the 
 contiguous set of free pages at the very end of the file can
 be given back to the OS.  This call is used to purge the row from
 the current page, insert it into a previous page, and return the
 new row location 
 Mark the record identified by position as deleted. The record may be 
 undeleted sometime later using undelete() by any transaction that sees 
 the record.
 <p>
 The interface is optimized to work on a number of rows at a time, 
 optimally processing all rows on the page at once.  The call will 
 process either all rows on the page, or the number of slots in the
 input arrays - whichever is smaller.
 <B>Locking Policy</B>
 <P>
 MUST be called with table locked, not locks are requested.  Because
 it is called with table locks the call will go ahead and purge any
 row which is marked deleted.  It will also use purge rather than
 delete to remove the old row after it moves it to a new page.  This
 is ok since the table lock insures that no other transaction will
 use space on the table before this transaction commits.

 <BR>
 A page latch on the new page will be requested and released.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - Slot of row to move.</dd>
<dd><code>row</code> - A template to read the current row into as part
                       of moving it.</dd>
<dd><code>old_handle</code> - An array to be filled in by the call with the 
                       old handles of all rows moved.</dd>
<dd><code>new_handle</code> - An array to be filled in by the call with the 
                       new handles of all rows moved.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of rows processed.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw"><code>LockingPolicy</code></a></dd>
</dl>
</li>
</ul>
<a name="fetchNumFields-org.apache.derby.iapi.store.raw.RecordHandle-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchNumFields</h4>
<pre>int&nbsp;fetchNumFields(<a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;handle)
            throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Fetch the number of fields in a record. 
 <p>
 <B>Locking Policy</B>
 <P>
 No locks are obtained.

 <BR>
 MT - latched</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>handle</code> - record handle to deleted or non-deleted record</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of fields in the record</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy, a 
                              statement level exception is thrown if the 
                              record handle does not match a record on 
                              the page.</dd>
</dl>
</li>
</ul>
<a name="getSlotNumber-org.apache.derby.iapi.store.raw.RecordHandle-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSlotNumber</h4>
<pre>int&nbsp;getSlotNumber(<a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;handle)
           throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Get the slot number.
 <p>
 Get the slot number of a record on a latched page using its record 
 handle.

 <P><B>Note</B>
 The slot number is only good for as long as the page is latched.

 <BR>
 MT - latched</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>handle</code> - the record handle</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the slot number</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="getRecordHandleAtSlot-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRecordHandleAtSlot</h4>
<pre><a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;getRecordHandleAtSlot(int&nbsp;slot)
                            throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Get the record handle of row at slot.
 <p>
 Get the record handle of a record on a latched page using its slot 
 number.

 <BR>
 MT - latched</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - the slot number</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the record handle.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="getNextSlotNumber-org.apache.derby.iapi.store.raw.RecordHandle-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextSlotNumber</h4>
<pre>int&nbsp;getNextSlotNumber(<a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;handle)
               throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Find slot for record with an id greater than the passed in identifier.
 <p>
 Find the slot for the first record on the page with an id greater than 
 the passed in identifier.

 <BR>
 Returns the slot of the first record on the page with an id greater than
 the one passed in.  Usefulness of this functionality depends on the 
 client's use of the raw store interfaces.  If all "new" records are 
 always inserted at the end of the page, and the raw store continues to
 guarantee that all record id's will be allocated in increasing order on 
 a given page (assuming a PAGE_REUSABLE_RECORD_ID container), then a page
 is always sorted in record id order.  For instance current heap tables 
 function this way.  If the client ever inserts at a particular slot 
 number, rather than at the "end" then the record id's will not be sorted.
 <BR>
 In the case where all record id's are always sorted on a page, then this
 routine can be used by scan's which "lose" their position because the 
 row they have as a position was purged.  They can reposition their scan 
 at the "next" row after the row that is now missing from the table.
 <BR>
 This method returns the record regardless of its deleted status.
 <BR>
 MT - latched</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>handle</code> - record handle to find the next higher id.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>record id of the first record on the page with a record id 
          higher than the one passed in.  If no such record exists, 
          -1 is returned.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="insertAtSlot-int-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-org.apache.derby.iapi.store.access.conglomerate.LogicalUndo-byte-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertAtSlot</h4>
<pre><a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;insertAtSlot(int&nbsp;slot,
                          java.lang.Object[]&nbsp;row,
                          <a href="../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a>&nbsp;validColumns,
                          <a href="../../../../../../org/apache/derby/iapi/store/access/conglomerate/LogicalUndo.html" title="interface in org.apache.derby.iapi.store.access.conglomerate">LogicalUndo</a>&nbsp;undo,
                          byte&nbsp;insertFlag,
                          int&nbsp;overflowThreshold)
                   throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Insert a record at the specified slot. 
 <p>
 All records that occupy FIRST_SLOT_NUMBER to (slot - 1) are not moved. 
 <BR>
 All records that occupy slot to (recordCount() - 1) are moved up one 
 slot. 
 <BR>
 The new record is inserted at the specified slot. <BR>
 If slot == FIRST_SLOT_NUMBER, then the new record will be inserted at 
 the first slot. <BR>
 If slot == recordCount(), then the record is inserted in a new slot, no
 records are moved. <BR>

 If slot is &gt; recordCount() or if slot &lt; FIRST_SLOT_NUMBER, an exception
 will be thrown.

 <P><B>Space Policy</B><BR>
 If the row will not fit on a page then:
 <UL>
 <LI> an exception is thrown if the page has no other rows, this is an 
      indication that the row could never fit on a page in this container.
 <LI> null is returned if there are other rows on the page, this is an 
      indication that the row can potentially be inserted successfully 
      onto an empty page.
 </UL>

 <P>
 <B>Locking Policy</B>
 <BR>
 Calls the lockRecordForWrite() method of the LockingPolicy object passed
 to the openContainer() call before the record is inserted.
 <BR>
 MT - latched</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - The specified slot</dd>
<dd><code>row</code> - The row version of the data</dd>
<dd><code>undo</code> - if logical undo may be necessary, a function pointer
                      to the access code where the logical undo logic 
                      resides. Null if logical undo is not necessary.</dd>
<dd><code>validColumns</code> - a bit map of which columns in the row is valid.  
                      ValidColumns will not be changed by RawStore.</dd>
<dd><code>insertFlag</code> - if INSERT_UNDO_WITH_PURGE set, then the undo of this
                      insert will purge the row rather than mark it as 
                      deleted, which is the default bahavior for 
                      insertAtSlot and insert.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A RecordHandle representing the new record, or null if the row 
         will not fit on a non-empty page.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - if the container was not opened in update
 mode, or if the row cannot fit on the page</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/store/access/conglomerate/LogicalUndo.html" title="interface in org.apache.derby.iapi.store.access.conglomerate"><code>LogicalUndo</code></a>, 
<a href="../../../../../../org/apache/derby/iapi/store/raw/LogicalUndoable.html" title="interface in org.apache.derby.iapi.store.raw"><code>LogicalUndoable</code></a></dd>
</dl>
</li>
</ul>
<a name="fetchFromSlot-org.apache.derby.iapi.store.raw.RecordHandle-int-java.lang.Object:A-org.apache.derby.iapi.store.raw.FetchDescriptor-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchFromSlot</h4>
<pre><a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;fetchFromSlot(<a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;rh,
                           int&nbsp;slot,
                           java.lang.Object[]&nbsp;row,
                           <a href="../../../../../../org/apache/derby/iapi/store/raw/FetchDescriptor.html" title="class in org.apache.derby.iapi.store.raw">FetchDescriptor</a>&nbsp;fetchDesc,
                           boolean&nbsp;ignoreDelete)
                    throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Fetch a record located in the passed in slot.
 <p>
 Fetch a record located in the passed in slot and fill-in the passed in 
 StorebleRow and the Object columns contained within. If row
 is null then the record is locked but is not fetched.
 <BR>
 This interface allows the caller to either return a deleted row or not. 
 If "ignoreDelete" is set to true, fetch the record regardless of whether 
 it is deleted or not (same as above fetchFromSlot).  However, if  
 "ignoreDelete" is set to false and the and the slot correspond to a 
 deleted row, null is returned.
 <BR>
 If a non-null Qualifier list is provided then the qualifier array will 
 be applied to the row and the row will only be returned if the row 
 qualifies, otherwise null will be returned.  Values in the columns of 
 row may or may not be altered while trying to apply the qualifiers, if 
 null is returned the state of the columns is undefined.  If a null 
 Qualifier list is provided then no qualification is applied.
 <BR>
 If a non-null record handle is passed in, it is assumed that the record 
 handle corresponds to the record in the slot.  If record handle is null,
 a record handle will be manufactured and returned if the record is not 
 deleted or if "ignoreDelete" is true.  This parameter is here for the 
 case where the caller have already manufactured the record handle for 
 locking or other purposes so it would make sense for the page to avoid 
 creating a new record handle object if possible.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rh</code> - the record handle of the row.  If non-null it must 
                     refer to the same record as the slot.</dd>
<dd><code>slot</code> - the slot number</dd>
<dd><code>row</code> - Row to be filled in with information from record.</dd>
<dd><code>fetchDesc</code> - A structure to efficiently carry a set of parameters
                     needed to describe the fetch, these include:
                     
                     validColumns - A bit map of which columns in the 
                     row to be fetched.  ValidColumns will not be 
                     changed by RawStore.

                     qualifier_list - 
                     A list of Qualifiers to apply to the row to see if
                     the row should be returned.

                     An array of qualifiers which restrict whether or not
                     the row should be returned by the fetch.  Rows for 
                     which any one of the qualifiers returns false are 
                     not returned by the fetch. If null, no qualification
                     is done and the requested columns of the rows are 
                     returned.  Qualifiers can only reference columns 
                     which are included in the scanColumnList.  The 
                     column id that a qualifier returns is the column id
                     the table, not the column id in the partial row 
                     being returned.  
                     qualifier_scratch_space - 
                     An array of int's that matches the size of the 
                     row[] array.  Used to process qualifiers, if no
                     qualifiers are input then array need not be 
                     input.  Passed in rather than allocated so that
                     space can be allocated a single time in a scan.
                     If not passed in then raw store will allocate and
                     deallocate per call.</dd>
<dd><code>ignoreDelete</code> - if true, return row regardless of whether it is 
                     deleted or not.  If false, only return non-deleted 
                     row.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A handle to the record.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw"><code>LockingPolicy</code></a></dd>
</dl>
</li>
</ul>
<a name="fetchFieldFromSlot-int-int-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchFieldFromSlot</h4>
<pre><a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;fetchFieldFromSlot(int&nbsp;slot,
                                int&nbsp;fieldId,
                                java.lang.Object&nbsp;column)
                         throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Fetch a single field from a deleted or non-deleted record.
                Fills in the passed in Object column with the field
                identified by fieldid if column is not null, otherwise the record
                is locked but not fetched.
                <BR>
                The fieldId of the first field is 0.
                If the fieldId is &gt;= the number of fields on the record, 
                column is restored to null
                <P>
                <B>Locking Policy</B>
                <BR>
                        No locks are obtained. 
            It is up to the caller to obtain the correct locks.
                <BR>

                It is guaranteed that the page latch is not released by this method</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - is the slot number</dd>
<dd><code>fieldId</code> - is the column id</dd>
<dd><code>column</code> - is to be filled in with information from the record.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the Handle to the record that is locked</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy, a 
                                        statement level exception is thrown if
                                        the slot is not on the page.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html#fetchFromSlot-org.apache.derby.iapi.store.raw.RecordHandle-int-java.lang.Object:A-org.apache.derby.iapi.store.raw.FetchDescriptor-boolean-"><code>fetchFromSlot(org.apache.derby.iapi.store.raw.RecordHandle, int, java.lang.Object[], org.apache.derby.iapi.store.raw.FetchDescriptor, boolean)</code></a>, 
<a href="../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw"><code>LockingPolicy</code></a></dd>
</dl>
</li>
</ul>
<a name="isDeletedAtSlot-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isDeletedAtSlot</h4>
<pre>boolean&nbsp;isDeletedAtSlot(int&nbsp;slot)
                 throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Test if a record is deleted.
 <p>

 <P>
 <B>Locking Policy</B>
 <BR>
 No locks are obtained.

 <BR>
 It is guaranteed that the page latch is not released by this method</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - slot of record to be tested.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy, a 
                              statement level exception is thrown if the 
                              slot is not on the page.</dd>
</dl>
</li>
</ul>
<a name="updateFieldAtSlot-int-int-java.lang.Object-org.apache.derby.iapi.store.access.conglomerate.LogicalUndo-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateFieldAtSlot</h4>
<pre><a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;updateFieldAtSlot(int&nbsp;slot,
                               int&nbsp;fieldId,
                               java.lang.Object&nbsp;newValue,
                               <a href="../../../../../../org/apache/derby/iapi/store/access/conglomerate/LogicalUndo.html" title="interface in org.apache.derby.iapi.store.access.conglomerate">LogicalUndo</a>&nbsp;undo)
                        throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Update a field within the record, replacing its current value with
                the stored representation of newValue. Record is identified by slot.
                If the field does not exist then it is added to the record, but only if
                (fieldId - 1) exists.

                <BR><B>RESOLVE</B> right now it throws an exception if fieldId is not 
                already on the record, not add the next one as advertised.

                <P>
                <B>Locking Policy</B>
                <P>
                Calls the lockRecordForWrite() method of the LockingPolicy object
                passed to the openContainer() call before the record is updated.

                <BR>
                It is guaranteed that the page latch is not released by this method</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - is the slot number</dd>
<dd><code>fieldId</code> - is the column id</dd>
<dd><code>newValue</code> - has the new colum value to be stored in the record</dd>
<dd><code>undo</code> - if logical undo may be necessary, a function pointer to the
                access code where the logical undo logic resides. Null if logical undo
                is not necessary.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a Handle to the updated record.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy, a
                                        statement level exception is thrown if
                                                the slot is not on the page, or if the 
                                        record is deleted, or if the fieldId 
                                        is not on the record and (fieldId - 1)
                                        does not exist, or if the container was
                                        not opened in update mode.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw"><code>LockingPolicy</code></a>, 
<a href="../../../../../../org/apache/derby/iapi/store/access/conglomerate/LogicalUndo.html" title="interface in org.apache.derby.iapi.store.access.conglomerate"><code>LogicalUndo</code></a>, 
<a href="../../../../../../org/apache/derby/iapi/store/raw/LogicalUndoable.html" title="interface in org.apache.derby.iapi.store.raw"><code>LogicalUndoable</code></a></dd>
</dl>
</li>
</ul>
<a name="fetchNumFieldsAtSlot-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchNumFieldsAtSlot</h4>
<pre>int&nbsp;fetchNumFieldsAtSlot(int&nbsp;slot)
                  throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Fetch the number of fields in a record.
 <p>

 <P>
 <B>Locking Policy</B>
 <P>
 No locks are obtained.

 <BR>
 It is guaranteed that the page latch is not released by this method</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - is the slot number</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of fields in the record</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="deleteAtSlot-int-boolean-org.apache.derby.iapi.store.access.conglomerate.LogicalUndo-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteAtSlot</h4>
<pre><a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;deleteAtSlot(int&nbsp;slot,
                          boolean&nbsp;delete,
                          <a href="../../../../../../org/apache/derby/iapi/store/access/conglomerate/LogicalUndo.html" title="interface in org.apache.derby.iapi.store.access.conglomerate">LogicalUndo</a>&nbsp;undo)
                   throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Mark the record at slot as deleted or undeleted according to delete flag.
 <p>

 <P>
 <B>Locking Policy</B>
 <P>
 Calls the lockRecordForWrite() method of the LockingPolicy object passed
 to the openContainer() call before the record is deleted.  If record 
 already deleted, and an attempt is made to delete it, an exception is 
 thrown.  If record not deleted, and an attempt is made to undelete it, 
 an exception is thrown.

 <BR>
 MT - latched</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - is the slot number</dd>
<dd><code>delete</code> - true if this record is to be deleted false if this 
                  deleted record is to be marked undeleted</dd>
<dd><code>undo</code> - if logical undo may be necessary, a function pointer to
                  the access code where the logical undo logic resides.
                  Null if logical undo is not necessary.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a Handle to the deleted/undeleted record.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - if the container was not opened in update
 mode, or if an attempt was made to delete an already deleted record or
 undelete a not deleted record, or if the slot is not on the page</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw"><code>LockingPolicy</code></a>, 
<a href="../../../../../../org/apache/derby/iapi/store/access/conglomerate/LogicalUndo.html" title="interface in org.apache.derby.iapi.store.access.conglomerate"><code>LogicalUndo</code></a>, 
<a href="../../../../../../org/apache/derby/iapi/store/raw/LogicalUndoable.html" title="interface in org.apache.derby.iapi.store.raw"><code>LogicalUndoable</code></a></dd>
</dl>
</li>
</ul>
<a name="purgeAtSlot-int-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>purgeAtSlot</h4>
<pre>void&nbsp;purgeAtSlot(int&nbsp;slot,
                 int&nbsp;numpurges,
                 boolean&nbsp;needDataLogged)
          throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Purge the row(s) from page.
 <p>
 Purge the row(s) from page, get rid of the row(s) and slot(s) - 
 <B>USE WITH CAUTION</B>, 
 please see entire description of this operation before attempting to 
 use this.

 Starting from the specified slot, n rows will be purged. That is, rows 
 that occupies from slot to slot+n-1 will be purged from the page.

 <P>
 <B>Locking Policy</B>
 <P>
 Calls the lockRecordForWrite() method of the LockingPolicy object passed
 to the openContainer() call before the records are purged.
 <P>

 <B>NOTE : CAVEAT</B><BR>
 This operation will physically get rid of the row from the page, so if a
 subsequent operation on this page uses a slot that has been purged, then
 the undo of this operation will fail.  It is only safe to use this 
 operation if the caller knows that it has exclusive access to the page 
 for the duration of the transaction, i.e, effectively holding a page 
 lock on the page
 <P>
 <B>NOTE</B><BR>
 Outstanding handles to purged rows are no longer valid, accessing them 
 will cause an exception to be thrown.

 <BR>
<B>NOTE : Data Logging for Purges</B><BR>
 needDataLogged is used to specify whether data is required to be
 logged for purge operatios. Data Logging is required 
 Only if the row can be reused or required for key search if a purge is
 rolled back;(rollback can occur if the system crashes in the middle of
 purges or some unexpected error condiditions  rolled back.
 For example: 
 1)Btree expects the data to be there if a purge is rolled back;
   needDataLogged=true
 2)Heaps does not care if data exist because only operation that can occur
 on a row whose purge rolled back is purging again.(needDataLogged=false)
 
 MT - latched</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - the starting slot number</dd>
<dd><code>numpurges</code> - number of slots to purge.  If &lt;= 0, 
                          just returns as a no-op.</dd>
<dd><code>needDataLogged</code> - if set to true data is logged for purges else 
                          only headers.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw"><code>LockingPolicy</code></a></dd>
</dl>
</li>
</ul>
<a name="copyAndPurge-org.apache.derby.iapi.store.raw.Page-int-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>copyAndPurge</h4>
<pre>void&nbsp;copyAndPurge(<a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw">Page</a>&nbsp;destPage,
                  int&nbsp;src_slot,
                  int&nbsp;num_rows,
                  int&nbsp;dest_slot)
           throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">move rows from one page to another, purging in the process.
 <p>

 Move from this page slot[src_slot] to slot[src_slot+num_rows-1] to 
 destPage slot[dest_slot] to slot[dest_slot + num_rows - 1], in that 
 order. Both this page and destPage must be latched and from the same 
 container with the same page and record format.

 <BR>Slot[src_slot] to slot[src_slot+numrows-1] will be purged from this 
 page.  RecordId on the dest page will be brand new and not in any 
 particular order or range.  RecordId of the purged rows in this page is 
 never reused.  Deleted and undeleted rows are copied over just the same.

 Exception will be thrown if this page does not have all the rows in the 
 moved over range.  

 <BR><B>RESOLVE: reserve space now not copied over because in btree, a
 row never shrinks.  When this routine is called by heap or by some page
 which will have shrunken row, then we need to add that </B>

 <BR>DestPage must have at least dest_slot row occupying slot[0] to
 slot[dest_slot-1].  DestPage must have enough space to take the copied
 over data.  Rows that occupied slot number &gt; dest_slot will be moved up
 the slot (I.e., slot[dest_slot] -&gt; slot[dest_slot + num_rows]).  

 <BR>If this operation rolls back, this page (the src page) will get the
 rows back and the dest page will purge the rows that were copied - this
 is as if the rows were inserted into the dest page with 
 INSERT_UNDO_WITH_PURGE.

 <P>
 <B>Locking Policy</B>
 <P>
 Calls the lockRecordForWrite() method of the LockingPolicy object
 passed to the openContainer() call before the rows are copied over and 
 bore the records are purged.  I.e, for num_rows moved, there will be
 2*num_rows calls to lockRecordForWrite.
 <P>

 <P><B>Use with caution</B>
 <BR>As with a normal purge, no space is reserved on this page for 
 rollback of the purge, so you must commit before inserting any rows 
 onto this page - unless those inserts are INSERT_UNDO_WITH_PURGE.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>destPage</code> - the page to copy to</dd>
<dd><code>src_slot</code> - start copying from this slot</dd>
<dd><code>num_rows</code> - copy and purge this many rows from this page</dd>
<dd><code>dest_slot</code> - copying into this slot of destPage</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="updateAtSlot-int-java.lang.Object:A-org.apache.derby.iapi.services.io.FormatableBitSet-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateAtSlot</h4>
<pre><a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;updateAtSlot(int&nbsp;slot,
                          java.lang.Object[]&nbsp;row,
                          <a href="../../../../../../org/apache/derby/iapi/services/io/FormatableBitSet.html" title="class in org.apache.derby.iapi.services.io">FormatableBitSet</a>&nbsp;validColumns)
                   throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Update the complete record identified by the slot.

                <P>
                <B>Locking Policy</B>
                <P>
                Calls the lockRecordForWrite() method of the LockingPolicy object
                passed to the openContainer() call before the record is undeleted.
                If record already deleted, an exception is thrown.

                <BR>
                It is guaranteed that the page latch is not released by this method</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - is the slot number</dd>
<dd><code>validColumns</code> - a bit map of which columns in the row is valid.
                ValidColumns will not be changed by RawStore.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a Handle to the updated record.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - the container was not opened in update
                                     mode, or the slot is not on the page</dd>
</dl>
</li>
</ul>
<a name="unlatch--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlatch</h4>
<pre>void&nbsp;unlatch()</pre>
<div class="block">Unlatch me, the page is exclusivly latched by its current user until
                this method call is made.
                <BR>
                After using this method the caller must throw away the
                reference to the Page object, e.g.
                <PRE>
                        ref.unlatch();
                        ref = null;
                </PRE>
                <BR>
                The page will be released automatically at the close of the
                container if this method is not called explictly.

                <BR>
                MT - latched</div>
</li>
</ul>
<a name="recordCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recordCount</h4>
<pre>int&nbsp;recordCount()
         throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Return the number of records on the page. The returned count includes rows that are deleted,
                i.e. it is the same as the number of slots on the page.

                <BR>
                MT - latched</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="nonDeletedRecordCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nonDeletedRecordCount</h4>
<pre>int&nbsp;nonDeletedRecordCount()
                   throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Return the number of records on this page that are <B> not </B> marked as deleted.
                
                 <BR>
                MT - latched</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="shouldReclaimSpace-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shouldReclaimSpace</h4>
<pre>boolean&nbsp;shouldReclaimSpace(int&nbsp;num_non_deleted_rows,
                           int&nbsp;slot_just_deleted)
                    throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Is this page/deleted row a candidate for immediate reclaim space.
 <p>
 Used by access methods after executing a delete on "slot_just_deleted"
 to ask whether a post commit should be queued to try to reclaim space
 after the delete commits.  
 <p>
 Will return true if the number of non-deleted rows on the page is
 &lt;= "num_non_deleted_rows".  For instance 0 means schedule reclaim
 only if all rows are deleted, 1 if all rows but one are deleted.  
 <p>
 Will return true if the row just deleted is either a long row or long
 column.  In this case doing a reclaim space on the single row may
 reclaim multiple pages of free space, so better to do it now rather
 than wait for all rows on page to be deleted.  This case is to address
 the worst case scenario of all rows with long columns, but very short
 rows otherwise.  In this case there could be 1000's of rows on the 
 main page with many gigabytes of data on overflow pages in deleted space
 that would not be reclaimed until all rows on the page were deleted.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>num_non_deleted_rows</code> - threshold number of non-deleted rows to
                             schedule reclaim space.</dd>
<dd><code>slot_just_deleted</code> - row on page to check for long row/long column</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if a reclaim space should be scheduled post commit on this
         page, false otherwise.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="setAuxObject-org.apache.derby.iapi.store.raw.AuxObject-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAuxObject</h4>
<pre>void&nbsp;setAuxObject(<a href="../../../../../../org/apache/derby/iapi/store/raw/AuxObject.html" title="interface in org.apache.derby.iapi.store.raw">AuxObject</a>&nbsp;aux)</pre>
<div class="block">Set the aux object for this page.
          To clear the auxObject in the page, pass in a null AuxObject.
          If the AuxObject has already been set, this method will
          call auxObjectInvalidated() on the old aux objkect and replace it with aux.

                <BR>
                MT - latched</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/store/raw/AuxObject.html" title="interface in org.apache.derby.iapi.store.raw"><code>AuxObject</code></a></dd>
</dl>
</li>
</ul>
<a name="getAuxObject--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAuxObject</h4>
<pre><a href="../../../../../../org/apache/derby/iapi/store/raw/AuxObject.html" title="interface in org.apache.derby.iapi.store.raw">AuxObject</a>&nbsp;getAuxObject()</pre>
<div class="block">Retrieve this page's aux object, returning null if there isn't one. The reference returned
          must only be used while the page is latched, once unlatch is called the reference to the
          aux object must be discarded.

                <BR> MT - latched</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/store/raw/AuxObject.html" title="interface in org.apache.derby.iapi.store.raw"><code>AuxObject</code></a></dd>
</dl>
</li>
</ul>
<a name="setRepositionNeeded--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRepositionNeeded</h4>
<pre>void&nbsp;setRepositionNeeded()</pre>
<div class="block">Set a hint in the page object to indicate that scans positioned on it
 need to reposition. Only called on B-tree pages.</div>
</li>
</ul>
<a name="isRepositionNeeded-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRepositionNeeded</h4>
<pre>boolean&nbsp;isRepositionNeeded(long&nbsp;version)</pre>
<div class="block">Check if this page has been changed in such a way that scans that are
 positioned on it will have to reposition. Only called on B-tree pages.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>version</code> - the version number of the page when the scan positioned
 on it (after which version the page should not have changed in a way
 that requires repositioning)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if a scan that was positioned on the page at page
 version <code>version</code> needs to reposition; <code>false</code> otherwise</dd>
</dl>
</li>
</ul>
<a name="getPageVersion--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPageVersion</h4>
<pre>long&nbsp;getPageVersion()</pre>
<div class="block">Get the current version number of the page.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>page version number</dd>
</dl>
</li>
</ul>
<a name="setTimeStamp-org.apache.derby.iapi.store.raw.PageTimeStamp-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTimeStamp</h4>
<pre>void&nbsp;setTimeStamp(<a href="../../../../../../org/apache/derby/iapi/store/raw/PageTimeStamp.html" title="interface in org.apache.derby.iapi.store.raw">PageTimeStamp</a>&nbsp;ts)
           throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Set the time stamp to what is on page at this instance.  No op if this
                page does not support time stamp.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy.</dd>
</dl>
</li>
</ul>
<a name="currentTimeStamp--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>currentTimeStamp</h4>
<pre><a href="../../../../../../org/apache/derby/iapi/store/raw/PageTimeStamp.html" title="interface in org.apache.derby.iapi.store.raw">PageTimeStamp</a>&nbsp;currentTimeStamp()</pre>
<div class="block">Return a time stamp that can be used to identify the page of this
                specific instance.  For pages that don't support timestamp, returns
                null.</div>
</li>
</ul>
<a name="equalTimeStamp-org.apache.derby.iapi.store.raw.PageTimeStamp-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>equalTimeStamp</h4>
<pre>boolean&nbsp;equalTimeStamp(<a href="../../../../../../org/apache/derby/iapi/store/raw/PageTimeStamp.html" title="interface in org.apache.derby.iapi.store.raw">PageTimeStamp</a>&nbsp;ts)
                throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">See if timeStamp for this page is the same as the current
                instance of the page.  Null timeStamp never equals the instance of the
                page.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ts</code> - the time stamp gotten from an earlier call to this page's
                getTimeStamp</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if timestamp is the same</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/store/raw/PageTimeStamp.html" title="interface in org.apache.derby.iapi.store.raw"><code>PageTimeStamp</code></a></dd>
</dl>
</li>
</ul>
<a name="isLatched--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isLatched</h4>
<pre>boolean&nbsp;isLatched()</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Built on Mon 2017-07-03 23:03:59+0530, from revision Unversioned directory</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/derby/iapi/store/raw/LogicalUndoable.html" title="interface in org.apache.derby.iapi.store.raw"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/apache/derby/iapi/store/raw/PageKey.html" title="class in org.apache.derby.iapi.store.raw"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/derby/iapi/store/raw/Page.html" target="_top">Frames</a></li>
<li><a href="Page.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Apache Derby V10.13 Internals - <i>Copyright &copy; 2004,2016 The Apache Software Foundation. All Rights Reserved.</i></small></p>
</body>
</html>
