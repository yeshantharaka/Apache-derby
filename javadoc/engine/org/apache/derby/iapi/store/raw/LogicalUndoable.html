<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_66) on Mon Jul 03 23:05:09 IST 2017 -->
<title>LogicalUndoable (Apache Derby V10.13 Internals)</title>
<meta name="date" content="2017-07-03">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="LogicalUndoable (Apache Derby V10.13 Internals)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/derby/iapi/store/raw/Loggable.html" title="interface in org.apache.derby.iapi.store.raw"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/derby/iapi/store/raw/LogicalUndoable.html" target="_top">Frames</a></li>
<li><a href="LogicalUndoable.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.derby.iapi.store.raw</div>
<h2 title="Interface LogicalUndoable" class="title">Interface LogicalUndoable</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd>java.io.Externalizable, <a href="../../../../../../org/apache/derby/iapi/services/io/Formatable.html" title="interface in org.apache.derby.iapi.services.io">Formatable</a>, <a href="../../../../../../org/apache/derby/iapi/store/raw/Loggable.html" title="interface in org.apache.derby.iapi.store.raw">Loggable</a>, java.io.Serializable, <a href="../../../../../../org/apache/derby/iapi/services/io/TypedFormat.html" title="interface in org.apache.derby.iapi.services.io">TypedFormat</a>, <a href="../../../../../../org/apache/derby/iapi/store/raw/Undoable.html" title="interface in org.apache.derby.iapi.store.raw">Undoable</a></dd>
</dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../../../org/apache/derby/impl/store/raw/data/DeleteOperation.html" title="class in org.apache.derby.impl.store.raw.data">DeleteOperation</a>, <a href="../../../../../../org/apache/derby/impl/store/raw/data/InsertOperation.html" title="class in org.apache.derby.impl.store.raw.data">InsertOperation</a>, <a href="../../../../../../org/apache/derby/impl/store/raw/data/LogicalPageOperation.html" title="class in org.apache.derby.impl.store.raw.data">LogicalPageOperation</a>, <a href="../../../../../../org/apache/derby/impl/store/raw/data/UpdateFieldOperation.html" title="class in org.apache.derby.impl.store.raw.data">UpdateFieldOperation</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">LogicalUndoable</span>
extends <a href="../../../../../../org/apache/derby/iapi/store/raw/Undoable.html" title="interface in org.apache.derby.iapi.store.raw">Undoable</a></pre>
<div class="block">A LogicalUndoable is a log operation that operates on the content of a page
        and the log operation needs logical undo.  This interface is used by
        LogicalUndo to extract information out of the log record, and to pass back
        to the logging system the real location where the roll back should happen.
        <P>
        It has specific page information such as its segment Id, container Id, page
        number, and it knows how to restore a storable row from the information
        stored in the log record.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/store/access/conglomerate/LogicalUndo.html" title="interface in org.apache.derby.iapi.store.access.conglomerate"><code>LogicalUndo</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.apache.derby.iapi.store.raw.Loggable">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;org.apache.derby.iapi.store.raw.<a href="../../../../../../org/apache/derby/iapi/store/raw/Loggable.html" title="interface in org.apache.derby.iapi.store.raw">Loggable</a></h3>
<code><a href="../../../../../../org/apache/derby/iapi/store/raw/Loggable.html#ABORT">ABORT</a>, <a href="../../../../../../org/apache/derby/iapi/store/raw/Loggable.html#BI_LOG">BI_LOG</a>, <a href="../../../../../../org/apache/derby/iapi/store/raw/Loggable.html#CHECKSUM">CHECKSUM</a>, <a href="../../../../../../org/apache/derby/iapi/store/raw/Loggable.html#COMMIT">COMMIT</a>, <a href="../../../../../../org/apache/derby/iapi/store/raw/Loggable.html#COMPENSATION">COMPENSATION</a>, <a href="../../../../../../org/apache/derby/iapi/store/raw/Loggable.html#FILE_RESOURCE">FILE_RESOURCE</a>, <a href="../../../../../../org/apache/derby/iapi/store/raw/Loggable.html#FIRST">FIRST</a>, <a href="../../../../../../org/apache/derby/iapi/store/raw/Loggable.html#LAST">LAST</a>, <a href="../../../../../../org/apache/derby/iapi/store/raw/Loggable.html#PREPARE">PREPARE</a>, <a href="../../../../../../org/apache/derby/iapi/store/raw/Loggable.html#RAWSTORE">RAWSTORE</a>, <a href="../../../../../../org/apache/derby/iapi/store/raw/Loggable.html#XA_NEEDLOCK">XA_NEEDLOCK</a></code></li>
</ul>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/store/raw/ContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw">ContainerHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/LogicalUndoable.html#getContainer--">getContainer</a></span>()</code>
<div class="block">Return the containerHandle used by this log operation.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/LogicalUndoable.html#getRecordHandle--">getRecordHandle</a></span>()</code>
<div class="block">Return the recordHandle stored in the log operation that correspond to
                the record that was changed in the rollforward.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/LogicalUndoable.html#resetRecordHandle-org.apache.derby.iapi.store.raw.RecordHandle-">resetRecordHandle</a></span>(<a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;rh)</code>
<div class="block">If the row has moved, reset the record handle that the undo should be applied on.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/LogicalUndoable.html#restoreLoggedRow-java.lang.Object:A-org.apache.derby.iapi.services.io.LimitObjectInput-">restoreLoggedRow</a></span>(java.lang.Object[]&nbsp;row,
                <a href="../../../../../../org/apache/derby/iapi/services/io/LimitObjectInput.html" title="interface in org.apache.derby.iapi.services.io">LimitObjectInput</a>&nbsp;in)</code>
<div class="block">Restore the row stored in the log operation.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.derby.iapi.store.raw.Undoable">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.apache.derby.iapi.store.raw.<a href="../../../../../../org/apache/derby/iapi/store/raw/Undoable.html" title="interface in org.apache.derby.iapi.store.raw">Undoable</a></h3>
<code><a href="../../../../../../org/apache/derby/iapi/store/raw/Undoable.html#generateUndo-org.apache.derby.iapi.store.raw.Transaction-org.apache.derby.iapi.services.io.LimitObjectInput-">generateUndo</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.derby.iapi.store.raw.Loggable">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.apache.derby.iapi.store.raw.<a href="../../../../../../org/apache/derby/iapi/store/raw/Loggable.html" title="interface in org.apache.derby.iapi.store.raw">Loggable</a></h3>
<code><a href="../../../../../../org/apache/derby/iapi/store/raw/Loggable.html#doMe-org.apache.derby.iapi.store.raw.Transaction-org.apache.derby.iapi.store.raw.log.LogInstant-org.apache.derby.iapi.services.io.LimitObjectInput-">doMe</a>, <a href="../../../../../../org/apache/derby/iapi/store/raw/Loggable.html#getPreparedLog--">getPreparedLog</a>, <a href="../../../../../../org/apache/derby/iapi/store/raw/Loggable.html#group--">group</a>, <a href="../../../../../../org/apache/derby/iapi/store/raw/Loggable.html#needsRedo-org.apache.derby.iapi.store.raw.Transaction-">needsRedo</a>, <a href="../../../../../../org/apache/derby/iapi/store/raw/Loggable.html#releaseResource-org.apache.derby.iapi.store.raw.Transaction-">releaseResource</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.io.Externalizable">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;java.io.Externalizable</h3>
<code>readExternal, writeExternal</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.derby.iapi.services.io.TypedFormat">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.apache.derby.iapi.services.io.<a href="../../../../../../org/apache/derby/iapi/services/io/TypedFormat.html" title="interface in org.apache.derby.iapi.services.io">TypedFormat</a></h3>
<code><a href="../../../../../../org/apache/derby/iapi/services/io/TypedFormat.html#getTypeFormatId--">getTypeFormatId</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getContainer--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getContainer</h4>
<pre><a href="../../../../../../org/apache/derby/iapi/store/raw/ContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw">ContainerHandle</a>&nbsp;getContainer()
                      throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Return the containerHandle used by this log operation.  Logical cannot
                change container identity between roll forward and roll back.  This
                method should only be called by LogicalUndo to extract information from
                the log record.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="getRecordHandle--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRecordHandle</h4>
<pre><a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;getRecordHandle()</pre>
<div class="block">Return the recordHandle stored in the log operation that correspond to
                the record that was changed in the rollforward.  This method should
                only be called by LogicalUndo to extract information from the log
                record.</div>
</li>
</ul>
<a name="restoreLoggedRow-java.lang.Object:A-org.apache.derby.iapi.services.io.LimitObjectInput-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>restoreLoggedRow</h4>
<pre>void&nbsp;restoreLoggedRow(java.lang.Object[]&nbsp;row,
                      <a href="../../../../../../org/apache/derby/iapi/services/io/LimitObjectInput.html" title="interface in org.apache.derby.iapi.services.io">LimitObjectInput</a>&nbsp;in)
               throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a>,
                      java.io.IOException</pre>
<div class="block">Restore the row stored in the log operation.   This method should only
                be called by LogicalUndo to extract information from the log record.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>row</code> - an IN/OUT parameter, caller passed in the row with
                the correct column number and type, the log operation will restore the
                row with the optional data stored in the log record.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
<dd><code>java.io.IOException</code> - Method may read from in</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/store/access/conglomerate/LogicalUndo.html" title="interface in org.apache.derby.iapi.store.access.conglomerate"><code>LogicalUndo</code></a></dd>
</dl>
</li>
</ul>
<a name="resetRecordHandle-org.apache.derby.iapi.store.raw.RecordHandle-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>resetRecordHandle</h4>
<pre>void&nbsp;resetRecordHandle(<a href="../../../../../../org/apache/derby/iapi/store/raw/RecordHandle.html" title="interface in org.apache.derby.iapi.store.raw">RecordHandle</a>&nbsp;rh)</pre>
<div class="block">If the row has moved, reset the record handle that the undo should be applied on.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rh</code> - the RecordHandle that represents the row's new location</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Built on Mon 2017-07-03 23:03:59+0530, from revision Unversioned directory</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/derby/iapi/store/raw/Loggable.html" title="interface in org.apache.derby.iapi.store.raw"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/apache/derby/iapi/store/raw/Page.html" title="interface in org.apache.derby.iapi.store.raw"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/derby/iapi/store/raw/LogicalUndoable.html" target="_top">Frames</a></li>
<li><a href="LogicalUndoable.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Apache Derby V10.13 Internals - <i>Copyright &copy; 2004,2016 The Apache Software Foundation. All Rights Reserved.</i></small></p>
</body>
</html>
