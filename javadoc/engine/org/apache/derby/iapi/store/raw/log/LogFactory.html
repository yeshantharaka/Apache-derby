<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_66) on Mon Jul 03 23:04:41 IST 2017 -->
<title>LogFactory (Apache Derby V10.13 Internals)</title>
<meta name="date" content="2017-07-03">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="LogFactory (Apache Derby V10.13 Internals)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6,"i10":6,"i11":6,"i12":6,"i13":6,"i14":6,"i15":6,"i16":6,"i17":6,"i18":6,"i19":6,"i20":6,"i21":6,"i22":6,"i23":6,"i24":6,"i25":6,"i26":6,"i27":6,"i28":6,"i29":6,"i30":6,"i31":6,"i32":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/Logger.html" title="interface in org.apache.derby.iapi.store.raw.log"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/derby/iapi/store/raw/log/LogFactory.html" target="_top">Frames</a></li>
<li><a href="LogFactory.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.derby.iapi.store.raw.log</div>
<h2 title="Interface LogFactory" class="title">Interface LogFactory</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Corruptable.html" title="interface in org.apache.derby.iapi.store.raw">Corruptable</a></dd>
</dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../../../../org/apache/derby/impl/store/raw/log/LogToFile.html" title="class in org.apache.derby.impl.store.raw.log">LogToFile</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/log/ReadOnly.html" title="class in org.apache.derby.impl.store.raw.log">ReadOnly</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">LogFactory</span>
extends <a href="../../../../../../../org/apache/derby/iapi/store/raw/Corruptable.html" title="interface in org.apache.derby.iapi.store.raw">Corruptable</a></pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html#LOG_DIRECTORY_NAME">LOG_DIRECTORY_NAME</a></span></code>
<div class="block">The name of the default log directory.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html#MODULE">MODULE</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html#RT_READONLY">RT_READONLY</a></span></code>
<div class="block">An attribute that indicates the database is readonly</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html#RUNTIME_ATTRIBUTES">RUNTIME_ATTRIBUTES</a></span></code>
<div class="block">The name of a runtime property in the service set that defines any runtime
                attributes a log factory should have.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html#abortLogBackup--">abortLogBackup</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html#checkpoint-org.apache.derby.iapi.store.raw.RawStoreFactory-org.apache.derby.iapi.store.raw.data.DataFactory-org.apache.derby.iapi.store.raw.xact.TransactionFactory-boolean-">checkpoint</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/RawStoreFactory.html" title="interface in org.apache.derby.iapi.store.raw">RawStoreFactory</a>&nbsp;rawStoreFactory,
          <a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a>&nbsp;dataFactory,
          <a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/TransactionFactory.html" title="interface in org.apache.derby.iapi.store.raw.xact">TransactionFactory</a>&nbsp;transactionFactory,
          boolean&nbsp;wait)</code>
<div class="block">Checkpoint the rawstore.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html#checkpointInRFR-org.apache.derby.iapi.store.raw.log.LogInstant-long-long-org.apache.derby.iapi.store.raw.data.DataFactory-">checkpointInRFR</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;cinstant,
               long&nbsp;redoLWM,
               long&nbsp;undoLWM,
               <a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a>&nbsp;df)</code>
<div class="block">redoing a checkpoint  during rollforward recovery</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html#checkVersion-int-int-java.lang.String-">checkVersion</a></span>(int&nbsp;requiredMajorVersion,
            int&nbsp;requiredMinorVersion,
            java.lang.String&nbsp;feature)</code>
<div class="block">Check to see if a database has been upgraded to the required
  level in order to use a store feature.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html#createDataWarningFile--">createDataWarningFile</a></span>()</code>
<div class="block">Create readme file in log directory warning users against touching
  any files in the directory</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html#deleteLogFileAfterCheckpointLogFile--">deleteLogFileAfterCheckpointLogFile</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html#deleteOnlineArchivedLogFiles--">deleteOnlineArchivedLogFiles</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html#disableLogArchiveMode--">disableLogArchiveMode</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html#enableLogArchiveMode--">enableLogArchiveMode</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html#endLogBackup-java.io.File-">endLogBackup</a></span>(java.io.File&nbsp;toDir)</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html#flush-org.apache.derby.iapi.store.raw.log.LogInstant-">flush</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;where)</code>
<div class="block">Flush all unwritten log record up to the log instance indicated to disk.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html#freezePersistentStore--">freezePersistentStore</a></span>()</code>
<div class="block">Stop making any change to the persistent store</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html#getCanonicalLogPath--">getCanonicalLogPath</a></span>()</code>
<div class="block">Return the canonical directory of the PARENT of the log directory.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html#getFirstUnflushedInstant--">getFirstUnflushedInstant</a></span>()</code>
<div class="block">Get the instant for the last record in the log.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html#getFirstUnflushedInstantAsLong--">getFirstUnflushedInstantAsLong</a></span>()</code>
<div class="block">Get the log instant long value of the first log record that has not 
 been flushed.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/io/StorageFile.html" title="interface in org.apache.derby.io">StorageFile</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html#getLogDirectory--">getLogDirectory</a></span>()</code>
<div class="block">Return the location of the log directory.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html#getLogFactoryProperties-org.apache.derby.iapi.services.property.PersistentSet-">getLogFactoryProperties</a></span>(<a href="../../../../../../../org/apache/derby/iapi/services/property/PersistentSet.html" title="interface in org.apache.derby.iapi.services.property">PersistentSet</a>&nbsp;set)</code>
<div class="block">Get JBMS properties relevant to the log factory</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/Logger.html" title="interface in org.apache.derby.iapi.store.raw.log">Logger</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html#getLogger--">getLogger</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html#inReplicationMasterMode--">inReplicationMasterMode</a></span>()</code>
<div class="block">Used to determine if the replication master mode has been started,
 and the logging for unlogged operations needs to be enabled.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html#inRFR--">inRFR</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html#isCheckpointInLastLogFile--">isCheckpointInLastLogFile</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html#logArchived--">logArchived</a></span>()</code>
<div class="block">checks whether is log archive mode is enabled or not.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/ScanHandle.html" title="interface in org.apache.derby.iapi.store.raw">ScanHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html#openFlushedScan-org.apache.derby.iapi.store.access.DatabaseInstant-int-">openFlushedScan</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/access/DatabaseInstant.html" title="interface in org.apache.derby.iapi.store.access">DatabaseInstant</a>&nbsp;startAt,
               int&nbsp;groupsIWant)</code>
<div class="block">Get a ScanHandle to scan flushed records from the log.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogScan.html" title="interface in org.apache.derby.iapi.store.raw.log">LogScan</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html#openForwardsFlushedScan-org.apache.derby.iapi.store.raw.log.LogInstant-">openForwardsFlushedScan</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;startAt)</code>
<div class="block">Get a LogScan to scan flushed records from the log.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogScan.html" title="interface in org.apache.derby.iapi.store.raw.log">LogScan</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html#openForwardsScan-org.apache.derby.iapi.store.raw.log.LogInstant-org.apache.derby.iapi.store.raw.log.LogInstant-">openForwardsScan</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;startAt,
                <a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;stopAt)</code>
<div class="block">Get a LogScan to scan the log in a forward direction.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html#recover-org.apache.derby.iapi.store.raw.data.DataFactory-org.apache.derby.iapi.store.raw.xact.TransactionFactory-">recover</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a>&nbsp;dataFactory,
       <a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/TransactionFactory.html" title="interface in org.apache.derby.iapi.store.raw.xact">TransactionFactory</a>&nbsp;transactionFactory)</code>
<div class="block">Recover the database to a consistent state using the log.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html#setDatabaseEncrypted-boolean-boolean-">setDatabaseEncrypted</a></span>(boolean&nbsp;isEncrypted,
                    boolean&nbsp;flushLog)</code>
<div class="block">Sets whether the database is encrypted, all the transaction log has
 to be encrypted, and flush the log if requested.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html#setRawStoreFactory-org.apache.derby.iapi.store.raw.RawStoreFactory-">setRawStoreFactory</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/RawStoreFactory.html" title="interface in org.apache.derby.iapi.store.raw">RawStoreFactory</a>&nbsp;rsf)</code>
<div class="block">Make log factory aware of which raw store factory it belongs to</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html#startLogBackup-java.io.File-">startLogBackup</a></span>(java.io.File&nbsp;toDir)</code>&nbsp;</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html#startNewLogFile--">startNewLogFile</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html#startReplicationMasterRole-org.apache.derby.iapi.store.replication.master.MasterFactory-">startReplicationMasterRole</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/replication/master/MasterFactory.html" title="interface in org.apache.derby.iapi.store.replication.master">MasterFactory</a>&nbsp;masterFactory)</code>
<div class="block">Make this LogFactory pass log records to the MasterFactory
 every time a log record is appended to the log on disk, and
 notify the MasterFactory when a log disk flush has taken place.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html#stopReplicationMasterRole--">stopReplicationMasterRole</a></span>()</code>
<div class="block">Stop this LogFactory from passing log records to the
 MasterFactory and from notifying the MasterFactory when a log
 disk flush has taken place.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html#unfreezePersistentStore--">unfreezePersistentStore</a></span>()</code>
<div class="block">Can start making change to the persistent store again</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.derby.iapi.store.raw.Corruptable">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.apache.derby.iapi.store.raw.<a href="../../../../../../../org/apache/derby/iapi/store/raw/Corruptable.html" title="interface in org.apache.derby.iapi.store.raw">Corruptable</a></h3>
<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Corruptable.html#markCorrupt-org.apache.derby.iapi.error.StandardException-">markCorrupt</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="RUNTIME_ATTRIBUTES">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RUNTIME_ATTRIBUTES</h4>
<pre>static final&nbsp;java.lang.String RUNTIME_ATTRIBUTES</pre>
<div class="block">The name of a runtime property in the service set that defines any runtime
                attributes a log factory should have. It is (or will be) a comma separated list
                of attributes.
                At the moment only one attribute is known and checked for.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.log.LogFactory.RUNTIME_ATTRIBUTES">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="RT_READONLY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RT_READONLY</h4>
<pre>static final&nbsp;java.lang.String RT_READONLY</pre>
<div class="block">An attribute that indicates the database is readonly</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.log.LogFactory.RT_READONLY">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="LOG_DIRECTORY_NAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOG_DIRECTORY_NAME</h4>
<pre>static final&nbsp;java.lang.String LOG_DIRECTORY_NAME</pre>
<div class="block">The name of the default log directory.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.log.LogFactory.LOG_DIRECTORY_NAME">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="MODULE">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MODULE</h4>
<pre>static final&nbsp;java.lang.String MODULE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.log.LogFactory.MODULE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getLogger--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLogger</h4>
<pre><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/Logger.html" title="interface in org.apache.derby.iapi.store.raw.log">Logger</a>&nbsp;getLogger()</pre>
</li>
</ul>
<a name="createDataWarningFile--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createDataWarningFile</h4>
<pre>void&nbsp;createDataWarningFile()
                    throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Create readme file in log directory warning users against touching
  any files in the directory</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="setRawStoreFactory-org.apache.derby.iapi.store.raw.RawStoreFactory-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRawStoreFactory</h4>
<pre>void&nbsp;setRawStoreFactory(<a href="../../../../../../../org/apache/derby/iapi/store/raw/RawStoreFactory.html" title="interface in org.apache.derby.iapi.store.raw">RawStoreFactory</a>&nbsp;rsf)</pre>
<div class="block">Make log factory aware of which raw store factory it belongs to</div>
</li>
</ul>
<a name="recover-org.apache.derby.iapi.store.raw.data.DataFactory-org.apache.derby.iapi.store.raw.xact.TransactionFactory-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recover</h4>
<pre>void&nbsp;recover(<a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a>&nbsp;dataFactory,
             <a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/TransactionFactory.html" title="interface in org.apache.derby.iapi.store.raw.xact">TransactionFactory</a>&nbsp;transactionFactory)
      throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Recover the database to a consistent state using the log. 
                Each implementation of the log factory has its own recovery algorithm,
                please see the implementation for a description of the specific
                recovery algorithm it uses.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dataFactory</code> - - the data factory</dd>
<dd><code>transactionFactory</code> - - the transaction factory</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - - encounter exception while recovering.</dd>
</dl>
</li>
</ul>
<a name="checkpoint-org.apache.derby.iapi.store.raw.RawStoreFactory-org.apache.derby.iapi.store.raw.data.DataFactory-org.apache.derby.iapi.store.raw.xact.TransactionFactory-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkpoint</h4>
<pre>boolean&nbsp;checkpoint(<a href="../../../../../../../org/apache/derby/iapi/store/raw/RawStoreFactory.html" title="interface in org.apache.derby.iapi.store.raw">RawStoreFactory</a>&nbsp;rawStoreFactory,
                   <a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a>&nbsp;dataFactory,
                   <a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/TransactionFactory.html" title="interface in org.apache.derby.iapi.store.raw.xact">TransactionFactory</a>&nbsp;transactionFactory,
                   boolean&nbsp;wait)
            throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Checkpoint the rawstore.

                The frequency of checkpoint is determined by 2 persistent service
                properties,
                RawStore.LOG_SWITCH_INTERVAL and RawStore.CHECKPOINT_INTERVAL.  

                By default, LOG_SWITCH_INTERVAL is every 1M bytes of log record
                written.  User can change this value by setting the property to some
                other values during boot time.   The legal range of LOG_SWITCH_INTERVAL
                is from 100K to 128M.

                By default, CHECKPOINT_INTERVAL equals 10M, but user
                can set it to less if more frequent checkpoint is desired.  The legal
                range of CHECKPOINT_INTERVAL is from 100K to 128M.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rawStoreFactory</code> - - the raw store</dd>
<dd><code>dataFactory</code> - - the data factory</dd>
<dd><code>transactionFactory</code> - - the transaction factory</dd>
<dd><code>wait</code> - - if true waits for any existing checkpoint to complete 
                         and then executes and waits for another checkpoint.
                      if false if another thead is executing a checkpoint 
                      routine will return immediately.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if checkpoint is successful,  Will return false if wait
                is false and the routine finds another thread executing a 
                checkpoint.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - - got exception while doing checkpoint.</dd>
</dl>
</li>
</ul>
<a name="flush-org.apache.derby.iapi.store.raw.log.LogInstant-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flush</h4>
<pre>void&nbsp;flush(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;where)
    throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Flush all unwritten log record up to the log instance indicated to disk.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>where</code> - flush log up to here</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - cannot flush log file due to sync error</dd>
</dl>
</li>
</ul>
<a name="openForwardsFlushedScan-org.apache.derby.iapi.store.raw.log.LogInstant-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openForwardsFlushedScan</h4>
<pre><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogScan.html" title="interface in org.apache.derby.iapi.store.raw.log">LogScan</a>&nbsp;openForwardsFlushedScan(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;startAt)
                         throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Get a LogScan to scan flushed records from the log.

                <P> MT- read only</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>startAt</code> - - the LogInstant where we start our scan. null means
                start at the beginning of the log. This function raises an error
                if startAt is a LogInstant which is not in the log.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the LogScan.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy
            NOTE: This will be removed after the LogSniffer Rewrite.</dd>
</dl>
</li>
</ul>
<a name="openFlushedScan-org.apache.derby.iapi.store.access.DatabaseInstant-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openFlushedScan</h4>
<pre><a href="../../../../../../../org/apache/derby/iapi/store/raw/ScanHandle.html" title="interface in org.apache.derby.iapi.store.raw">ScanHandle</a>&nbsp;openFlushedScan(<a href="../../../../../../../org/apache/derby/iapi/store/access/DatabaseInstant.html" title="interface in org.apache.derby.iapi.store.access">DatabaseInstant</a>&nbsp;startAt,
                           int&nbsp;groupsIWant)
                    throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Get a ScanHandle to scan flushed records from the log.

                <P> MT- read only</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>startAt</code> - - the LogInstant where we start our scan. null means
                start at the beginning of the log. This function raises an error
                if startAt is a LogInstant which is not in the log.</dd>
<dd><code>groupsIWant</code> - - log record groups the scanner wants.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the LogScan.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="openForwardsScan-org.apache.derby.iapi.store.raw.log.LogInstant-org.apache.derby.iapi.store.raw.log.LogInstant-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openForwardsScan</h4>
<pre><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogScan.html" title="interface in org.apache.derby.iapi.store.raw.log">LogScan</a>&nbsp;openForwardsScan(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;startAt,
                         <a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;stopAt)
                  throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Get a LogScan to scan the log in a forward direction.

                <P> MT- read only</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>startAt</code> - - the LogInstant where we start our scan. null means
                start at the beginning of the log. This function raises an error
                if startAt is a LogInstant which is not in the log.</dd>
<dd><code>stopAt</code> - - the LogInstant where we stop our scan. null means
                stop at the end of the log. This function raises an error
                if stopAt is a LogInstant which is not in the log.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the LogScan.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="getFirstUnflushedInstant--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFirstUnflushedInstant</h4>
<pre><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;getFirstUnflushedInstant()</pre>
<div class="block">Get the instant for the last record in the log.</div>
</li>
</ul>
<a name="getFirstUnflushedInstantAsLong--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFirstUnflushedInstantAsLong</h4>
<pre>long&nbsp;getFirstUnflushedInstantAsLong()</pre>
<div class="block">Get the log instant long value of the first log record that has not 
 been flushed. Only works after recover() has finished, or (if in slave 
 replication mode) after calling initializeReplicationSlaveRole.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the log instant long value of the first log record that has not 
 been flushed</dd>
</dl>
</li>
</ul>
<a name="freezePersistentStore--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>freezePersistentStore</h4>
<pre>void&nbsp;freezePersistentStore()
                    throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Stop making any change to the persistent store</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby exception policy.</dd>
</dl>
</li>
</ul>
<a name="unfreezePersistentStore--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unfreezePersistentStore</h4>
<pre>void&nbsp;unfreezePersistentStore()
                      throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Can start making change to the persistent store again</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby exception policy.</dd>
</dl>
</li>
</ul>
<a name="logArchived--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logArchived</h4>
<pre>boolean&nbsp;logArchived()</pre>
<div class="block">checks whether is log archive mode is enabled or not.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the log is being archived.</dd>
</dl>
</li>
</ul>
<a name="inReplicationMasterMode--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inReplicationMasterMode</h4>
<pre>boolean&nbsp;inReplicationMasterMode()</pre>
<div class="block">Used to determine if the replication master mode has been started,
 and the logging for unlogged operations needs to be enabled.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true If the master replication mode is turned on and the 
              unlogged operations need to be logged.
         false If the master replication mode is turned off and the 
               unlogged operations need not be logged.</dd>
</dl>
</li>
</ul>
<a name="getLogFactoryProperties-org.apache.derby.iapi.services.property.PersistentSet-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLogFactoryProperties</h4>
<pre>void&nbsp;getLogFactoryProperties(<a href="../../../../../../../org/apache/derby/iapi/services/property/PersistentSet.html" title="interface in org.apache.derby.iapi.services.property">PersistentSet</a>&nbsp;set)
                      throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Get JBMS properties relevant to the log factory</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby Error Policy</dd>
</dl>
</li>
</ul>
<a name="getLogDirectory--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLogDirectory</h4>
<pre><a href="../../../../../../../org/apache/derby/io/StorageFile.html" title="interface in org.apache.derby.io">StorageFile</a>&nbsp;getLogDirectory()
                     throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Return the location of the log directory.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby Error Policy</dd>
</dl>
</li>
</ul>
<a name="getCanonicalLogPath--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCanonicalLogPath</h4>
<pre>java.lang.String&nbsp;getCanonicalLogPath()</pre>
<div class="block">Return the canonical directory of the PARENT of the log directory.  The
                log directory live in the "log" subdirectory of this path.  If the log
                is at the default location (underneath the database directory), this
                returns null.  Should only be called after the log factory is booted.</div>
</li>
</ul>
<a name="enableLogArchiveMode--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>enableLogArchiveMode</h4>
<pre>void&nbsp;enableLogArchiveMode()
                   throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="disableLogArchiveMode--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>disableLogArchiveMode</h4>
<pre>void&nbsp;disableLogArchiveMode()
                    throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="deleteOnlineArchivedLogFiles--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteOnlineArchivedLogFiles</h4>
<pre>void&nbsp;deleteOnlineArchivedLogFiles()</pre>
</li>
</ul>
<a name="inRFR--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inRFR</h4>
<pre>boolean&nbsp;inRFR()</pre>
</li>
</ul>
<a name="checkpointInRFR-org.apache.derby.iapi.store.raw.log.LogInstant-long-long-org.apache.derby.iapi.store.raw.data.DataFactory-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkpointInRFR</h4>
<pre>void&nbsp;checkpointInRFR(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;cinstant,
                     long&nbsp;redoLWM,
                     long&nbsp;undoLWM,
                     <a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html" title="interface in org.apache.derby.iapi.store.raw.data">DataFactory</a>&nbsp;df)
              throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">redoing a checkpoint  during rollforward recovery</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cinstant</code> - The LogInstant of the checkpoint</dd>
<dd><code>redoLWM</code> - Redo Low Water Mark in the check point record</dd>
<dd><code>undoLWM</code> - Undo Low Water Mark in the checkpoint</dd>
<dd><code>df</code> - - the data factory</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - - encounter exception during checkpoint</dd>
</dl>
</li>
</ul>
<a name="startLogBackup-java.io.File-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startLogBackup</h4>
<pre>void&nbsp;startLogBackup(java.io.File&nbsp;toDir)
             throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="endLogBackup-java.io.File-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>endLogBackup</h4>
<pre>void&nbsp;endLogBackup(java.io.File&nbsp;toDir)
           throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="abortLogBackup--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>abortLogBackup</h4>
<pre>void&nbsp;abortLogBackup()</pre>
</li>
</ul>
<a name="setDatabaseEncrypted-boolean-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDatabaseEncrypted</h4>
<pre>void&nbsp;setDatabaseEncrypted(boolean&nbsp;isEncrypted,
                          boolean&nbsp;flushLog)
                   throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Sets whether the database is encrypted, all the transaction log has
 to be encrypted, and flush the log if requested.
 <p>
 Log needs to be flushed first if the cryptographic state of the database
 changes (for instance re-encryption with a new key).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>isEncrypted</code> - <code>true</code> if the database is encrypted,
      <code>false</code> if not</dd>
<dd><code>flushLog</code> - <code>true</code> if log needs to be flushed,
      <code>false</code> otherwise</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="startNewLogFile--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startNewLogFile</h4>
<pre>void&nbsp;startNewLogFile()
              throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="isCheckpointInLastLogFile--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isCheckpointInLastLogFile</h4>
<pre>boolean&nbsp;isCheckpointInLastLogFile()
                           throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="deleteLogFileAfterCheckpointLogFile--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteLogFileAfterCheckpointLogFile</h4>
<pre>void&nbsp;deleteLogFileAfterCheckpointLogFile()
                                  throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="checkVersion-int-int-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkVersion</h4>
<pre>boolean&nbsp;checkVersion(int&nbsp;requiredMajorVersion,
                     int&nbsp;requiredMinorVersion,
                     java.lang.String&nbsp;feature)
              throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Check to see if a database has been upgraded to the required
  level in order to use a store feature.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>requiredMajorVersion</code> - required database Engine major version</dd>
<dd><code>requiredMinorVersion</code> - required database Engine minor version</dd>
<dd><code>feature</code> - Non-null to throw an exception, null to return the 
                state of the version match.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code> true </code> if the database has been upgraded to 
         the required level, <code> false </code> otherwise.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - if the database is not at the require version 
             when <code>feature</code> feature is 
             not <code> null </code>.</dd>
</dl>
</li>
</ul>
<a name="startReplicationMasterRole-org.apache.derby.iapi.store.replication.master.MasterFactory-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startReplicationMasterRole</h4>
<pre>void&nbsp;startReplicationMasterRole(<a href="../../../../../../../org/apache/derby/iapi/store/replication/master/MasterFactory.html" title="interface in org.apache.derby.iapi.store.replication.master">MasterFactory</a>&nbsp;masterFactory)
                         throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Make this LogFactory pass log records to the MasterFactory
 every time a log record is appended to the log on disk, and
 notify the MasterFactory when a log disk flush has taken place.
 Not implemented by ReadOnly.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>masterFactory</code> - The MasterFactory service responsible for
 controlling the master side replication behaviour.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby exception policy,
 thrown on replication startup error. Will only be thrown if
 replication is attempted started on a readonly database.</dd>
</dl>
</li>
</ul>
<a name="stopReplicationMasterRole--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>stopReplicationMasterRole</h4>
<pre>void&nbsp;stopReplicationMasterRole()</pre>
<div class="block">Stop this LogFactory from passing log records to the
 MasterFactory and from notifying the MasterFactory when a log
 disk flush has taken place. Not implemented by ReadOnly.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Built on Mon 2017-07-03 23:03:59+0530, from revision Unversioned directory</div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../../../org/apache/derby/iapi/store/raw/log/Logger.html" title="interface in org.apache.derby.iapi.store.raw.log"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/derby/iapi/store/raw/log/LogFactory.html" target="_top">Frames</a></li>
<li><a href="LogFactory.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Apache Derby V10.13 Internals - <i>Copyright &copy; 2004,2016 The Apache Software Foundation. All Rights Reserved.</i></small></p>
</body>
</html>
