<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_66) on Mon Jul 03 23:05:08 IST 2017 -->
<title>Loggable (Apache Derby V10.13 Internals)</title>
<meta name="date" content="2017-07-03">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Loggable (Apache Derby V10.13 Internals)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/apache/derby/iapi/store/raw/LogicalUndoable.html" title="interface in org.apache.derby.iapi.store.raw"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/derby/iapi/store/raw/Loggable.html" target="_top">Frames</a></li>
<li><a href="Loggable.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.derby.iapi.store.raw</div>
<h2 title="Interface Loggable" class="title">Interface Loggable</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd>java.io.Externalizable, <a href="../../../../../../org/apache/derby/iapi/services/io/Formatable.html" title="interface in org.apache.derby.iapi.services.io">Formatable</a>, java.io.Serializable, <a href="../../../../../../org/apache/derby/iapi/services/io/TypedFormat.html" title="interface in org.apache.derby.iapi.services.io">TypedFormat</a></dd>
</dl>
<dl>
<dt>All Known Subinterfaces:</dt>
<dd><a href="../../../../../../org/apache/derby/iapi/store/raw/Compensation.html" title="interface in org.apache.derby.iapi.store.raw">Compensation</a>, <a href="../../../../../../org/apache/derby/iapi/store/raw/LogicalUndoable.html" title="interface in org.apache.derby.iapi.store.raw">LogicalUndoable</a>, <a href="../../../../../../org/apache/derby/iapi/store/raw/Undoable.html" title="interface in org.apache.derby.iapi.store.raw">Undoable</a></dd>
</dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../../../org/apache/derby/impl/store/raw/data/AllocPageOperation.html" title="class in org.apache.derby.impl.store.raw.data">AllocPageOperation</a>, <a href="../../../../../../org/apache/derby/impl/store/raw/xact/BeginXact.html" title="class in org.apache.derby.impl.store.raw.xact">BeginXact</a>, <a href="../../../../../../org/apache/derby/impl/store/raw/data/ChainAllocPageOperation.html" title="class in org.apache.derby.impl.store.raw.data">ChainAllocPageOperation</a>, <a href="../../../../../../org/apache/derby/impl/store/raw/log/CheckpointOperation.html" title="class in org.apache.derby.impl.store.raw.log">CheckpointOperation</a>, <a href="../../../../../../org/apache/derby/impl/store/raw/log/ChecksumOperation.html" title="class in org.apache.derby.impl.store.raw.log">ChecksumOperation</a>, <a href="../../../../../../org/apache/derby/impl/store/raw/data/CompressSpacePageOperation.html" title="class in org.apache.derby.impl.store.raw.data">CompressSpacePageOperation</a>, <a href="../../../../../../org/apache/derby/impl/store/raw/data/CompressSpacePageOperation10_2.html" title="class in org.apache.derby.impl.store.raw.data">CompressSpacePageOperation10_2</a>, <a href="../../../../../../org/apache/derby/impl/store/raw/data/ContainerBasicOperation.html" title="class in org.apache.derby.impl.store.raw.data">ContainerBasicOperation</a>, <a href="../../../../../../org/apache/derby/impl/store/raw/data/ContainerOperation.html" title="class in org.apache.derby.impl.store.raw.data">ContainerOperation</a>, <a href="../../../../../../org/apache/derby/impl/store/raw/data/ContainerUndoOperation.html" title="class in org.apache.derby.impl.store.raw.data">ContainerUndoOperation</a>, <a href="../../../../../../org/apache/derby/impl/store/raw/data/CopyRowsOperation.html" title="class in org.apache.derby.impl.store.raw.data">CopyRowsOperation</a>, <a href="../../../../../../org/apache/derby/impl/store/raw/data/DeleteOperation.html" title="class in org.apache.derby.impl.store.raw.data">DeleteOperation</a>, <a href="../../../../../../org/apache/derby/impl/store/raw/data/EncryptContainerOperation.html" title="class in org.apache.derby.impl.store.raw.data">EncryptContainerOperation</a>, <a href="../../../../../../org/apache/derby/impl/store/raw/data/EncryptContainerUndoOperation.html" title="class in org.apache.derby.impl.store.raw.data">EncryptContainerUndoOperation</a>, <a href="../../../../../../org/apache/derby/impl/store/raw/xact/EndXact.html" title="class in org.apache.derby.impl.store.raw.xact">EndXact</a>, <a href="../../../../../../org/apache/derby/impl/store/raw/data/InitPageOperation.html" title="class in org.apache.derby.impl.store.raw.data">InitPageOperation</a>, <a href="../../../../../../org/apache/derby/impl/store/raw/data/InsertOperation.html" title="class in org.apache.derby.impl.store.raw.data">InsertOperation</a>, <a href="../../../../../../org/apache/derby/impl/store/raw/data/InvalidatePageOperation.html" title="class in org.apache.derby.impl.store.raw.data">InvalidatePageOperation</a>, <a href="../../../../../../org/apache/derby/impl/store/raw/data/LogicalPageOperation.html" title="class in org.apache.derby.impl.store.raw.data">LogicalPageOperation</a>, <a href="../../../../../../org/apache/derby/impl/store/raw/data/LogicalUndoOperation.html" title="class in org.apache.derby.impl.store.raw.data">LogicalUndoOperation</a>, <a href="../../../../../../org/apache/derby/impl/store/raw/data/PageBasicOperation.html" title="class in org.apache.derby.impl.store.raw.data">PageBasicOperation</a>, <a href="../../../../../../org/apache/derby/impl/store/raw/data/PhysicalPageOperation.html" title="class in org.apache.derby.impl.store.raw.data">PhysicalPageOperation</a>, <a href="../../../../../../org/apache/derby/impl/store/raw/data/PhysicalUndoOperation.html" title="class in org.apache.derby.impl.store.raw.data">PhysicalUndoOperation</a>, <a href="../../../../../../org/apache/derby/impl/store/raw/data/PurgeOperation.html" title="class in org.apache.derby.impl.store.raw.data">PurgeOperation</a>, <a href="../../../../../../org/apache/derby/impl/store/raw/data/RemoveFileOperation.html" title="class in org.apache.derby.impl.store.raw.data">RemoveFileOperation</a>, <a href="../../../../../../org/apache/derby/impl/store/raw/data/SetReservedSpaceOperation.html" title="class in org.apache.derby.impl.store.raw.data">SetReservedSpaceOperation</a>, <a href="../../../../../../org/apache/derby/impl/store/raw/data/UpdateFieldOperation.html" title="class in org.apache.derby.impl.store.raw.data">UpdateFieldOperation</a>, <a href="../../../../../../org/apache/derby/impl/store/raw/data/UpdateOperation.html" title="class in org.apache.derby.impl.store.raw.data">UpdateOperation</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">Loggable</span>
extends <a href="../../../../../../org/apache/derby/iapi/services/io/Formatable.html" title="interface in org.apache.derby.iapi.services.io">Formatable</a></pre>
<div class="block">A Loggable is a record of a change of state or an event that happened 
        in the RawStore in the context of a transaction.
        All changes in the RawStore must be logged.

        This is the root class for all log operations.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html#logAndDo-org.apache.derby.iapi.store.raw.Loggable-"><code>Transaction.logAndDo(org.apache.derby.iapi.store.raw.Loggable)</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Loggable.html#ABORT">ABORT</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Loggable.html#BI_LOG">BI_LOG</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Loggable.html#CHECKSUM">CHECKSUM</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Loggable.html#COMMIT">COMMIT</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Loggable.html#COMPENSATION">COMPENSATION</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Loggable.html#FILE_RESOURCE">FILE_RESOURCE</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Loggable.html#FIRST">FIRST</a></span></code>
<div class="block">Each loggable belongs to one or more groups of similar functionality.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Loggable.html#LAST">LAST</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Loggable.html#PREPARE">PREPARE</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Loggable.html#RAWSTORE">RAWSTORE</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Loggable.html#XA_NEEDLOCK">XA_NEEDLOCK</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Loggable.html#doMe-org.apache.derby.iapi.store.raw.Transaction-org.apache.derby.iapi.store.raw.log.LogInstant-org.apache.derby.iapi.services.io.LimitObjectInput-">doMe</a></span>(<a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a>&nbsp;xact,
    <a href="../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant,
    <a href="../../../../../../org/apache/derby/iapi/services/io/LimitObjectInput.html" title="interface in org.apache.derby.iapi.services.io">LimitObjectInput</a>&nbsp;in)</code>
<div class="block">Apply the change indicated by this operation and optional data.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/util/ByteArray.html" title="class in org.apache.derby.iapi.util">ByteArray</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Loggable.html#getPreparedLog--">getPreparedLog</a></span>()</code>
<div class="block">The log operations are responsible to create the ByteArray, and the log
                operations should write out any optional data for the change to the 
        ByteArray.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Loggable.html#group--">group</a></span>()</code>
<div class="block">Get the loggable's group value</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Loggable.html#needsRedo-org.apache.derby.iapi.store.raw.Transaction-">needsRedo</a></span>(<a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a>&nbsp;xact)</code>
<div class="block">Determine if the operation should be reapplied in recovery redo.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/store/raw/Loggable.html#releaseResource-org.apache.derby.iapi.store.raw.Transaction-">releaseResource</a></span>(<a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a>&nbsp;xact)</code>
<div class="block">Release any resource that was acquired for doMe for rollback or
                recovery redo.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.io.Externalizable">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;java.io.Externalizable</h3>
<code>readExternal, writeExternal</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.derby.iapi.services.io.TypedFormat">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.apache.derby.iapi.services.io.<a href="../../../../../../org/apache/derby/iapi/services/io/TypedFormat.html" title="interface in org.apache.derby.iapi.services.io">TypedFormat</a></h3>
<code><a href="../../../../../../org/apache/derby/iapi/services/io/TypedFormat.html#getTypeFormatId--">getTypeFormatId</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="FIRST">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FIRST</h4>
<pre>static final&nbsp;int FIRST</pre>
<div class="block">Each loggable belongs to one or more groups of similar functionality.

                Grouping is a way to quickly sort out log records that are interesting
                to different modules or different implementations.

                When a module makes loggable and sent it to the log file, it must mark
                this loggable with one or more of the following group. 
                If none fit, or if the loggable encompasses functionality that is not
                described in existing groups, then a new group should be introduced.  

                Grouping has no effect on how the record is logged or how it is treated
                in rollback or recovery.

                The following groups are defined. This list serves as the registry of
                all loggable groups.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.Loggable.FIRST">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="LAST">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LAST</h4>
<pre>static final&nbsp;int LAST</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.Loggable.LAST">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="COMPENSATION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>COMPENSATION</h4>
<pre>static final&nbsp;int COMPENSATION</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.Loggable.COMPENSATION">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="BI_LOG">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BI_LOG</h4>
<pre>static final&nbsp;int BI_LOG</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.Loggable.BI_LOG">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="COMMIT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>COMMIT</h4>
<pre>static final&nbsp;int COMMIT</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.Loggable.COMMIT">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="ABORT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ABORT</h4>
<pre>static final&nbsp;int ABORT</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.Loggable.ABORT">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="PREPARE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PREPARE</h4>
<pre>static final&nbsp;int PREPARE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.Loggable.PREPARE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="XA_NEEDLOCK">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>XA_NEEDLOCK</h4>
<pre>static final&nbsp;int XA_NEEDLOCK</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.Loggable.XA_NEEDLOCK">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="RAWSTORE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RAWSTORE</h4>
<pre>static final&nbsp;int RAWSTORE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.Loggable.RAWSTORE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="FILE_RESOURCE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FILE_RESOURCE</h4>
<pre>static final&nbsp;int FILE_RESOURCE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.Loggable.FILE_RESOURCE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="CHECKSUM">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CHECKSUM</h4>
<pre>static final&nbsp;int CHECKSUM</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.Loggable.CHECKSUM">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="doMe-org.apache.derby.iapi.store.raw.Transaction-org.apache.derby.iapi.store.raw.log.LogInstant-org.apache.derby.iapi.services.io.LimitObjectInput-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doMe</h4>
<pre>void&nbsp;doMe(<a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a>&nbsp;xact,
          <a href="../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;instant,
          <a href="../../../../../../org/apache/derby/iapi/services/io/LimitObjectInput.html" title="interface in org.apache.derby.iapi.services.io">LimitObjectInput</a>&nbsp;in)
   throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a>,
          java.io.IOException</pre>
<div class="block">Apply the change indicated by this operation and optional data.

                <B>If this method fail, the system will be shut down because the log
                record has already been written to disk.  Moreover, the log record will
                be replayed during recovery and this doMe method will be called on the
                same page again, so if it fails again, recovery will fail and the
                database cannot be started.  So it is very important to make sure that
                every resource you need, such as disk space, has been acquired before
                the logAndDo method is called! </B>

                <BR>This method cannot acquire any resource (like latching of a page)
                since it is called underneath the logging system, ie., the log record has
                already been written to the log stream.

                <P> The available() method of in indicates how much data can be read, i.e.
                how much was originally written.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>xact</code> - the Transaction</dd>
<dd><code>instant</code> - the log instant of this operation</dd>
<dd><code>in</code> - optional data</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - Can be thrown by any of the methods of in.</dd>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby policy.</dd>
</dl>
</li>
</ul>
<a name="getPreparedLog--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPreparedLog</h4>
<pre><a href="../../../../../../org/apache/derby/iapi/util/ByteArray.html" title="class in org.apache.derby.iapi.util">ByteArray</a>&nbsp;getPreparedLog()
                  throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">The log operations are responsible to create the ByteArray, and the log
                operations should write out any optional data for the change to the 
        ByteArray.
                The ByteArray can be prepared when the log operation is constructed,
                or it can be prepared when getPreparedLog() is called.

                Called by the log manager to allow the log operation to pass the buffer
                which contains optional data that will be available in to doMe() 
        methods.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby policy.</dd>
</dl>
</li>
</ul>
<a name="needsRedo-org.apache.derby.iapi.store.raw.Transaction-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>needsRedo</h4>
<pre>boolean&nbsp;needsRedo(<a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a>&nbsp;xact)
           throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Determine if the operation should be reapplied in recovery redo.
                If redo is needed, acquire any resource that is necessary for the
                loggable's doMe method.  These need to be released in the
                releaseResource method.

                <P> The sequence of events in recovery redo of a Loggable operation is:
                <NL>
                <LI> Get the loggable operation.  If loggable.needsRedo is false, then
                no need to redo this operation.
                <LI> If loggable.needsRedo is true, all the resources necessary for
                applying the doMe is acquired in needsRedo.
                <LI> If the loggable is actually a compensation operation, then the
                logging system will find the undoable operation that needs to be
                undone, call compensation.setUndoOp with the undoable operation.
                <LI> The recovery system then calls loggable.doMe, which re-applies the
                loggable operation, or re-applies the compensation operation
                <LI> The recovery system then calls loggable.releaseResource.
                </NL></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>xact</code> - The transaction trying to redo this operation</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if operation needs redoing, false if not.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby policy.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/derby/iapi/store/raw/Loggable.html#releaseResource-org.apache.derby.iapi.store.raw.Transaction-"><code>releaseResource(org.apache.derby.iapi.store.raw.Transaction)</code></a></dd>
</dl>
</li>
</ul>
<a name="releaseResource-org.apache.derby.iapi.store.raw.Transaction-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>releaseResource</h4>
<pre>void&nbsp;releaseResource(<a href="../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a>&nbsp;xact)</pre>
<div class="block">Release any resource that was acquired for doMe for rollback or
                recovery redo.

                This resource is acquired in either generateUndo (if this is a
                compensation operation during run time rollback or recovery rollback)
                or in needsRedo (if this is during recovery redo).  The run time
                transaction context should have all the resource already acquird for
                run time roll forward, so there is no need to releaseResource during
                run time roll forward.

                This method must be safe to be called multiple times.</div>
</li>
</ul>
<a name="group--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>group</h4>
<pre>int&nbsp;group()</pre>
<div class="block">Get the loggable's group value</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Built on Mon 2017-07-03 23:03:59+0530, from revision Unversioned directory</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/apache/derby/iapi/store/raw/LogicalUndoable.html" title="interface in org.apache.derby.iapi.store.raw"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/derby/iapi/store/raw/Loggable.html" target="_top">Frames</a></li>
<li><a href="Loggable.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Apache Derby V10.13 Internals - <i>Copyright &copy; 2004,2016 The Apache Software Foundation. All Rights Reserved.</i></small></p>
</body>
</html>
