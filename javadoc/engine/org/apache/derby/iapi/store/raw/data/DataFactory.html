<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_66) on Mon Jul 03 23:05:22 IST 2017 -->
<title>DataFactory (Apache Derby V10.13 Internals)</title>
<meta name="date" content="2017-07-03">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DataFactory (Apache Derby V10.13 Internals)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6,"i10":6,"i11":6,"i12":6,"i13":6,"i14":6,"i15":6,"i16":6,"i17":6,"i18":6,"i19":6,"i20":6,"i21":6,"i22":6,"i23":6,"i24":6,"i25":6,"i26":6,"i27":6,"i28":6,"i29":6,"i30":6,"i31":6,"i32":6,"i33":6,"i34":6,"i35":6,"i36":6,"i37":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/RawContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw.data"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/derby/iapi/store/raw/data/DataFactory.html" target="_top">Frames</a></li>
<li><a href="DataFactory.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.derby.iapi.store.raw.data</div>
<h2 title="Interface DataFactory" class="title">Interface DataFactory</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/Corruptable.html" title="interface in org.apache.derby.iapi.store.raw">Corruptable</a></dd>
</dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactory.html" title="class in org.apache.derby.impl.store.raw.data">BaseDataFileFactory</a>, <a href="../../../../../../../org/apache/derby/impl/store/raw/data/BaseDataFileFactoryJ4.html" title="class in org.apache.derby.impl.store.raw.data">BaseDataFileFactoryJ4</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">DataFactory</span>
extends <a href="../../../../../../../org/apache/derby/iapi/store/raw/Corruptable.html" title="interface in org.apache.derby.iapi.store.raw">Corruptable</a></pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#DB_EX_LOCKFILE_NAME">DB_EX_LOCKFILE_NAME</a></span></code>
<div class="block">file name that is used to acquire exclusive lock on DB.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#DB_LOCKFILE_NAME">DB_LOCKFILE_NAME</a></span></code>
<div class="block">The database lock</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#MODULE">MODULE</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#TEMP_SEGMENT_NAME">TEMP_SEGMENT_NAME</a></span></code>
<div class="block">The temporary segment is called "tmp"</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#addAndLoadStreamContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-long-java.util.Properties-org.apache.derby.iapi.store.access.RowSource-">addAndLoadStreamContainer</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t,
                         long&nbsp;segmentId,
                         java.util.Properties&nbsp;tableProperties,
                         <a href="../../../../../../../org/apache/derby/iapi/store/access/RowSource.html" title="interface in org.apache.derby.iapi.store.access">RowSource</a>&nbsp;rowSource)</code>
<div class="block">Create and load a stream container.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#addContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-long-long-int-java.util.Properties-int-">addContainer</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t,
            long&nbsp;segmentId,
            long&nbsp;containerid,
            int&nbsp;mode,
            java.util.Properties&nbsp;tableProperties,
            int&nbsp;temporaryFlag)</code>
<div class="block">Add a container.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#backupDataFiles-org.apache.derby.iapi.store.raw.Transaction-java.io.File-">backupDataFiles</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a>&nbsp;rt,
               java.io.File&nbsp;backupDir)</code>
<div class="block">Back up the data segment of the database.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#checkpoint--">checkpoint</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#createFinished--">createFinished</a></span>()</code>
<div class="block">Database creation finished</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#databaseEncrypted--">databaseEncrypted</a></span>()</code>
<div class="block">Returns if data base is in encrypted mode.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#decrypt-byte:A-int-int-byte:A-int-">decrypt</a></span>(byte[]&nbsp;ciphertext,
       int&nbsp;offset,
       int&nbsp;length,
       byte[]&nbsp;cleartext,
       int&nbsp;outputOffset)</code>
<div class="block">Decrypt cleartext from ciphertext.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#decryptAllContainers-org.apache.derby.iapi.store.raw.xact.RawTransaction-">decryptAllContainers</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t)</code>
<div class="block">Decrypts all the containers in the data segment.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#dropContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-org.apache.derby.iapi.store.raw.ContainerKey-">dropContainer</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t,
             <a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;containerId)</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#dropStreamContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-long-long-">dropStreamContainer</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t,
                   long&nbsp;segmentId,
                   long&nbsp;containerId)</code>
<div class="block">Drop and remove a stream container.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#encrypt-byte:A-int-int-byte:A-int-boolean-">encrypt</a></span>(byte[]&nbsp;cleartext,
       int&nbsp;offset,
       int&nbsp;length,
       byte[]&nbsp;ciphertext,
       int&nbsp;outputOffset,
       boolean&nbsp;newEngine)</code>
<div class="block">Encrypt cleartext into ciphertext.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#encryptAllContainers-org.apache.derby.iapi.store.raw.xact.RawTransaction-">encryptAllContainers</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t)</code>
<div class="block">Encrypt all the containers in the data segment.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#freezePersistentStore--">freezePersistentStore</a></span>()</code>
<div class="block">Backup restore - stop writing dirty pages or container to disk</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#getEncryptionBlockSize--">getEncryptionBlockSize</a></span>()</code>
<div class="block">Return the encryption block size used by the algorithm at time of
                encrypted database creation</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/access/FileResource.html" title="interface in org.apache.derby.iapi.store.access">FileResource</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#getFileHandler--">getFileHandler</a></span>()</code>
<div class="block">Get an object to handle non-transactional files.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/catalog/UUID.html" title="interface in org.apache.derby.catalog">UUID</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#getIdentifier--">getIdentifier</a></span>()</code>
<div class="block">Return the identifier that uniquely identifies this raw store at runtime.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#getMaxContainerId--">getMaxContainerId</a></span>()</code>
<div class="block">Return an id which can be used to create a container.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#getRootDirectory--">getRootDirectory</a></span>()</code>
<div class="block">
 Get the root directory of the data storage area.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/io/StorageFactory.html" title="interface in org.apache.derby.io">StorageFactory</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#getStorageFactory--">getStorageFactory</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#idle--">idle</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#isReadOnly--">isReadOnly</a></span>()</code>
<div class="block">Is the store read-only.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw">ContainerHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#openContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-org.apache.derby.iapi.store.raw.ContainerKey-org.apache.derby.iapi.store.raw.LockingPolicy-int-">openContainer</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t,
             <a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;containerId,
             <a href="../../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw">LockingPolicy</a>&nbsp;locking,
             int&nbsp;mode)</code>
<div class="block">Open a container that is not droped.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/RawContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw.data">RawContainerHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#openDroppedContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-org.apache.derby.iapi.store.raw.ContainerKey-org.apache.derby.iapi.store.raw.LockingPolicy-int-">openDroppedContainer</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t,
                    <a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;containerId,
                    <a href="../../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw">LockingPolicy</a>&nbsp;locking,
                    int&nbsp;mode)</code>
<div class="block">Open a container that may have been dropped.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/derby/iapi/store/raw/StreamContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw">StreamContainerHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#openStreamContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-long-long-boolean-">openStreamContainer</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t,
                   long&nbsp;segmentId,
                   long&nbsp;containerId,
                   boolean&nbsp;hold)</code>
<div class="block">Open a stream container.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#postRecovery--">postRecovery</a></span>()</code>
<div class="block">Called after recovery is performed.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#reclaimSpace-org.apache.derby.iapi.services.daemon.Serviceable-org.apache.derby.iapi.services.context.ContextManager-">reclaimSpace</a></span>(<a href="../../../../../../../org/apache/derby/iapi/services/daemon/Serviceable.html" title="interface in org.apache.derby.iapi.services.daemon">Serviceable</a>&nbsp;work,
            <a href="../../../../../../../org/apache/derby/iapi/services/context/ContextManager.html" title="class in org.apache.derby.iapi.services.context">ContextManager</a>&nbsp;contextMgr)</code>
<div class="block">Reclaim space used by this factory.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#reCreateContainerForRedoRecovery-org.apache.derby.iapi.store.raw.xact.RawTransaction-long-long-org.apache.derby.iapi.util.ByteArray-">reCreateContainerForRedoRecovery</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t,
                                long&nbsp;segmentId,
                                long&nbsp;containerId,
                                <a href="../../../../../../../org/apache/derby/iapi/util/ByteArray.html" title="class in org.apache.derby.iapi.util">ByteArray</a>&nbsp;containerInfo)</code>
<div class="block">re-Create a container during redo recovery.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#removeDroppedContainerFileStubs-org.apache.derby.iapi.store.raw.log.LogInstant-">removeDroppedContainerFileStubs</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;redoLWM)</code>
<div class="block">This function is called after a checkpoint to remove the stub files thar are not required
 during recovery.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#removeOldVersionOfContainers--">removeOldVersionOfContainers</a></span>()</code>
<div class="block">Removes old versions of the containers after a cryptographic operation
 on the database.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#removeStubsOK--">removeStubsOK</a></span>()</code>
<div class="block">Tell the data factory it is OK to remove committed deleted containers
                when the data factory shuts down.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#setDatabaseEncrypted-boolean-">setDatabaseEncrypted</a></span>(boolean&nbsp;isEncrypted)</code>
<div class="block">Sets whether the database is encrypted.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#setRawStoreFactory-org.apache.derby.iapi.store.raw.RawStoreFactory-boolean-java.util.Properties-">setRawStoreFactory</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/RawStoreFactory.html" title="interface in org.apache.derby.iapi.store.raw">RawStoreFactory</a>&nbsp;rsf,
                  boolean&nbsp;create,
                  java.util.Properties&nbsp;properties)</code>
<div class="block">make data factory aware of which raw store factory it belongs to
                Also need to boot the LogFactory</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#setUndoInsertEventHandler-org.apache.derby.iapi.store.raw.UndoHandler-">setUndoInsertEventHandler</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/UndoHandler.html" title="interface in org.apache.derby.iapi.store.raw">UndoHandler</a>&nbsp;undo_handle)</code>
<div class="block">Register a handler class for insert undo events.</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#setupCacheCleaner-org.apache.derby.iapi.services.daemon.DaemonService-">setupCacheCleaner</a></span>(<a href="../../../../../../../org/apache/derby/iapi/services/daemon/DaemonService.html" title="interface in org.apache.derby.iapi.services.daemon">DaemonService</a>&nbsp;daemon)</code>
<div class="block">Set up the data factory's caches to use the specified daemon service for
 background cleaning.</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#stop--">stop</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#unfreezePersistentStore--">unfreezePersistentStore</a></span>()</code>
<div class="block">Backup restore - start writing dirty pages or container to disk</div>
</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#writeFinished--">writeFinished</a></span>()</code>
<div class="block">Backup restore - write finished, if this is the last writer, allow the
 persistent store to proceed.</div>
</td>
</tr>
<tr id="i37" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#writeInProgress--">writeInProgress</a></span>()</code>
<div class="block">Backup restore - don't allow the persistent store to be frozen - or if
 it is already frozen, block.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.derby.iapi.store.raw.Corruptable">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.apache.derby.iapi.store.raw.<a href="../../../../../../../org/apache/derby/iapi/store/raw/Corruptable.html" title="interface in org.apache.derby.iapi.store.raw">Corruptable</a></h3>
<code><a href="../../../../../../../org/apache/derby/iapi/store/raw/Corruptable.html#markCorrupt-org.apache.derby.iapi.error.StandardException-">markCorrupt</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="MODULE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MODULE</h4>
<pre>static final&nbsp;java.lang.String MODULE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.data.DataFactory.MODULE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="TEMP_SEGMENT_NAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TEMP_SEGMENT_NAME</h4>
<pre>static final&nbsp;java.lang.String TEMP_SEGMENT_NAME</pre>
<div class="block">The temporary segment is called "tmp"</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.data.DataFactory.TEMP_SEGMENT_NAME">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="DB_LOCKFILE_NAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DB_LOCKFILE_NAME</h4>
<pre>static final&nbsp;java.lang.String DB_LOCKFILE_NAME</pre>
<div class="block">The database lock</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.data.DataFactory.DB_LOCKFILE_NAME">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="DB_EX_LOCKFILE_NAME">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DB_EX_LOCKFILE_NAME</h4>
<pre>static final&nbsp;java.lang.String DB_EX_LOCKFILE_NAME</pre>
<div class="block">file name that is used to acquire exclusive lock on DB.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.iapi.store.raw.data.DataFactory.DB_EX_LOCKFILE_NAME">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="isReadOnly--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isReadOnly</h4>
<pre>boolean&nbsp;isReadOnly()</pre>
<div class="block">Is the store read-only.</div>
</li>
</ul>
<a name="openContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-org.apache.derby.iapi.store.raw.ContainerKey-org.apache.derby.iapi.store.raw.LockingPolicy-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openContainer</h4>
<pre><a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw">ContainerHandle</a>&nbsp;openContainer(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t,
                              <a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;containerId,
                              <a href="../../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw">LockingPolicy</a>&nbsp;locking,
                              int&nbsp;mode)
                       throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Open a container that is not droped.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>t</code> - the raw transaction that is opening the container</dd>
<dd><code>containerId</code> - the container's identity</dd>
<dd><code>locking</code> - the locking policy</dd>
<dd><code>mode</code> - see the different mode in @see ContainerHandle
                then will return a null handle if the container is dropped.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the handle to the opened container</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="openDroppedContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-org.apache.derby.iapi.store.raw.ContainerKey-org.apache.derby.iapi.store.raw.LockingPolicy-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openDroppedContainer</h4>
<pre><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/RawContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw.data">RawContainerHandle</a>&nbsp;openDroppedContainer(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t,
                                        <a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;containerId,
                                        <a href="../../../../../../../org/apache/derby/iapi/store/raw/LockingPolicy.html" title="interface in org.apache.derby.iapi.store.raw">LockingPolicy</a>&nbsp;locking,
                                        int&nbsp;mode)
                                 throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Open a container that may have been dropped.
                Only internal raw store code should call this, e.g. recovery.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/DataFactory.html#openContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-org.apache.derby.iapi.store.raw.ContainerKey-org.apache.derby.iapi.store.raw.LockingPolicy-int-"><code>openContainer(org.apache.derby.iapi.store.raw.xact.RawTransaction, org.apache.derby.iapi.store.raw.ContainerKey, org.apache.derby.iapi.store.raw.LockingPolicy, int)</code></a></dd>
</dl>
</li>
</ul>
<a name="addContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-long-long-int-java.util.Properties-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addContainer</h4>
<pre>long&nbsp;addContainer(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t,
                  long&nbsp;segmentId,
                  long&nbsp;containerid,
                  int&nbsp;mode,
                  java.util.Properties&nbsp;tableProperties,
                  int&nbsp;temporaryFlag)
           throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Add a container.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>t</code> - the transaction that is creating the container</dd>
<dd><code>segmentId</code> - the segment where the container is to go</dd>
<dd><code>mode</code> - whether or not to LOGGED or not.  The effect of this mode
                                is only for this addContainer call, not persisently stored
                                throughout the lifetime of the container</dd>
<dd><code>tableProperties</code> - properties of the container that is persistently
                                stored throughout the lifetime of the container</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the containerId of the newly created container</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby Error policy</dd>
</dl>
</li>
</ul>
<a name="addAndLoadStreamContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-long-java.util.Properties-org.apache.derby.iapi.store.access.RowSource-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addAndLoadStreamContainer</h4>
<pre>long&nbsp;addAndLoadStreamContainer(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t,
                               long&nbsp;segmentId,
                               java.util.Properties&nbsp;tableProperties,
                               <a href="../../../../../../../org/apache/derby/iapi/store/access/RowSource.html" title="interface in org.apache.derby.iapi.store.access">RowSource</a>&nbsp;rowSource)
                        throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Create and load a stream container.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>t</code> - the transaction that is creating the container</dd>
<dd><code>segmentId</code> - the segment where the container is to go</dd>
<dd><code>tableProperties</code> - properties of the container that is persistently
                                stored throughout the lifetime of the container</dd>
<dd><code>rowSource</code> - the data to load the container with</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the containerId of the newly created stream container</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby Error policy</dd>
</dl>
</li>
</ul>
<a name="openStreamContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-long-long-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openStreamContainer</h4>
<pre><a href="../../../../../../../org/apache/derby/iapi/store/raw/StreamContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw">StreamContainerHandle</a>&nbsp;openStreamContainer(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t,
                                          long&nbsp;segmentId,
                                          long&nbsp;containerId,
                                          boolean&nbsp;hold)
                                   throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Open a stream container.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a valid StreamContainerHandle or null if the container does not exist.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby exception policy</dd>
</dl>
</li>
</ul>
<a name="dropStreamContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dropStreamContainer</h4>
<pre>void&nbsp;dropStreamContainer(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t,
                         long&nbsp;segmentId,
                         long&nbsp;containerId)
                  throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Drop and remove a stream container.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby exception policy</dd>
</dl>
</li>
</ul>
<a name="reCreateContainerForRedoRecovery-org.apache.derby.iapi.store.raw.xact.RawTransaction-long-long-org.apache.derby.iapi.util.ByteArray-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reCreateContainerForRedoRecovery</h4>
<pre>void&nbsp;reCreateContainerForRedoRecovery(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t,
                                      long&nbsp;segmentId,
                                      long&nbsp;containerId,
                                      <a href="../../../../../../../org/apache/derby/iapi/util/ByteArray.html" title="class in org.apache.derby.iapi.util">ByteArray</a>&nbsp;containerInfo)
                               throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">re-Create a container during redo recovery.

        Used if container is found to not exist during redo recovery of
        log records creating the container.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby Error policy</dd>
</dl>
</li>
</ul>
<a name="dropContainer-org.apache.derby.iapi.store.raw.xact.RawTransaction-org.apache.derby.iapi.store.raw.ContainerKey-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dropContainer</h4>
<pre>void&nbsp;dropContainer(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t,
                   <a href="../../../../../../../org/apache/derby/iapi/store/raw/ContainerKey.html" title="class in org.apache.derby.iapi.store.raw">ContainerKey</a>&nbsp;containerId)
            throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="checkpoint--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkpoint</h4>
<pre>void&nbsp;checkpoint()
         throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="idle--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>idle</h4>
<pre>void&nbsp;idle()
   throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="getIdentifier--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIdentifier</h4>
<pre><a href="../../../../../../../org/apache/derby/catalog/UUID.html" title="interface in org.apache.derby.catalog">UUID</a>&nbsp;getIdentifier()</pre>
<div class="block">Return the identifier that uniquely identifies this raw store at runtime.
                This identifier is to be used as part of the lokcing key for objects
                locked in the raw store by value (e.g. Containers).</div>
</li>
</ul>
<a name="setRawStoreFactory-org.apache.derby.iapi.store.raw.RawStoreFactory-boolean-java.util.Properties-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRawStoreFactory</h4>
<pre>void&nbsp;setRawStoreFactory(<a href="../../../../../../../org/apache/derby/iapi/store/raw/RawStoreFactory.html" title="interface in org.apache.derby.iapi.store.raw">RawStoreFactory</a>&nbsp;rsf,
                        boolean&nbsp;create,
                        java.util.Properties&nbsp;properties)
                 throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">make data factory aware of which raw store factory it belongs to
                Also need to boot the LogFactory</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - cannot boot the log factory</dd>
</dl>
</li>
</ul>
<a name="createFinished--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createFinished</h4>
<pre>void&nbsp;createFinished()
             throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Database creation finished</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby exception policy.</dd>
</dl>
</li>
</ul>
<a name="getFileHandler--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFileHandler</h4>
<pre><a href="../../../../../../../org/apache/derby/iapi/store/access/FileResource.html" title="interface in org.apache.derby.iapi.store.access">FileResource</a>&nbsp;getFileHandler()</pre>
<div class="block">Get an object to handle non-transactional files.</div>
</li>
</ul>
<a name="removeStubsOK--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeStubsOK</h4>
<pre>void&nbsp;removeStubsOK()</pre>
<div class="block">Tell the data factory it is OK to remove committed deleted containers
                when the data factory shuts down.</div>
</li>
</ul>
<a name="reclaimSpace-org.apache.derby.iapi.services.daemon.Serviceable-org.apache.derby.iapi.services.context.ContextManager-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reclaimSpace</h4>
<pre>int&nbsp;reclaimSpace(<a href="../../../../../../../org/apache/derby/iapi/services/daemon/Serviceable.html" title="interface in org.apache.derby.iapi.services.daemon">Serviceable</a>&nbsp;work,
                 <a href="../../../../../../../org/apache/derby/iapi/services/context/ContextManager.html" title="class in org.apache.derby.iapi.services.context">ContextManager</a>&nbsp;contextMgr)
          throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Reclaim space used by this factory.  Called by post commit daemon.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby exception policy</dd>
</dl>
</li>
</ul>
<a name="postRecovery--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>postRecovery</h4>
<pre>void&nbsp;postRecovery()
           throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Called after recovery is performed.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby Error Policy</dd>
</dl>
</li>
</ul>
<a name="setupCacheCleaner-org.apache.derby.iapi.services.daemon.DaemonService-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setupCacheCleaner</h4>
<pre>void&nbsp;setupCacheCleaner(<a href="../../../../../../../org/apache/derby/iapi/services/daemon/DaemonService.html" title="interface in org.apache.derby.iapi.services.daemon">DaemonService</a>&nbsp;daemon)</pre>
<div class="block">Set up the data factory's caches to use the specified daemon service for
 background cleaning.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>daemon</code> - daemon service to use for background cleaning</dd>
</dl>
</li>
</ul>
<a name="encrypt-byte:A-int-int-byte:A-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>encrypt</h4>
<pre>int&nbsp;encrypt(byte[]&nbsp;cleartext,
            int&nbsp;offset,
            int&nbsp;length,
            byte[]&nbsp;ciphertext,
            int&nbsp;outputOffset,
            boolean&nbsp;newEngine)
     throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Encrypt cleartext into ciphertext.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby Error Policy</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/services/crypto/CipherProvider.html#encrypt-byte:A-int-int-byte:A-int-"><code>CipherProvider.encrypt(byte[], int, int, byte[], int)</code></a></dd>
</dl>
</li>
</ul>
<a name="decrypt-byte:A-int-int-byte:A-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decrypt</h4>
<pre>int&nbsp;decrypt(byte[]&nbsp;ciphertext,
            int&nbsp;offset,
            int&nbsp;length,
            byte[]&nbsp;cleartext,
            int&nbsp;outputOffset)
     throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Decrypt cleartext from ciphertext.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby Error Policy</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/services/crypto/CipherProvider.html#decrypt-byte:A-int-int-byte:A-int-"><code>CipherProvider.decrypt(byte[], int, int, byte[], int)</code></a></dd>
</dl>
</li>
</ul>
<a name="decryptAllContainers-org.apache.derby.iapi.store.raw.xact.RawTransaction-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decryptAllContainers</h4>
<pre>void&nbsp;decryptAllContainers(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t)
                   throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Decrypts all the containers in the data segment.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>t</code> - the transaction that is decrypting the container</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby Error Policy</dd>
</dl>
</li>
</ul>
<a name="encryptAllContainers-org.apache.derby.iapi.store.raw.xact.RawTransaction-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>encryptAllContainers</h4>
<pre>void&nbsp;encryptAllContainers(<a href="../../../../../../../org/apache/derby/iapi/store/raw/xact/RawTransaction.html" title="class in org.apache.derby.iapi.store.raw.xact">RawTransaction</a>&nbsp;t)
                   throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Encrypt all the containers in the data segment.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>t</code> - the transaction that is encrypting the containers.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby Error Policy</dd>
</dl>
</li>
</ul>
<a name="removeOldVersionOfContainers--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeOldVersionOfContainers</h4>
<pre>void&nbsp;removeOldVersionOfContainers()
                           throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Removes old versions of the containers after a cryptographic operation
 on the database.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="setDatabaseEncrypted-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDatabaseEncrypted</h4>
<pre>void&nbsp;setDatabaseEncrypted(boolean&nbsp;isEncrypted)</pre>
<div class="block">Sets whether the database is encrypted.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>isEncrypted</code> - <code>true</code> if the database is encrypted,
      <code>false</code> otherwise</dd>
</dl>
</li>
</ul>
<a name="getEncryptionBlockSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEncryptionBlockSize</h4>
<pre>int&nbsp;getEncryptionBlockSize()</pre>
<div class="block">Return the encryption block size used by the algorithm at time of
                encrypted database creation</div>
</li>
</ul>
<a name="freezePersistentStore--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>freezePersistentStore</h4>
<pre>void&nbsp;freezePersistentStore()
                    throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Backup restore - stop writing dirty pages or container to disk</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="unfreezePersistentStore--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unfreezePersistentStore</h4>
<pre>void&nbsp;unfreezePersistentStore()</pre>
<div class="block">Backup restore - start writing dirty pages or container to disk</div>
</li>
</ul>
<a name="writeInProgress--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeInProgress</h4>
<pre>void&nbsp;writeInProgress()
              throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Backup restore - don't allow the persistent store to be frozen - or if
 it is already frozen, block.   A write is about to commence.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="writeFinished--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeFinished</h4>
<pre>void&nbsp;writeFinished()</pre>
<div class="block">Backup restore - write finished, if this is the last writer, allow the
 persistent store to proceed.</div>
</li>
</ul>
<a name="backupDataFiles-org.apache.derby.iapi.store.raw.Transaction-java.io.File-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>backupDataFiles</h4>
<pre>void&nbsp;backupDataFiles(<a href="../../../../../../../org/apache/derby/iapi/store/raw/Transaction.html" title="interface in org.apache.derby.iapi.store.raw">Transaction</a>&nbsp;rt,
                     java.io.File&nbsp;backupDir)
              throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Back up the data segment of the database.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code></dd>
</dl>
</li>
</ul>
<a name="getMaxContainerId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxContainerId</h4>
<pre>long&nbsp;getMaxContainerId()
                throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Return an id which can be used to create a container.
 <p>
 Return an id number with is greater than any existing container
 in the current database.  Caller will use this to allocate future
 container numbers - most likely caching the value and then incrementing
 it as it is used.
 <p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The an id which can be used to create a container.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard exception policy.</dd>
</dl>
</li>
</ul>
<a name="removeDroppedContainerFileStubs-org.apache.derby.iapi.store.raw.log.LogInstant-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeDroppedContainerFileStubs</h4>
<pre>void&nbsp;removeDroppedContainerFileStubs(<a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogInstant.html" title="interface in org.apache.derby.iapi.store.raw.log">LogInstant</a>&nbsp;redoLWM)
                              throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">This function is called after a checkpoint to remove the stub files thar are not required
 during recovery. Crash recovery  uses these files to identify the dropped
 containers.   Stub files(d*.dat) gets creates  when a
 table/index(containers) dropped.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Standard Derby error policy</dd>
</dl>
</li>
</ul>
<a name="getStorageFactory--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStorageFactory</h4>
<pre><a href="../../../../../../../org/apache/derby/io/StorageFactory.html" title="interface in org.apache.derby.io">StorageFactory</a>&nbsp;getStorageFactory()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The StorageFactory used by this dataFactory</dd>
</dl>
</li>
</ul>
<a name="getRootDirectory--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRootDirectory</h4>
<pre>java.lang.String&nbsp;getRootDirectory()</pre>
<div class="block"><p>
 Get the root directory of the data storage area. It is always
 guaranteed to be an absolute path, and it is prefixed with the
 JDBC sub-sub-protocol if it is not a directory database. Examples:
 </p>

 <dl>
     <dt><code>/path/to/database</code></dt>
     <dd>in case of a directory database</dd>
     <dt><code>memory:/path/to/database</code></dt>
     <dd> in case of a memory database</dd>
 </dl></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the root directory of the data storage area</dd>
</dl>
</li>
</ul>
<a name="stop--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stop</h4>
<pre>void&nbsp;stop()</pre>
</li>
</ul>
<a name="databaseEncrypted--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>databaseEncrypted</h4>
<pre>boolean&nbsp;databaseEncrypted()</pre>
<div class="block">Returns if data base is in encrypted mode.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if database encrypted false otherwise</dd>
</dl>
</li>
</ul>
<a name="setUndoInsertEventHandler-org.apache.derby.iapi.store.raw.UndoHandler-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setUndoInsertEventHandler</h4>
<pre>void&nbsp;setUndoInsertEventHandler(<a href="../../../../../../../org/apache/derby/iapi/store/raw/UndoHandler.html" title="interface in org.apache.derby.iapi.store.raw">UndoHandler</a>&nbsp;undo_handle)</pre>
<div class="block">Register a handler class for insert undo events.
        <P>
        Register a class to be called when an undo of an insert 
        is executed.  When an undo of an event is executed by
        the raw store UndoHandler.insertUndoNotify() will be
        called, allowing upper level callers to execute code
        as necessary.  The initial need is for the access layer
        to be able to queue post commit reclaim space in the
        case of inserts which are aborted (including the normal
        case of inserts failed for duplicate key violations)
        (see DERBY-4057)
        <p>
        Currently the handler is only called on abort of inserts on
        non-overflow pages that meet either of the following 2 
        requirements:
        1) the row has either overflow columns (long columns) or
           the row columns span multiple pages (long rows).
        2) after the action all user rows on the page are marked deleted.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>undo_handle</code> - client code supplied undo_handle.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Built on Mon 2017-07-03 23:03:59+0530, from revision Unversioned directory</div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../../../org/apache/derby/iapi/store/raw/data/RawContainerHandle.html" title="interface in org.apache.derby.iapi.store.raw.data"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/derby/iapi/store/raw/data/DataFactory.html" target="_top">Frames</a></li>
<li><a href="DataFactory.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Apache Derby V10.13 Internals - <i>Copyright &copy; 2004,2016 The Apache Software Foundation. All Rights Reserved.</i></small></p>
</body>
</html>
