<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_66) on Mon Jul 03 23:05:02 IST 2017 -->
<title>SlaveFactory (Apache Derby V10.13 Internals)</title>
<meta name="date" content="2017-07-03">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="SlaveFactory (Apache Derby V10.13 Internals)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/derby/iapi/store/replication/slave/SlaveFactory.html" target="_top">Frames</a></li>
<li><a href="SlaveFactory.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.derby.iapi.store.replication.slave</div>
<h2 title="Interface SlaveFactory" class="title">Interface SlaveFactory</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../../../../org/apache/derby/impl/store/replication/slave/SlaveController.html" title="class in org.apache.derby.impl.store.replication.slave">SlaveController</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">SlaveFactory</span></pre>
<div class="block"><p> 
 This is the interface for the replication slave controller
 service. The slave controller service is booted when this instance
 of Derby will have the replication slave role for this database.
 </p> 
 <p> 
 The replication slave service is responsible for managing all
 replication related functionality on the slave side of replication.
 This includes connecting to the master and apply log records
 received from the master.
 </p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/replication/slave/SlaveFactory.html#MODULE">MODULE</a></span></code>
<div class="block">The name of the Slave Factory, used to boot the service.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/replication/slave/SlaveFactory.html#REPLICATION_MODE">REPLICATION_MODE</a></span></code>
<div class="block">Property key to specify replication mode</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/replication/slave/SlaveFactory.html#SLAVE_DB">SLAVE_DB</a></span></code>
<div class="block">Property key to specify the name of the database</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/replication/slave/SlaveFactory.html#SLAVE_MODE">SLAVE_MODE</a></span></code>
<div class="block">Property value used to indicate that the service should be
 booted in asynchronous replication mode.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/replication/slave/SlaveFactory.html#SLAVE_PRE_MODE">SLAVE_PRE_MODE</a></span></code>
<div class="block">Property value used to indicate that the service should be
 booted in slave replication pre mode.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/replication/slave/SlaveFactory.html#failover--">failover</a></span>()</code>
<div class="block">
 Used to turn this slave instance of the database into a normal
 instance that clients can connect to, assuming that the
 connection with the master is down.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/replication/slave/SlaveFactory.html#isStarted--">isStarted</a></span>()</code>
<div class="block">Check whether or not slave replication mode has been
 successfully started.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/replication/slave/SlaveFactory.html#startSlave-org.apache.derby.iapi.store.raw.RawStoreFactory-org.apache.derby.iapi.store.raw.log.LogFactory-">startSlave</a></span>(<a href="../../../../../../../org/apache/derby/iapi/store/raw/RawStoreFactory.html" title="interface in org.apache.derby.iapi.store.raw">RawStoreFactory</a>&nbsp;rawStore,
          <a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html" title="interface in org.apache.derby.iapi.store.raw.log">LogFactory</a>&nbsp;logFac)</code>
<div class="block">Start slave replication.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/derby/iapi/store/replication/slave/SlaveFactory.html#stopSlave-boolean-">stopSlave</a></span>(boolean&nbsp;forcedStop)</code>
<div class="block">Stop replication slave mode.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="MODULE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MODULE</h4>
<pre>static final&nbsp;java.lang.String MODULE</pre>
<div class="block">The name of the Slave Factory, used to boot the service.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.iapi.store.replication.slave.SlaveFactory.MODULE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="SLAVE_DB">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SLAVE_DB</h4>
<pre>static final&nbsp;java.lang.String SLAVE_DB</pre>
<div class="block">Property key to specify the name of the database</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.iapi.store.replication.slave.SlaveFactory.SLAVE_DB">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="REPLICATION_MODE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>REPLICATION_MODE</h4>
<pre>static final&nbsp;java.lang.String REPLICATION_MODE</pre>
<div class="block">Property key to specify replication mode</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.iapi.store.replication.slave.SlaveFactory.REPLICATION_MODE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="SLAVE_MODE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SLAVE_MODE</h4>
<pre>static final&nbsp;java.lang.String SLAVE_MODE</pre>
<div class="block">Property value used to indicate that the service should be
 booted in asynchronous replication mode.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.iapi.store.replication.slave.SlaveFactory.SLAVE_MODE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="SLAVE_PRE_MODE">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SLAVE_PRE_MODE</h4>
<pre>static final&nbsp;java.lang.String SLAVE_PRE_MODE</pre>
<div class="block">Property value used to indicate that the service should be
 booted in slave replication pre mode. The reason for having a
 slave pre mode is that when slave replication is started, we
 need to boot the database twice: Once to check authentication
 and authorization, and a second time to put the database in
 slave mode. It is imperative that the disk image of log files
 remain unmodified by the first boot since the master and slave
 log files have to be identical when slave mode starts. Booting
 in SLAVE_PRE_MODE ensures that the log files remain unmodified.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.derby.iapi.store.replication.slave.SlaveFactory.SLAVE_PRE_MODE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="startSlave-org.apache.derby.iapi.store.raw.RawStoreFactory-org.apache.derby.iapi.store.raw.log.LogFactory-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startSlave</h4>
<pre>void&nbsp;startSlave(<a href="../../../../../../../org/apache/derby/iapi/store/raw/RawStoreFactory.html" title="interface in org.apache.derby.iapi.store.raw">RawStoreFactory</a>&nbsp;rawStore,
                <a href="../../../../../../../org/apache/derby/iapi/store/raw/log/LogFactory.html" title="interface in org.apache.derby.iapi.store.raw.log">LogFactory</a>&nbsp;logFac)
         throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Start slave replication. This method establishes a network
 connection with the associated replication master and starts a
 daemon that applies operations received from the master (in the
 form of log records) to the local slave database.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rawStore</code> - The RawStoreFactory for the database</dd>
<dd><code>logFac</code> - The LogFactory ensuring recoverability for this database</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Thrown if the slave could not be
 started.</dd>
</dl>
</li>
</ul>
<a name="stopSlave-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stopSlave</h4>
<pre>void&nbsp;stopSlave(boolean&nbsp;forcedStop)
        throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Stop replication slave mode. Causes the database to abort the
 boot process, and should only be used when shutting down this
 database. If forcedStop is false, the method will fail with an
 exception if connected with the master. If forcedStop is true, the 
 slave will be shut down even if connected to the master. A forcedStop 
 value of true should only be used by system shutdown.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>forcedStop</code> - Determines whether or not an exception should
 be thrown when this method is called while the network
 connection to the master is up.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Thrown if slave is connected with
 master and forcedStop is false.</dd>
</dl>
</li>
</ul>
<a name="failover--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>failover</h4>
<pre>void&nbsp;failover()
       throws <a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block"><p>
 Used to turn this slave instance of the database into a normal
 instance that clients can connect to, assuming that the
 connection with the master is down. This is typically done in
 cases where a fatal error has happened on the master instance
 of the database, or when the master database is unreachable due
 to network problems.
 </p>
 <p>
 By calling failover, this slave instance of the database will
 be recovered so that all committed operations that have been
 received from the master are reflected here. On the other hand,
 operations from transactions where the commit log record has
 not been received from the master will not be reflected.
 </p>
 <p>
 Note that even though an operation has been executed (and even
 committed) on the master, it is not neccessarily reflected in
 the slave instance of the database. This depends on the
 replication strategy used by the MasterFactory.
 </p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - Thrown if slave is connected with
 master</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/derby/iapi/store/replication/master/MasterFactory.html" title="interface in org.apache.derby.iapi.store.replication.master"><code>MasterFactory</code></a>, 
<a href="../../../../../../../org/apache/derby/impl/store/replication/master/MasterController.html#flushedTo-long-"><code>MasterController.flushedTo(long)</code></a></dd>
</dl>
</li>
</ul>
<a name="isStarted--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isStarted</h4>
<pre>boolean&nbsp;isStarted()</pre>
<div class="block">Check whether or not slave replication mode has been
 successfully started.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if slave replication mode has started
 successfully, false if slave mode startup is not yet confirmed</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Built on Mon 2017-07-03 23:03:59+0530, from revision Unversioned directory</div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/derby/iapi/store/replication/slave/SlaveFactory.html" target="_top">Frames</a></li>
<li><a href="SlaveFactory.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Apache Derby V10.13 Internals - <i>Copyright &copy; 2004,2016 The Apache Software Foundation. All Rights Reserved.</i></small></p>
</body>
</html>
