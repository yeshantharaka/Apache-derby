<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_66) on Mon Jul 03 23:04:42 IST 2017 -->
<title>ExecAggregator (Apache Derby V10.13 Internals)</title>
<meta name="date" content="2017-07-03">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ExecAggregator (Apache Derby V10.13 Internals)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/derby/iapi/sql/execute/CursorResultSet.html" title="interface in org.apache.derby.iapi.sql.execute"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/apache/derby/iapi/sql/execute/ExecCursorTableReference.html" title="interface in org.apache.derby.iapi.sql.execute"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/derby/iapi/sql/execute/ExecAggregator.html" target="_top">Frames</a></li>
<li><a href="ExecAggregator.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.derby.iapi.sql.execute</div>
<h2 title="Interface ExecAggregator" class="title">Interface ExecAggregator</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd>java.io.Externalizable, <a href="../../../../../../org/apache/derby/iapi/services/io/Formatable.html" title="interface in org.apache.derby.iapi.services.io">Formatable</a>, java.io.Serializable, <a href="../../../../../../org/apache/derby/iapi/services/io/TypedFormat.html" title="interface in org.apache.derby.iapi.services.io">TypedFormat</a></dd>
</dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../../../org/apache/derby/impl/sql/execute/AvgAggregator.html" title="class in org.apache.derby.impl.sql.execute">AvgAggregator</a>, <a href="../../../../../../org/apache/derby/impl/sql/execute/CountAggregator.html" title="class in org.apache.derby.impl.sql.execute">CountAggregator</a>, <a href="../../../../../../org/apache/derby/impl/sql/execute/MaxMinAggregator.html" title="class in org.apache.derby.impl.sql.execute">MaxMinAggregator</a>, <a href="../../../../../../org/apache/derby/impl/sql/execute/OrderableAggregator.html" title="class in org.apache.derby.impl.sql.execute">OrderableAggregator</a>, <a href="../../../../../../org/apache/derby/impl/sql/execute/SumAggregator.html" title="class in org.apache.derby.impl.sql.execute">SumAggregator</a>, <a href="../../../../../../org/apache/derby/impl/sql/execute/SystemAggregator.html" title="class in org.apache.derby.impl.sql.execute">SystemAggregator</a>, <a href="../../../../../../org/apache/derby/impl/sql/execute/UserDefinedAggregator.html" title="class in org.apache.derby.impl.sql.execute">UserDefinedAggregator</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">ExecAggregator</span>
extends <a href="../../../../../../org/apache/derby/iapi/services/io/Formatable.html" title="interface in org.apache.derby.iapi.services.io">Formatable</a></pre>
<div class="block">An ExecAggregator is the interface that execution uses
 to an aggregate.  System defined aggregates will implement
 this directly. 
 
   <P>
   The life time of an ExecAggregator is as follows.

        <OL>
        <LI> An ExecAggregator instance is created using the defined class name.
        <LI> Its setup() method is called to define its role (COUNT(*), SUM, etc.).
        <LI> Its newAggregator() method may be called any number of times to create
        new working aggregators as required. These aggregators have the same role
        and must be created in an initialized state.
        <LI> accumlate and merge will be called across these set of aggregators
        <LI> One of these aggregators will be used as the final one for obtaining the result
        </OL>


 <P></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/sql/execute/ExecAggregator.html#accumulate-org.apache.derby.iapi.types.DataValueDescriptor-java.lang.Object-">accumulate</a></span>(<a href="../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>&nbsp;addend,
          java.lang.Object&nbsp;ga)</code>
<div class="block">Iteratively accumulates the addend into the aggregator.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/sql/execute/ExecAggregator.html#didEliminateNulls--">didEliminateNulls</a></span>()</code>
<div class="block">Return true if the aggregation eliminated at least one
                null from the input data set.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/sql/execute/ExecAggregator.html#getResult--">getResult</a></span>()</code>
<div class="block">Produces the result to be returned by the query.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/sql/execute/ExecAggregator.html#merge-org.apache.derby.iapi.sql.execute.ExecAggregator-">merge</a></span>(<a href="../../../../../../org/apache/derby/iapi/sql/execute/ExecAggregator.html" title="interface in org.apache.derby.iapi.sql.execute">ExecAggregator</a>&nbsp;inputAggregator)</code>
<div class="block">Merges one aggregator into a another aggregator.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/derby/iapi/sql/execute/ExecAggregator.html" title="interface in org.apache.derby.iapi.sql.execute">ExecAggregator</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/sql/execute/ExecAggregator.html#newAggregator--">newAggregator</a></span>()</code>
<div class="block">Return a new initialized copy of this aggregator, any state
           set by the setup() method of the original Aggregator must be
           copied into the new aggregator.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derby/iapi/sql/execute/ExecAggregator.html#setup-org.apache.derby.iapi.services.loader.ClassFactory-java.lang.String-org.apache.derby.iapi.types.DataTypeDescriptor-">setup</a></span>(<a href="../../../../../../org/apache/derby/iapi/services/loader/ClassFactory.html" title="interface in org.apache.derby.iapi.services.loader">ClassFactory</a>&nbsp;classFactory,
     java.lang.String&nbsp;aggregateName,
     <a href="../../../../../../org/apache/derby/iapi/types/DataTypeDescriptor.html" title="class in org.apache.derby.iapi.types">DataTypeDescriptor</a>&nbsp;returnDataType)</code>
<div class="block">Set's up the aggregate for processing.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.io.Externalizable">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;java.io.Externalizable</h3>
<code>readExternal, writeExternal</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.derby.iapi.services.io.TypedFormat">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.apache.derby.iapi.services.io.<a href="../../../../../../org/apache/derby/iapi/services/io/TypedFormat.html" title="interface in org.apache.derby.iapi.services.io">TypedFormat</a></h3>
<code><a href="../../../../../../org/apache/derby/iapi/services/io/TypedFormat.html#getTypeFormatId--">getTypeFormatId</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setup-org.apache.derby.iapi.services.loader.ClassFactory-java.lang.String-org.apache.derby.iapi.types.DataTypeDescriptor-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setup</h4>
<pre>void&nbsp;setup(<a href="../../../../../../org/apache/derby/iapi/services/loader/ClassFactory.html" title="interface in org.apache.derby.iapi.services.loader">ClassFactory</a>&nbsp;classFactory,
           java.lang.String&nbsp;aggregateName,
           <a href="../../../../../../org/apache/derby/iapi/types/DataTypeDescriptor.html" title="class in org.apache.derby.iapi.types">DataTypeDescriptor</a>&nbsp;returnDataType)</pre>
<div class="block">Set's up the aggregate for processing.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>classFactory</code> - Database-specific class factory.</dd>
<dd><code>aggregateName</code> - For builtin aggregates, this is a SQL aggregate name like MAX. For user-defined aggregates, this is the name of the user-written class which implements org.apache.derby.agg.Aggregator.</dd>
<dd><code>returnDataType</code> - The type returned by the getResult() method.</dd>
</dl>
</li>
</ul>
<a name="accumulate-org.apache.derby.iapi.types.DataValueDescriptor-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>accumulate</h4>
<pre>void&nbsp;accumulate(<a href="../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>&nbsp;addend,
                java.lang.Object&nbsp;ga)
         throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Iteratively accumulates the addend into the aggregator.
 Called on each member of the set of values that is being
 aggregated.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>addend</code> - the DataValueDescriptor addend (current input to 
                                        the aggregation)</dd>
<dd><code>ga</code> - a result set getter</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - on error</dd>
</dl>
</li>
</ul>
<a name="merge-org.apache.derby.iapi.sql.execute.ExecAggregator-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>merge</h4>
<pre>void&nbsp;merge(<a href="../../../../../../org/apache/derby/iapi/sql/execute/ExecAggregator.html" title="interface in org.apache.derby.iapi.sql.execute">ExecAggregator</a>&nbsp;inputAggregator)
    throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Merges one aggregator into a another aggregator.
 Merges two partial aggregates results into a single result.
 Needed for: <UL>
        <LI> parallel aggregation </LI>
        <LI> vector aggregation (GROUP BY) </LI>
  <LI> distinct aggregates (e.g. MAX(DISTINCT Col)) </LI></UL><p>

 An example of a merge would be: given two COUNT() 
 aggregators, C1 and C2, a merge of C1 into C2 would
 set C1.count += C2.count.  So, given a <i>CountAggregator</i>
 with a <i>getCount()</i> method that returns its counts, its 
 merge method might look like this: <pre>

                public void merge(ExecAggregator inputAggregator) throws StandardException
                {
                &nbsp;&nbsp;&nbsp;count += ((CountAccgregator)inputAggregator).getCount();
                } </pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>inputAggregator</code> - the other Aggregator 
                                                        (input partial aggregate)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - on error</dd>
</dl>
</li>
</ul>
<a name="getResult--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getResult</h4>
<pre><a href="../../../../../../org/apache/derby/iapi/types/DataValueDescriptor.html" title="interface in org.apache.derby.iapi.types">DataValueDescriptor</a>&nbsp;getResult()
                       throws <a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></pre>
<div class="block">Produces the result to be returned by the query.
 The last processing of the aggregate.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/derby/iapi/error/StandardException.html" title="class in org.apache.derby.iapi.error">StandardException</a></code> - on error</dd>
</dl>
</li>
</ul>
<a name="newAggregator--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newAggregator</h4>
<pre><a href="../../../../../../org/apache/derby/iapi/sql/execute/ExecAggregator.html" title="interface in org.apache.derby.iapi.sql.execute">ExecAggregator</a>&nbsp;newAggregator()</pre>
<div class="block">Return a new initialized copy of this aggregator, any state
           set by the setup() method of the original Aggregator must be
           copied into the new aggregator.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>ExecAggregator the new aggregator</dd>
</dl>
</li>
</ul>
<a name="didEliminateNulls--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>didEliminateNulls</h4>
<pre>boolean&nbsp;didEliminateNulls()</pre>
<div class="block">Return true if the aggregation eliminated at least one
                null from the input data set.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Built on Mon 2017-07-03 23:03:59+0530, from revision Unversioned directory</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/derby/iapi/sql/execute/CursorResultSet.html" title="interface in org.apache.derby.iapi.sql.execute"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/apache/derby/iapi/sql/execute/ExecCursorTableReference.html" title="interface in org.apache.derby.iapi.sql.execute"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/derby/iapi/sql/execute/ExecAggregator.html" target="_top">Frames</a></li>
<li><a href="ExecAggregator.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Apache Derby V10.13 Internals - <i>Copyright &copy; 2004,2016 The Apache Software Foundation. All Rights Reserved.</i></small></p>
</body>
</html>
