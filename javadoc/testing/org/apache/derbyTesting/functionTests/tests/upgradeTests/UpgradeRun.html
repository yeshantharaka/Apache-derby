<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_66) on Mon Jul 03 23:06:18 IST 2017 -->
<title>UpgradeRun (Apache Derby V10.13 Test Javadoc)</title>
<meta name="date" content="2017-07-03">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="UpgradeRun (Apache Derby V10.13 Test Javadoc)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/derbyTesting/functionTests/tests/upgradeTests/UpgradeClassLoader.html" title="class in org.apache.derbyTesting.functionTests.tests.upgradeTests"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/apache/derbyTesting/functionTests/tests/upgradeTests/UpgradeTrajectoryTest.html" title="class in org.apache.derbyTesting.functionTests.tests.upgradeTests"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/derbyTesting/functionTests/tests/upgradeTests/UpgradeRun.html" target="_top">Frames</a></li>
<li><a href="UpgradeRun.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.derbyTesting.functionTests.tests.upgradeTests</div>
<h2 title="Class UpgradeRun" class="title">Class UpgradeRun</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../org/apache/derbyTesting/functionTests/tests/upgradeTests/UpgradeClassLoader.html" title="class in org.apache.derbyTesting.functionTests.tests.upgradeTests">org.apache.derbyTesting.functionTests.tests.upgradeTests.UpgradeClassLoader</a></li>
<li>
<ul class="inheritance">
<li>org.apache.derbyTesting.functionTests.tests.upgradeTests.UpgradeRun</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>class <span class="typeNameLabel">UpgradeRun</span>
extends <a href="../../../../../../org/apache/derbyTesting/functionTests/tests/upgradeTests/UpgradeClassLoader.html" title="class in org.apache.derbyTesting.functionTests.tests.upgradeTests">UpgradeClassLoader</a></pre>
<div class="block">Utility class for creating a set of tests that
 comprise a complete upgrade run through all
 five phases. This includes handling the
 class loading for the old jar files
 and setting up the configuration to
 use a single use database and DataSource for
 connections.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) static <a href="../../../../../../org/apache/derbyTesting/functionTests/tests/upgradeTests/AdditionalDb.html" title="class in org.apache.derbyTesting.functionTests.tests.upgradeTests">AdditionalDb</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derbyTesting/functionTests/tests/upgradeTests/UpgradeRun.html#ADDITIONAL_DBS">ADDITIONAL_DBS</a></span></code>
<div class="block">Set of additional databases for tests that
 require a one-off database.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.apache.derbyTesting.functionTests.tests.upgradeTests.UpgradeClassLoader">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.apache.derbyTesting.functionTests.tests.upgradeTests.<a href="../../../../../../org/apache/derbyTesting/functionTests/tests/upgradeTests/UpgradeClassLoader.html" title="class in org.apache.derbyTesting.functionTests.tests.upgradeTests">UpgradeClassLoader</a></h3>
<code><a href="../../../../../../org/apache/derbyTesting/functionTests/tests/upgradeTests/UpgradeClassLoader.html#jarPath">jarPath</a>, <a href="../../../../../../org/apache/derbyTesting/functionTests/tests/upgradeTests/UpgradeClassLoader.html#oldVersionsPath">oldVersionsPath</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derbyTesting/functionTests/tests/upgradeTests/UpgradeRun.html#UpgradeRun--">UpgradeRun</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private static junit.framework.Test</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derbyTesting/functionTests/tests/upgradeTests/UpgradeRun.html#baseSuite-java.lang.String-int-int:A-">baseSuite</a></span>(java.lang.String&nbsp;name,
         int&nbsp;phase,
         int[]&nbsp;version)</code>
<div class="block">Add the tests from the various Changes classes (sub-classes
 of UpgradeChange) to the base suite which corresponds to
 a single phase of a run against an old database version.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>private static junit.framework.Test</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derbyTesting/functionTests/tests/upgradeTests/UpgradeRun.html#handleJavaSE6-int-int:A-junit.framework.Test-">handleJavaSE6</a></span>(int&nbsp;phase,
             int[]&nbsp;version,
             junit.framework.Test&nbsp;test)</code>
<div class="block">When running against certains old releases in Java SE 6
 we need to setup the connections to the old
 database to not use the specific JDBC 4
 datasources (e.g.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>(package private) static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derbyTesting/functionTests/tests/upgradeTests/UpgradeRun.html#lessThan-int:A-int:A-">lessThan</a></span>(int[]&nbsp;left,
        int[]&nbsp;right)</code>
<div class="block">Return true if and only if the left version is less than the
 right version.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>private static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derbyTesting/functionTests/tests/upgradeTests/UpgradeRun.html#runDataBaseMetaDataTest-org.apache.derbyTesting.junit.BaseTestSuite-int-">runDataBaseMetaDataTest</a></span>(<a href="../../../../../../org/apache/derbyTesting/junit/BaseTestSuite.html" title="class in org.apache.derbyTesting.junit">BaseTestSuite</a>&nbsp;suite,
                       int&nbsp;oldMinor)</code>
<div class="block">Adds a subset of the tests from DatabaseMetaDataTest to the test suite.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>private static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derbyTesting/functionTests/tests/upgradeTests/UpgradeRun.html#suffersFromDerby4835or5289-int:A-">suffersFromDerby4835or5289</a></span>(int[]&nbsp;version)</code>
<div class="block">Check if a version suffers from DERBY-4835 or DERBY-5289.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static junit.framework.Test</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/derbyTesting/functionTests/tests/upgradeTests/UpgradeRun.html#suite-int:A-boolean-">suite</a></span>(int[]&nbsp;version,
     boolean&nbsp;useCreateOnUpgrade)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.derbyTesting.functionTests.tests.upgradeTests.UpgradeClassLoader">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.derbyTesting.functionTests.tests.upgradeTests.<a href="../../../../../../org/apache/derbyTesting/functionTests/tests/upgradeTests/UpgradeClassLoader.html" title="class in org.apache.derbyTesting.functionTests.tests.upgradeTests">UpgradeClassLoader</a></h3>
<code><a href="../../../../../../org/apache/derbyTesting/functionTests/tests/upgradeTests/UpgradeClassLoader.html#getTextVersion-int:A-">getTextVersion</a>, <a href="../../../../../../org/apache/derbyTesting/functionTests/tests/upgradeTests/UpgradeClassLoader.html#makeClassLoader-int:A-">makeClassLoader</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="ADDITIONAL_DBS">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ADDITIONAL_DBS</h4>
<pre>static final&nbsp;<a href="../../../../../../org/apache/derbyTesting/functionTests/tests/upgradeTests/AdditionalDb.html" title="class in org.apache.derbyTesting.functionTests.tests.upgradeTests">AdditionalDb</a>[] ADDITIONAL_DBS</pre>
<div class="block">Set of additional databases for tests that
 require a one-off database. The additional
 database decorator wraps all the tests and phases.
 They are only created if a test opens a
 connection against them. In hard upgrade the test
 must explictly upgrade the database.
 The databases are shutdown at the end of each phase, unless
 "NoShutDown" is specified. The latter is used by databases
 which need sqlAuthorization (specified by test). This thwarts
 normal shutdown since credentials are required so shutdown is
 done in test, not by the tearDown methods. See
 Changes10_5#testSQLRoles for example.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="UpgradeRun--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>UpgradeRun</h4>
<pre>UpgradeRun()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="suite-int:A-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>suite</h4>
<pre>public static&nbsp;junit.framework.Test&nbsp;suite(int[]&nbsp;version,
                                         boolean&nbsp;useCreateOnUpgrade)</pre>
</li>
</ul>
<a name="baseSuite-java.lang.String-int-int:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>baseSuite</h4>
<pre>private static&nbsp;junit.framework.Test&nbsp;baseSuite(java.lang.String&nbsp;name,
                                              int&nbsp;phase,
                                              int[]&nbsp;version)</pre>
<div class="block">Add the tests from the various Changes classes (sub-classes
 of UpgradeChange) to the base suite which corresponds to
 a single phase of a run against an old database version.
 <BR>
 Changes are only added if the old version is older than
 then version the changes represent. Thus Changes10_2
 is not added if the old database (upgrade from) is already
 at 10.2, since Changes10_2 is intended to test upgrade
 from an older version to 10.2.
 <BR>
 This is for two reasons:
 <OL>
 <LI> Prevents an endless increase in number of test
 cases that do no real testing. 
 <LI> Simplifies test fixtures by allowing them to
 focus on cases where testing is required, and not
 handling all future situations.
 </OL></div>
</li>
</ul>
<a name="suffersFromDerby4835or5289-int:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>suffersFromDerby4835or5289</h4>
<pre>private static&nbsp;boolean&nbsp;suffersFromDerby4835or5289(int[]&nbsp;version)</pre>
<div class="block">Check if a version suffers from DERBY-4835 or DERBY-5289.</div>
</li>
</ul>
<a name="lessThan-int:A-int:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lessThan</h4>
<pre>static&nbsp;boolean&nbsp;lessThan(int[]&nbsp;left,
                        int[]&nbsp;right)</pre>
<div class="block">Return true if and only if the left version is less than the
 right version.</div>
</li>
</ul>
<a name="handleJavaSE6-int-int:A-junit.framework.Test-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleJavaSE6</h4>
<pre>private static&nbsp;junit.framework.Test&nbsp;handleJavaSE6(int&nbsp;phase,
                                                  int[]&nbsp;version,
                                                  junit.framework.Test&nbsp;test)</pre>
<div class="block">When running against certains old releases in Java SE 6
 we need to setup the connections to the old
 database to not use the specific JDBC 4
 datasources (e.g. EmbeddedDataSource40).
 (Since they don't exist in the old release).</div>
</li>
</ul>
<a name="runDataBaseMetaDataTest-org.apache.derbyTesting.junit.BaseTestSuite-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>runDataBaseMetaDataTest</h4>
<pre>private static&nbsp;void&nbsp;runDataBaseMetaDataTest(<a href="../../../../../../org/apache/derbyTesting/junit/BaseTestSuite.html" title="class in org.apache.derbyTesting.junit">BaseTestSuite</a>&nbsp;suite,
                                            int&nbsp;oldMinor)</pre>
<div class="block">Adds a subset of the tests from DatabaseMetaDataTest to the test suite.
 <p>
 We want to run DatabaseMetaDataTest, but it includes some
 features not supported in older versions, so we cannot just
 add the DatabaseMetaDataTest.class as is.
 Note also, that this does not execute fixture initialCompilationTest.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Built on Mon 2017-07-03 23:03:59+0530, from revision Unversioned directory</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/derbyTesting/functionTests/tests/upgradeTests/UpgradeClassLoader.html" title="class in org.apache.derbyTesting.functionTests.tests.upgradeTests"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/apache/derbyTesting/functionTests/tests/upgradeTests/UpgradeTrajectoryTest.html" title="class in org.apache.derbyTesting.functionTests.tests.upgradeTests"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/derbyTesting/functionTests/tests/upgradeTests/UpgradeRun.html" target="_top">Frames</a></li>
<li><a href="UpgradeRun.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Apache Derby V10.13 Internals - <i>Copyright &copy; 2004,2016 The Apache Software Foundation. All Rights Reserved.</i></small></p>
</body>
</html>
